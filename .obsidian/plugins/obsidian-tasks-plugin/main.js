/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source visit the plugins github repository
*/

/*
License obsidian-tasks:
MIT License

Copyright (c) 2021 Clare Macrae, Ilyas Landikov and Martin Schenck

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/

/*
License rrule (included library):
rrule.js: Library for working with recurrence rules for calendar dates.
=======================================================================

Copyright 2010, Jakub Roztocil <jakub@roztocil.name> and Lars Schöning

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

    1. Redistributions of source code must retain the above copyright notice,
       this list of conditions and the following disclaimer.

    2. Redistributions in binary form must reproduce the above copyright
       notice, this list of conditions and the following disclaimer in the
       documentation and/or other materials provided with the distribution.

    3. Neither the name of The author nor the names of its contributors may
       be used to endorse or promote products derived from this software
       without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE AUTHOR AND CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.



./rrule.js and ./test/tests.js is based on python-dateutil. LICENCE:

python-dateutil - Extensions to the standard Python datetime module.
====================================================================

Copyright (c) 2003-2011 - Gustavo Niemeyer <gustavo@niemeyer.net>
Copyright (c) 2012 - Tomi Pieviläinen <tomi.pievilainen@iki.fi>

All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright notice,
      this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright notice,
      this list of conditions and the following disclaimer in the documentation
      and/or other materials provided with the distribution.
    * Neither the name of the copyright holder nor the names of its
      contributors may be used to endorse or promote products derived from
      this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

/*
License chrono-node (included library):
The MIT License

Copyright (c) 2014, Wanasit Tanakitrungruang
*/

/*
License flatpickr (included library):
The MIT License (MIT)

Copyright (c) 2017 Gregory Petrosyan
*/

/*
License @floating-ui/dom (included library):

MIT License

Copyright (c) 2021 Floating UI contributors
*/

/*
License boon-js (included library):

The MIT License (MIT)

Copyright (c) 2020-present Jake Chorley
*/

/*
License eventemitter2 (included library):

The MIT License (MIT)

Copyright (c) 2016 Paolo Fragomeni <http://www.github.com/0x00a> and Contributors
*/

/*
License i18next (included library):

The MIT License (MIT)

Copyright (c) 2025 i18next
*/

/*
License i18next-browser-languagedetector (included library):

The MIT License (MIT)

Copyright (c) 2024 i18next
*/

/*
License mustache (included library):

The MIT License

Copyright (c) 2009 Chris Wanstrath (Ruby)
Copyright (c) 2010-2014 Jan Lehnardt (JavaScript)
Copyright (c) 2010-2015 The mustache.js community
*/

/*
License mustache-validator (included library):

MIT License

Copyright (c) 2022 Elias Mangoro
*/

"use strict";var A0=Object.create;var qo=Object.defineProperty,P0=Object.defineProperties,N0=Object.getOwnPropertyDescriptor,I0=Object.getOwnPropertyDescriptors,F0=Object.getOwnPropertyNames,Fu=Object.getOwnPropertySymbols,L0=Object.getPrototypeOf,If=Object.prototype.hasOwnProperty,Sb=Object.prototype.propertyIsEnumerable;var kb=(n,t,e)=>t in n?qo(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,U=(n,t)=>{for(var e in t||(t={}))If.call(t,e)&&kb(n,e,t[e]);if(Fu)for(var e of Fu(t))Sb.call(t,e)&&kb(n,e,t[e]);return n},me=(n,t)=>P0(n,I0(t));var pa=(n,t)=>{var e={};for(var r in n)If.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&Fu)for(var r of Fu(n))t.indexOf(r)<0&&Sb.call(n,r)&&(e[r]=n[r]);return e};var te=(n,t)=>()=>(n&&(t=n(n=0)),t);var x=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),Eb=(n,t)=>{for(var e in t)qo(n,e,{get:t[e],enumerable:!0})},Db=(n,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of F0(t))!If.call(n,i)&&i!==e&&qo(n,i,{get:()=>t[i],enumerable:!(r=N0(t,i))||r.enumerable});return n};var Yo=(n,t,e)=>(e=n!=null?A0(L0(n)):{},Db(t||!n||!n.__esModule?qo(e,"default",{value:n,enumerable:!0}):e,n)),xb=n=>Db(qo({},"__esModule",{value:!0}),n);var L=(n,t,e)=>new Promise((r,i)=>{var s=l=>{try{o(e.next(l))}catch(u){i(u)}},a=l=>{try{o(e.throw(l))}catch(u){i(u)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,a);o((e=e.apply(n,t)).next())});var Te,Ho,Ob,U0,j0,Cb,Mb,Go,Rb,W0,Uu,$0,Ub,ma,q0,Y0,Lf,H0,G0,B0,Uf,ju,V0,ga,Lr,ya,Wu,jb,Ab,ba,$u,Pb,Nb,jf,Ib,Ff,Wf,z0,ha,$f,K0,qf,Fb,Lb,Lu,Q0,hs,yt,sW,aW,oW,lW,uW,cW,dW,fW,pW,mW,hW,gW,yW,bW,Wb=te(()=>{Te=n=>typeof n=="string",Ho=()=>{let n,t,e=new Promise((r,i)=>{n=r,t=i});return e.resolve=n,e.reject=t,e},Ob=n=>n==null?"":""+n,U0=(n,t,e)=>{n.forEach(r=>{t[r]&&(e[r]=t[r])})},j0=/###/g,Cb=n=>n&&n.indexOf("###")>-1?n.replace(j0,"."):n,Mb=n=>!n||Te(n),Go=(n,t,e)=>{let r=Te(t)?t.split("."):t,i=0;for(;i<r.length-1;){if(Mb(n))return{};let s=Cb(r[i]);!n[s]&&e&&(n[s]=new e),Object.prototype.hasOwnProperty.call(n,s)?n=n[s]:n={},++i}return Mb(n)?{}:{obj:n,k:Cb(r[i])}},Rb=(n,t,e)=>{let{obj:r,k:i}=Go(n,t,Object);if(r!==void 0||t.length===1){r[i]=e;return}let s=t[t.length-1],a=t.slice(0,t.length-1),o=Go(n,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=Go(n,a,Object),(o==null?void 0:o.obj)&&typeof o.obj[`${o.k}.${s}`]!="undefined"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=e},W0=(n,t,e,r)=>{let{obj:i,k:s}=Go(n,t,Object);i[s]=i[s]||[],i[s].push(e)},Uu=(n,t)=>{let{obj:e,k:r}=Go(n,t);if(!!e&&!!Object.prototype.hasOwnProperty.call(e,r))return e[r]},$0=(n,t,e)=>{let r=Uu(n,e);return r!==void 0?r:Uu(t,e)},Ub=(n,t,e)=>{for(let r in t)r!=="__proto__"&&r!=="constructor"&&(r in n?Te(n[r])||n[r]instanceof String||Te(t[r])||t[r]instanceof String?e&&(n[r]=t[r]):Ub(n[r],t[r],e):n[r]=t[r]);return n},ma=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),q0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},Y0=n=>Te(n)?n.replace(/[&<>"'\/]/g,t=>q0[t]):n,Lf=class{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){let e=this.regExpMap.get(t);if(e!==void 0)return e;let r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}},H0=[" ",",","?","!",";"],G0=new Lf(20),B0=(n,t,e)=>{t=t||"",e=e||"";let r=H0.filter(a=>t.indexOf(a)<0&&e.indexOf(a)<0);if(r.length===0)return!0;let i=G0.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`),s=!i.test(n);if(!s){let a=n.indexOf(e);a>0&&!i.test(n.substring(0,a))&&(s=!0)}return s},Uf=function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[t])return Object.prototype.hasOwnProperty.call(n,t)?n[t]:void 0;let r=t.split(e),i=n;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let a,o="";for(let l=s;l<r.length;++l)if(l!==s&&(o+=e),o+=r[l],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=a}return i},ju=n=>n==null?void 0:n.replace("_","-"),V0={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,t){var e,r;(r=(e=console==null?void 0:console[n])==null?void 0:e.apply)==null||r.call(e,console,t)}},ga=class{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,e)}init(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||V0,this.options=e,this.debug=e.debug}log(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"log","",!0)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"warn","",!0)}error(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"error","")}deprecate(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(t,e,r,i){return i&&!this.debug?null:(Te(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[e](t))}create(t){return new ga(this.logger,U({prefix:`${this.prefix}:${t}:`},this.options))}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new ga(this.logger,t)}},Lr=new ga,ya=class{constructor(){this.observers={}}on(t,e){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);let i=this.observers[r].get(e)||0;this.observers[r].set(e,i+1)}),this}off(t,e){if(!!this.observers[t]){if(!e){delete this.observers[t];return}this.observers[t].delete(e)}}emit(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o.apply(o,[t,...r])})}},Wu=class extends ya{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){let e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}getResource(t,e,r){var u,c;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure,o;t.indexOf(".")>-1?o=t.split("."):(o=[t,e],r&&(Array.isArray(r)?o.push(...r):Te(r)&&s?o.push(...r.split(s)):o.push(r)));let l=Uu(this.data,o);return!l&&!e&&!r&&t.indexOf(".")>-1&&(t=o[0],e=o[1],r=o.slice(2).join(".")),l||!a||!Te(r)?l:Uf((c=(u=this.data)==null?void 0:u[t])==null?void 0:c[e],r,s)}addResource(t,e,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=[t,e];r&&(o=o.concat(a?r.split(a):r)),t.indexOf(".")>-1&&(o=t.split("."),i=e,e=o[1]),this.addNamespaces(e),Rb(this.data,o,i),s.silent||this.emit("added",t,e,r,i)}addResources(t,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(let s in r)(Te(r[s])||Array.isArray(r[s]))&&this.addResource(t,e,s,r[s],{silent:!0});i.silent||this.emit("added",t,e,r)}addResourceBundle(t,e,r,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[t,e];t.indexOf(".")>-1&&(o=t.split("."),i=r,r=e,e=o[1]),this.addNamespaces(e);let l=Uu(this.data,o)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?Ub(l,r,s):l=U(U({},l),r),Rb(this.data,o,l),a.silent||this.emit("added",t,e,r)}removeResourceBundle(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}hasResourceBundle(t,e){return this.getResource(t,e)!==void 0}getResourceBundle(t,e){return e||(e=this.options.defaultNS),this.getResource(t,e)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){let e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find(i=>e[i]&&Object.keys(e[i]).length>0)}toJSON(){return this.data}},jb={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,t,e,r,i){return n.forEach(s=>{var a,o;t=(o=(a=this.processors[s])==null?void 0:a.process(t,e,r,i))!=null?o:t}),t}},Ab={},ba=class extends ya{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),U0(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Lr.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;let r=this.resolve(t,e);return(r==null?void 0:r.res)!==void 0}extractFromKey(t,e){let r=e.nsSeparator!==void 0?e.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");let i=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator,s=e.ns||this.options.defaultNS||[],a=r&&t.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!e.keySeparator&&!this.options.userDefinedNsSeparator&&!e.nsSeparator&&!B0(t,r,i);if(a&&!o){let l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:Te(s)?[s]:s};let u=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(i)}return{key:t,namespaces:Te(s)?[s]:s}}translate(t,e,r){if(typeof e!="object"&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),typeof e=="object"&&(e=U({},e)),e||(e={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);let i=e.returnDetails!==void 0?e.returnDetails:this.options.returnDetails,s=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(t[t.length-1],e),l=o[o.length-1],u=e.lng||this.language,c=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((u==null?void 0:u.toLowerCase())==="cimode"){if(c){let j=e.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${j}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(e)}:`${l}${j}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(e)}:a}let d=this.resolve(t,e),f=d==null?void 0:d.res,p=(d==null?void 0:d.usedKey)||a,b=(d==null?void 0:d.exactUsedKey)||a,T=Object.prototype.toString.apply(f),_=["[object Number]","[object Function]","[object RegExp]"],O=e.joinArrays!==void 0?e.joinArrays:this.options.joinArrays,D=!this.i18nFormat||this.i18nFormat.handleAsObject,A=!Te(f)&&typeof f!="boolean"&&typeof f!="number";if(D&&f&&A&&_.indexOf(T)<0&&!(Te(O)&&Array.isArray(f))){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let j=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,f,me(U({},e),{ns:o})):`key '${a} (${this.language})' returned an object instead of string.`;return i?(d.res=j,d.usedParams=this.getUsedParamsDetails(e),d):j}if(s){let j=Array.isArray(f),Y=j?[]:{},se=j?b:p;for(let H in f)if(Object.prototype.hasOwnProperty.call(f,H)){let Z=`${se}${s}${H}`;Y[H]=this.translate(Z,me(U({},e),{joinArrays:!1,ns:o})),Y[H]===Z&&(Y[H]=f[H])}f=Y}}else if(D&&Te(O)&&Array.isArray(f))f=f.join(O),f&&(f=this.extendTranslation(f,t,e,r));else{let j=!1,Y=!1,se=e.count!==void 0&&!Te(e.count),H=ba.hasDefaultValue(e),Z=se?this.pluralResolver.getSuffix(u,e.count,e):"",ye=e.ordinal&&se?this.pluralResolver.getSuffix(u,e.count,{ordinal:!1}):"",we=se&&!e.ordinal&&e.count===0,V=we&&e[`defaultValue${this.options.pluralSeparator}zero`]||e[`defaultValue${Z}`]||e[`defaultValue${ye}`]||e.defaultValue;!this.isValidLookup(f)&&H&&(j=!0,f=V),this.isValidLookup(f)||(Y=!0,f=a);let C=(e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Y?void 0:f,J=H&&V!==f&&this.options.updateMissing;if(Y||j||J){if(this.logger.log(J?"updateKey":"missingKey",u,l,a,J?V:f),s){let y=this.resolve(a,me(U({},e),{keySeparator:!1}));y&&y.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let q=[],oe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if(this.options.saveMissingTo==="fallback"&&oe&&oe[0])for(let y=0;y<oe.length;y++)q.push(oe[y]);else this.options.saveMissingTo==="all"?q=this.languageUtils.toResolveHierarchy(e.lng||this.language):q.push(e.lng||this.language);let m=(y,v,w)=>{var M;let S=H&&w!==f?w:C;this.options.missingKeyHandler?this.options.missingKeyHandler(y,l,v,S,J,e):(M=this.backendConnector)!=null&&M.saveMissing&&this.backendConnector.saveMissing(y,l,v,S,J,e),this.emit("missingKey",y,l,v,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&se?q.forEach(y=>{let v=this.pluralResolver.getSuffixes(y,e);we&&e[`defaultValue${this.options.pluralSeparator}zero`]&&v.indexOf(`${this.options.pluralSeparator}zero`)<0&&v.push(`${this.options.pluralSeparator}zero`),v.forEach(w=>{m([y],a+w,e[`defaultValue${w}`]||V)})}):m(q,a,V))}f=this.extendTranslation(f,t,e,d,r),Y&&f===a&&this.options.appendNamespaceToMissingKey&&(f=`${l}:${a}`),(Y||j)&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,j?f:void 0))}return i?(d.res=f,d.usedParams=this.getUsedParamsDetails(e),d):f}extendTranslation(t,e,r,i,s){var u,c;var a=this;if((u=this.i18nFormat)!=null&&u.parse)t=this.i18nFormat.parse(t,U(U({},this.options.interpolation.defaultVariables),r),r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init(me(U({},r),{interpolation:U(U({},this.options.interpolation),r.interpolation)}));let d=Te(t)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),f;if(d){let b=t.match(this.interpolator.nestingRegexp);f=b&&b.length}let p=r.replace&&!Te(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(p=U(U({},this.options.interpolation.defaultVariables),p)),t=this.interpolator.interpolate(t,p,r.lng||this.language||i.usedLng,r),d){let b=t.match(this.interpolator.nestingRegexp),T=b&&b.length;f<T&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var b=arguments.length,T=new Array(b),_=0;_<b;_++)T[_]=arguments[_];return(s==null?void 0:s[0])===T[0]&&!r.context?(a.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${e[0]}`),null):a.translate(...T,e)},r)),r.interpolation&&this.interpolator.reset()}let o=r.postProcess||this.options.postProcess,l=Te(o)?[o]:o;return t!=null&&(l==null?void 0:l.length)&&r.applyPostProcessor!==!1&&(t=jb.handle(l,t,e,this.options&&this.options.postProcessPassResolved?U({i18nResolved:me(U({},i),{usedParams:this.getUsedParamsDetails(r)})},r):r,this)),t}resolve(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,s,a,o;return Te(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;let u=this.extractFromKey(l,e),c=u.key;i=c;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));let f=e.count!==void 0&&!Te(e.count),p=f&&!e.ordinal&&e.count===0,b=e.context!==void 0&&(Te(e.context)||typeof e.context=="number")&&e.context!=="",T=e.lngs?e.lngs:this.languageUtils.toResolveHierarchy(e.lng||this.language,e.fallbackLng);d.forEach(_=>{var O,D;this.isValidLookup(r)||(o=_,!Ab[`${T[0]}-${_}`]&&((O=this.utils)==null?void 0:O.hasLoadedNamespace)&&!((D=this.utils)!=null&&D.hasLoadedNamespace(o))&&(Ab[`${T[0]}-${_}`]=!0,this.logger.warn(`key "${i}" for languages "${T.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),T.forEach(A=>{var se;if(this.isValidLookup(r))return;a=A;let j=[c];if((se=this.i18nFormat)!=null&&se.addLookupKeys)this.i18nFormat.addLookupKeys(j,c,A,_,e);else{let H;f&&(H=this.pluralResolver.getSuffix(A,e.count,e));let Z=`${this.options.pluralSeparator}zero`,ye=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(j.push(c+H),e.ordinal&&H.indexOf(ye)===0&&j.push(c+H.replace(ye,this.options.pluralSeparator)),p&&j.push(c+Z)),b){let we=`${c}${this.options.contextSeparator}${e.context}`;j.push(we),f&&(j.push(we+H),e.ordinal&&H.indexOf(ye)===0&&j.push(we+H.replace(ye,this.options.pluralSeparator)),p&&j.push(we+Z))}}let Y;for(;Y=j.pop();)this.isValidLookup(r)||(s=Y,r=this.getResource(A,_,Y,e))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,e,r){var s;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(t,e,r,i):this.resourceStore.getResource(t,e,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!Te(t.replace),i=r?t.replace:t;if(r&&typeof t.count!="undefined"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i=U(U({},this.options.interpolation.defaultVariables),i)),!r){i=U({},i);for(let s of e)delete i[s]}return i}static hasDefaultValue(t){let e="defaultValue";for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e===r.substring(0,e.length)&&t[r]!==void 0)return!0;return!1}},$u=class{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Lr.create("languageUtils")}getScriptPartFromCode(t){if(t=ju(t),!t||t.indexOf("-")<0)return null;let e=t.split("-");return e.length===2||(e.pop(),e[e.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(e.join("-"))}getLanguagePartFromCode(t){if(t=ju(t),!t||t.indexOf("-")<0)return t;let e=t.split("-");return this.formatLanguageCode(e[0])}formatLanguageCode(t){if(Te(t)&&t.indexOf("-")>-1){let e;try{e=Intl.getCanonicalLocales(t)[0]}catch(r){}return e&&this.options.lowerCaseLng&&(e=e.toLowerCase()),e||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let e;return t.forEach(r=>{if(e)return;let i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(e=i)}),!e&&this.options.supportedLngs&&t.forEach(r=>{if(e)return;let i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return e=i;e=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e}getFallbackCodes(t,e){if(!t)return[];if(typeof t=="function"&&(t=t(e)),Te(t)&&(t=[t]),Array.isArray(t))return t;if(!e)return t.default||[];let r=t[e];return r||(r=t[this.getScriptPartFromCode(e)]),r||(r=t[this.formatLanguageCode(e)]),r||(r=t[this.getLanguagePartFromCode(e)]),r||(r=t.default),r||[]}toResolveHierarchy(t,e){let r=this.getFallbackCodes(e||this.options.fallbackLng||[],t),i=[],s=a=>{!a||(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Te(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):Te(t)&&s(this.formatLanguageCode(t)),r.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}},Pb={zero:0,one:1,two:2,few:3,many:4,other:5},Nb={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})},jf=class{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=e,this.logger=Lr.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,e){this.rules[t]=e}clearCache(){this.pluralRulesCache={}}getRule(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=ju(t==="dev"?"en":t),i=e.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(r,{type:i})}catch(o){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Nb;if(!t.match(/-|_/))return Nb;let l=this.languageUtils.getLanguagePartFromCode(t);a=this.getRule(l,e)}return this.pluralRulesCache[s]=a,a}needsPlural(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(t,e);return r||(r=this.getRule("dev",e)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${e}${i}`)}getSuffixes(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(t,e);return r||(r=this.getRule("dev",e)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>Pb[i]-Pb[s]).map(i=>`${this.options.prepend}${e.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=this.getRule(t,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(e)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",e,r))}},Ib=function(n,t,e){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=$0(n,t,e);return!s&&i&&Te(e)&&(s=Uf(n,e,r),s===void 0&&(s=Uf(t,e,r))),s},Ff=n=>n.replace(/\$/g,"$$$$"),Wf=class{constructor(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Lr.create("interpolator"),this.options=t,this.format=((e=t==null?void 0:t.interpolation)==null?void 0:e.format)||(r=>r),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});let{escape:e,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:f,nestingPrefixEscaped:p,nestingSuffix:b,nestingSuffixEscaped:T,nestingOptionsSeparator:_,maxReplaces:O,alwaysFormat:D}=t.interpolation;this.escape=e!==void 0?e:Y0,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?ma(s):a||"{{",this.suffix=o?ma(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=f?ma(f):p||ma("$t("),this.nestingSuffix=b?ma(b):T||ma(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=O||1e3,this.alwaysFormat=D!==void 0?D:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let t=(e,r)=>(e==null?void 0:e.source)===r?(e.lastIndex=0,e):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,e,r,i){var p;let s,a,o,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=b=>{if(b.indexOf(this.formatSeparator)<0){let D=Ib(e,l,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(D,void 0,r,me(U(U({},i),e),{interpolationkey:b})):D}let T=b.split(this.formatSeparator),_=T.shift().trim(),O=T.join(this.formatSeparator).trim();return this.format(Ib(e,l,_,this.options.keySeparator,this.options.ignoreJSONStructure),O,r,me(U(U({},i),e),{interpolationkey:_}))};this.resetRegExp();let c=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>Ff(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?Ff(this.escape(b)):Ff(b)}].forEach(b=>{for(o=0;s=b.regex.exec(t);){let T=s[1].trim();if(a=u(T),a===void 0)if(typeof c=="function"){let O=c(t,s,i);a=Te(O)?O:""}else if(i&&Object.prototype.hasOwnProperty.call(i,T))a="";else if(d){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${T} for interpolating ${t}`),a="";else!Te(a)&&!this.useRawValueToEscape&&(a=Ob(a));let _=b.safeValue(a);if(t=t.replace(s[0],_),d?(b.regex.lastIndex+=a.length,b.regex.lastIndex-=s[0].length):b.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),t}nest(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,a,o=(l,u)=>{var T;let c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;let d=l.split(new RegExp(`${c}[ ]*{`)),f=`{${d[1]}`;l=d[0],f=this.interpolate(f,a);let p=f.match(/'/g),b=f.match(/"/g);(((T=p==null?void 0:p.length)!=null?T:0)%2===0&&!b||b.length%2!==0)&&(f=f.replace(/'/g,'"'));try{a=JSON.parse(f),u&&(a=U(U({},u),a))}catch(_){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,_),`${l}${c}${f}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(t);){let l=[];a=U({},r),a=a.replace&&!Te(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){let c=i[1].split(this.formatSeparator).map(d=>d.trim());i[1]=c.shift(),l=c,u=!0}if(s=e(o.call(this,i[1].trim(),a),a),s&&i[0]===t&&!Te(s))return s;Te(s)||(s=Ob(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),s=""),u&&(s=l.reduce((c,d)=>this.format(c,d,r.lng,me(U({},r),{interpolationkey:i[1].trim()})),s.trim())),t=t.replace(i[0],s),this.regexp.lastIndex=0}return t}},z0=n=>{let t=n.toLowerCase().trim(),e={};if(n.indexOf("(")>-1){let r=n.split("(");t=r[0].toLowerCase().trim();let i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?e.currency||(e.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?e.range||(e.range=i.trim()):i.split(";").forEach(a=>{if(a){let[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=o.trim();e[c]||(e[c]=u),u==="false"&&(e[c]=!1),u==="true"&&(e[c]=!0),isNaN(u)||(e[c]=parseInt(u,10))}})}return{formatName:t,formatOptions:e}},ha=n=>{let t={};return(e,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s=me(U({},s),{[i.interpolationkey]:void 0}));let a=r+JSON.stringify(s),o=t[a];return o||(o=n(ju(r),i),t[a]=o),o(e)}},$f=class{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Lr.create("formatter"),this.options=t,this.formats={number:ha((e,r)=>{let i=new Intl.NumberFormat(e,U({},r));return s=>i.format(s)}),currency:ha((e,r)=>{let i=new Intl.NumberFormat(e,me(U({},r),{style:"currency"}));return s=>i.format(s)}),datetime:ha((e,r)=>{let i=new Intl.DateTimeFormat(e,U({},r));return s=>i.format(s)}),relativetime:ha((e,r)=>{let i=new Intl.RelativeTimeFormat(e,U({},r));return s=>i.format(s,r.range||"day")}),list:ha((e,r)=>{let i=new Intl.ListFormat(e,U({},r));return s=>i.format(s)})},this.init(t)}init(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=e.interpolation.formatSeparator||","}add(t,e){this.formats[t.toLowerCase().trim()]=e}addCached(t,e){this.formats[t.toLowerCase().trim()]=ha(e)}format(t,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=e.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){let o=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,l)=>{var d;let{formatName:u,formatOptions:c}=z0(l);if(this.formats[u]){let f=o;try{let p=((d=i==null?void 0:i.formatParams)==null?void 0:d[i.interpolationkey])||{},b=p.locale||p.lng||i.locale||i.lng||r;f=this.formats[u](o,b,U(U(U({},c),i),p))}catch(p){this.logger.warn(p)}return f}else this.logger.warn(`there was no format function for ${u}`);return o},t)}},K0=(n,t)=>{n.pending[t]!==void 0&&(delete n.pending[t],n.pendingCount--)},qf=class extends ya{constructor(t,e,r){var s,a;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=e,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Lr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(a=(s=this.backend)==null?void 0:s.init)==null||a.call(s,r,i.backend,i)}queueLoad(t,e,r,i){let s={},a={},o={},l={};return t.forEach(u=>{let c=!0;e.forEach(d=>{let f=`${u}|${d}`;!r.reload&&this.store.hasResourceBundle(u,d)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?a[f]===void 0&&(a[f]=!0):(this.state[f]=1,c=!1,a[f]===void 0&&(a[f]=!0),s[f]===void 0&&(s[f]=!0),l[d]===void 0&&(l[d]=!0)))}),c||(o[u]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(t,e,r){let i=t.split("|"),s=i[0],a=i[1];e&&this.emit("failedLoading",s,a,e),!e&&r&&this.store.addResourceBundle(s,a,r,void 0,void 0,{skipCopy:!0}),this.state[t]=e?-1:2,e&&r&&(this.state[t]=0);let o={};this.queue.forEach(l=>{W0(l.loaded,[s],a),K0(l,t),e&&l.errors.push(e),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});let c=l.loaded[u];c.length&&c.forEach(d=>{o[u][d]===void 0&&(o[u][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(t,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:e,fcName:r,tried:i,wait:s,callback:a});return}this.readingCalls++;let o=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){let d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,e,r,i+1,s*2,a)},s);return}a(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{let u=l(t,e);u&&typeof u.then=="function"?u.then(c=>o(null,c)).catch(o):o(null,u)}catch(u){o(u)}return}return l(t,e,o)}prepareLoading(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Te(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Te(e)&&(e=[e]);let s=this.queueLoad(t,e,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(t,e,r){this.prepareLoading(t,e,{},r)}reload(t,e,r){this.prepareLoading(t,e,{reload:!0},r)}loadOne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=t.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${e}loading namespace ${s} for language ${i} failed`,a),!a&&o&&this.logger.log(`${e}loaded namespace ${s} for language ${i}`,o),this.loaded(t,a,o)})}saveMissing(t,e,r,i,s){var l,u,c,d,f;let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(((u=(l=this.services)==null?void 0:l.utils)==null?void 0:u.hasLoadedNamespace)&&!((d=(c=this.services)==null?void 0:c.utils)!=null&&d.hasLoadedNamespace(e))){this.logger.warn(`did not save key "${r}" as the namespace "${e}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((f=this.backend)!=null&&f.create){let p=me(U({},a),{isUpdate:s}),b=this.backend.create.bind(this.backend);if(b.length<6)try{let T;b.length===5?T=b(t,e,r,i,p):T=b(t,e,r,i),T&&typeof T.then=="function"?T.then(_=>o(null,_)).catch(o):o(null,T)}catch(T){o(T)}else b(t,e,r,i,o,p)}!t||!t[0]||this.store.addResource(t[0],e,r,i)}}},Fb=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let t={};if(typeof n[1]=="object"&&(t=n[1]),Te(n[1])&&(t.defaultValue=n[1]),Te(n[2])&&(t.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){let e=n[3]||n[2];Object.keys(e).forEach(r=>{t[r]=e[r]})}return t},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Lb=n=>{var t,e;return Te(n.ns)&&(n.ns=[n.ns]),Te(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Te(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((e=(t=n.supportedLngs)==null?void 0:t.indexOf)==null?void 0:e.call(t,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},Lu=()=>{},Q0=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(e=>{typeof n[e]=="function"&&(n[e]=n[e].bind(n))})},hs=class extends ya{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Lb(t),this.services={},this.logger=Lr,this.modules={external:[]},Q0(this),e&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,e),this;setTimeout(()=>{this.init(t,e)},0)}}init(){var t=this;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(Te(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));let i=Fb();this.options=U(U(U({},i),this.options),Lb(e)),this.options.interpolation=U(U({},i.interpolation),this.options.interpolation),e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);let s=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Lr.init(s(this.modules.logger),this.options):Lr.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=$f;let d=new $u(this.options);this.store=new Wu(this.options.resources,this.options);let f=this.services;f.logger=Lr,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new jf(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(f.formatter=s(c),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Wf(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new qf(s(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(p){for(var b=arguments.length,T=new Array(b>1?b-1:0),_=1;_<b;_++)T[_-1]=arguments[_];t.emit(p,...T)}),this.modules.languageDetector&&(f.languageDetector=s(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=s(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new ba(this.services,this.options),this.translator.on("*",function(p){for(var b=arguments.length,T=new Array(b>1?b-1:0),_=1;_<b;_++)T[_-1]=arguments[_];t.emit(p,...T)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Lu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return t.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return t.store[c](...arguments),t}});let l=Ho(),u=()=>{let c=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(d,f)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),l}loadResources(t){var s,a;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Lu,i=Te(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();let o=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(d=>{d!=="cimode"&&o.indexOf(d)<0&&o.push(d)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),(a=(s=this.options.preload)==null?void 0:s.forEach)==null||a.call(s,u=>l(u)),this.services.backendConnector.load(o,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(t,e,r){let i=Ho();return typeof t=="function"&&(r=t,t=void 0),typeof e=="function"&&(r=e,e=void 0),t||(t=this.languages),e||(e=this.options.ns),r||(r=Lu),this.services.backendConnector.reload(t,e,s=>{i.resolve(),r(s)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&jb.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let e=0;e<this.languages.length;e++){let r=this.languages[e];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,e){var r=this;this.isLanguageChangingTo=t;let i=Ho();this.emit("languageChanging",t);let s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,u)=>{u?(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),e&&e(l,function(){return r.t(...arguments)})},o=l=>{var c,d;!t&&!l&&this.services.languageDetector&&(l=[]);let u=Te(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),(d=(c=this.services.languageDetector)==null?void 0:c.cacheUserLanguage)==null||d.call(c,u)),this.loadResources(u,f=>{a(f,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),i}getFixedT(t,e,r){var i=this;let s=function(a,o){let l;if(typeof o!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),d=2;d<u;d++)c[d-2]=arguments[d];l=i.options.overloadTranslationOptionHandler([a,o].concat(c))}else l=U({},o);l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);let f=i.options.keySeparator||".",p;return l.keyPrefix&&Array.isArray(a)?p=a.map(b=>`${l.keyPrefix}${f}${b}`):p=l.keyPrefix?`${l.keyPrefix}${f}${a}`:a,i.t(p,l)};return Te(t)?s.lng=t:s.lngs=t,s.ns=e,s.keyPrefix=r,s}t(){var i;for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return(i=this.translator)==null?void 0:i.translate(...e)}exists(){var i;for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return(i=this.translator)==null?void 0:i.exists(...e)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let r=e.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;let a=(o,l)=>{let u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(e.precheck){let o=e.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,t)&&(!i||a(s,t)))}loadNamespaces(t,e){let r=Ho();return this.options.ns?(Te(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),e&&e(i)}),r):(e&&e(),Promise.resolve())}loadLanguages(t,e){let r=Ho();Te(t)&&(t=[t]);let i=this.options.preload||[],s=t.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{r.resolve(),e&&e(a)}),r):(e&&e(),Promise.resolve())}dir(t){var i,s;if(t||(t=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!t)return"rtl";let e=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((s=this.services)==null?void 0:s.languageUtils)||new $u(Fb());return e.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new hs(t,e)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Lu,r=t.forkResourceStore;r&&delete t.forkResourceStore;let i=me(U(U({},this.options),t),{isClone:!0}),s=new hs(i);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services=U({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){let o=Object.keys(this.store.data).reduce((l,u)=>(l[u]=U({},this.store.data[u]),Object.keys(l[u]).reduce((c,d)=>(c[d]=U({},l[u][d]),c),{})),{});s.store=new Wu(o,i),s.services.resourceStore=s.store}return s.translator=new ba(s.services,i),s.translator.on("*",function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];s.emit(o,...u)}),s.init(i,e),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},yt=hs.createInstance();yt.createInstance=hs.createInstance;sW=yt.createInstance,aW=yt.dir,oW=yt.init,lW=yt.loadResources,uW=yt.reloadResources,cW=yt.use,dW=yt.changeLanguage,fW=yt.getFixedT,pW=yt.t,mW=yt.exists,hW=yt.setDefaultNamespace,gW=yt.hasLoadedNamespace,yW=yt.loadNamespaces,bW=yt.loadLanguages});function J0(n){return Z0.call(X0.call(arguments,1),t=>{if(t)for(let e in t)n[e]===void 0&&(n[e]=t[e])}),n}var X0,Z0,$b,ex,qb,tx,nx,Bo,Yb,rx,Vo,Hb,ix,sx,ax,ox,lx,Gb,Bb,ux,zo,Vb=te(()=>{({slice:X0,forEach:Z0}=[]);$b=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ex=function(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(t),s=`${n}=${i}`;if(r.maxAge>0){let a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(a)}`}if(r.domain){if(!$b.test(r.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${r.domain}`}if(r.path){if(!$b.test(r.path))throw new TypeError("option path is invalid");s+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s},qb={create(n,t,e,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};e&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+e*60*1e3)),r&&(i.domain=r),document.cookie=ex(n,encodeURIComponent(t),i)},read(n){let t=`${n}=`,e=document.cookie.split(";");for(let r=0;r<e.length;r++){let i=e[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove(n){this.create(n,"",-1)}},tx={name:"cookie",lookup(n){let{lookupCookie:t}=n;if(t&&typeof document!="undefined")return qb.read(t)||void 0},cacheUserLanguage(n,t){let{lookupCookie:e,cookieMinutes:r,cookieDomain:i,cookieOptions:s}=t;e&&typeof document!="undefined"&&qb.create(e,n,r,i,s)}},nx={name:"querystring",lookup(n){var r;let{lookupQuerystring:t}=n,e;if(typeof window!="undefined"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));let a=i.substring(1).split("&");for(let o=0;o<a.length;o++){let l=a[o].indexOf("=");l>0&&a[o].substring(0,l)===t&&(e=a[o].substring(l+1))}}return e}},Bo=null,Yb=()=>{if(Bo!==null)return Bo;try{Bo=window!=="undefined"&&window.localStorage!==null;let n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch(n){Bo=!1}return Bo},rx={name:"localStorage",lookup(n){let{lookupLocalStorage:t}=n;if(t&&Yb())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(n,t){let{lookupLocalStorage:e}=t;e&&Yb()&&window.localStorage.setItem(e,n)}},Vo=null,Hb=()=>{if(Vo!==null)return Vo;try{Vo=window!=="undefined"&&window.sessionStorage!==null;let n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch(n){Vo=!1}return Vo},ix={name:"sessionStorage",lookup(n){let{lookupSessionStorage:t}=n;if(t&&Hb())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(n,t){let{lookupSessionStorage:e}=t;e&&Hb()&&window.sessionStorage.setItem(e,n)}},sx={name:"navigator",lookup(n){let t=[];if(typeof navigator!="undefined"){let{languages:e,userLanguage:r,language:i}=navigator;if(e)for(let s=0;s<e.length;s++)t.push(e[s]);r&&t.push(r),i&&t.push(i)}return t.length>0?t:void 0}},ax={name:"htmlTag",lookup(n){let{htmlTag:t}=n,e,r=t||(typeof document!="undefined"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(e=r.getAttribute("lang")),e}},ox={name:"path",lookup(n){var i;let{lookupFromPathIndex:t}=n;if(typeof window=="undefined")return;let e=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(e)?(i=e[typeof t=="number"?t:0])==null?void 0:i.replace("/",""):void 0}},lx={name:"subdomain",lookup(n){var i,s;let{lookupFromSubdomainIndex:t}=n,e=typeof t=="number"?t+1:1,r=typeof window!="undefined"&&((s=(i=window.location)==null?void 0:i.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(!!r)return r[e]}},Gb=!1;try{document.cookie,Gb=!0}catch(n){}Bb=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Gb||Bb.splice(1,1);ux=()=>({order:Bb,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n}),zo=class{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,e)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=J0(e,this.options||{},ux()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(tx),this.addDetector(nx),this.addDetector(rx),this.addDetector(ix),this.addDetector(sx),this.addDetector(ax),this.addDetector(ox),this.addDetector(lx)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,e=[];return t.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(e=e.concat(i))}}),e=e.map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?e:e.length>0?e[0]:null}cacheUserLanguage(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;!e||this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||e.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)})}};zo.type="languageDetector"});var Kb,zb=te(()=>{Kb={main:{loadingPlugin:"Loading plugin: {{name}} v{{version}}",unloadingPlugin:"Unloading plugin: {{name}} v{{version}}"},modals:{customStatusModal:{editAvailableAsCommand:{description:"If enabled this status will be available as a command so you can assign a hotkey and toggle the status using it.",name:"Available as command"},editNextStatusSymbol:{description:"When clicked on this is the symbol that should be used next.",name:"Task Next Status Symbol"},editStatusName:{description:"This is the friendly name of the task status.",name:"Task Status Name"},editStatusSymbol:{description:"This is the character between the square braces. (It can only be edited for Custom statuses, and not Core statuses.)",name:"Task Status Symbol"},editStatusType:{description:"Control how the status behaves for searching and toggling.",name:"Task Status Type"},fixErrorsBeforeSaving:"Fix errors before saving."}},reports:{statusRegistry:{about:{createdBy:"This file was created by the Obsidian Tasks plugin (version {{version}}) to help visualise the task statuses in this vault.",deleteFileAnyTime:"You can delete this file any time.",title:"About this file",updateReport:{line1:"If you change the Tasks status settings, you can get an updated report by:",line2:"Going to `Settings` -> `Tasks`.",line3:"Clicking on `Review and check your Statuses`."}},columnHeadings:{nextStatusSymbol:"Next Status Symbol",problems:"Problems (if any)",statusName:"Status Name",statusSymbol:"Status Symbol",statusType:"Status Type"},loadedSettings:{settingsActuallyUsed:"These are the settings actually used by Tasks.",switchToLivePreview:"Switch to Live Preview or Reading Mode to see the diagram.",title:"Loaded Settings"},messages:{cannotFindNextStatus:"Unexpected failure to find the next status.",duplicateSymbol:"Duplicate symbol '{{symbol}}': this status will be ignored.",emptySymbol:"Empty symbol: this status will be ignored.",nextSymbolUnknown:"Next symbol {{symbol}} is unknown: create a status with symbol {{symbol}}.",notConventionalType:"For information, the conventional type for status symbol {{symbol}} is {{type}}: you may wish to review this type.",wrongTypeAfterDone:{line1:"This `DONE` status is followed by {{nextType}}, not `TODO` or `IN_PROGRESS`.",line2:"If used to complete a recurring task, it will instead be followed by `TODO` or `IN_PROGRESS`, to ensure the next task matches the `not done` filter.",line3:"See [Recurring Tasks and Custom Statuses]({{helpURL}})."}},statusSettings:{comment:{line1:"Switch to Live Preview or Reading Mode to see the table.",line2:"If there are any Markdown formatting characters in status names, such as '*' or '_',",line3:"Obsidian may only render the table correctly in Reading Mode."},theseAreStatusValues:"These are the status values in the Core and Custom statuses sections.",title:"Status Settings"}}},settings:{autoSuggest:{heading:"Auto-suggest",maxSuggestions:{description:'How many suggestions should be shown when an auto-suggest menu pops up (including the "\u23CE" option).',name:"Maximum number of auto-suggestions to show"},minLength:{description:"If higher than 0, auto-suggest will be triggered only when the beginning of any supported keywords is recognized.",name:"Minimum match length for auto-suggest"},toggle:{description:"Enabling this will open an intelligent suggest menu while typing inside a recognized task line.",name:"Auto-suggest task content"}},changeRequiresRestart:"Changing any settings requires a restart of obsidian.",dates:{cancelledDate:{description:"Enabling this will add a timestamp \u274C YYYY-MM-DD at the end when a task is toggled to cancelled.",name:"Set cancelled date on every cancelled task"},createdDate:{description:"Enabling this will add a timestamp \u2795 YYYY-MM-DD before other date values, when a task is created with 'Create or edit task', or by completing a recurring task.",name:"Set created date on every added task"},doneDate:{description:"Enabling this will add a timestamp \u2705 YYYY-MM-DD at the end when a task is toggled to done.",name:"Set done date on every completed task"},heading:"Dates"},datesFromFileNames:{heading:"Dates from file names",scheduledDate:{extraFormat:{description:{line1:"An additional date format that Tasks plugin will recogize when using the file name as the Scheduled date for undated tasks.",line2:"Syntax Reference"},name:"Additional filename date format as Scheduled date for undated tasks",placeholder:"example: MMM DD YYYY"},folders:{description:"Leave empty if you want to use default Scheduled dates everywhere, or enter a comma-separated list of folders.",name:"Folders with default Scheduled dates"},toggle:{description:{line1:"Save time entering Scheduled (\u23F3) dates.",line2:"If this option is enabled, any undated tasks will be given a default Scheduled date extracted from their file name.",line3:"By default, Tasks plugin will match both <code>YYYY-MM-DD</code> and <code>YYYYMMDD</code> date formats.",line4:"Undated tasks have none of Due (\u{1F4C5} ), Scheduled (\u23F3) and Start (\u{1F6EB}) dates."},name:"Use filename as Scheduled date for undated tasks"}}},dialogs:{accessKeys:{description:"If the access keys (keyboard shortcuts) for various controls in dialog boxes conflict with system keyboard shortcuts or assistive technology functionality that is important for you, you may want to deactivate them here.",name:"Provide access keys in dialogs"},heading:"Dialogs"},format:{description:{line1:"The format that Tasks uses to read and write tasks.",line2:"<b>Important:</b> Tasks currently only supports one format at a time. Selecting Dataview will currently <b>stop Tasks reading its own emoji signifiers</b>."},displayName:{dataview:"Dataview",tasksEmojiFormat:"Tasks Emoji Format"},name:"Task Format"},globalFilter:{filter:{description:{line1:"Recommended: Leave empty if you want all checklist items in your vault to be tasks managed by this plugin.",line2:'Use a global filter if you want Tasks to only act on a subset of your "<code>- [ ]</code>" checklist items, so that a checklist item must include the specified string in its description in order to be considered a task.',line3:"For example, if you set the global filter to <code>#task</code>, the Tasks plugin will only handle checklist items tagged with <code>#task</code>.",line4:"Other checklist items will remain normal checklist items and not appear in queries or get a done date set."},name:"Global filter",placeholder:"e.g. #task or TODO"},heading:"Global task filter",removeFilter:{description:"Enabling this removes the string that you set as global filter from the task description when displaying a task.",name:"Remove global filter from description"}},globalQuery:{heading:"Global Query",query:{description:"A query that is automatically included at the start of every Tasks block in the vault. Useful for adding default filters, or layout options.",placeholder:`For example...
path does not include _templates/
limit 300
show urgency`}},recurringTasks:{heading:"Recurring tasks",nextLine:{description:"Enabling this will make the next recurrence of a task appear on the line below the completed task. Otherwise the next recurrence will appear before the completed one.",name:"Next recurrence appears on the line below"}},seeTheDocumentation:"See the documentation",statuses:{collections:{anuppuccinTheme:"AnuPpuccin Theme",auraTheme:"Aura Theme",borderTheme:"Border Theme",buttons:{addCollection:{name:"{{themeName}}: Add {{numberOfStatuses}} supported Statuses"}},ebullientworksTheme:"Ebullientworks Theme",itsThemeAndSlrvbCheckboxes:"ITS Theme & SlRvb Checkboxes",lytModeTheme:"LYT Mode Theme (Dark mode only)",minimalTheme:"Minimal Theme",thingsTheme:"Things Theme"},coreStatuses:{buttons:{checkStatuses:{name:"Review and check your Statuses",tooltip:"Create a new file in the root of the vault, containing a Mermaid diagram of the current status settings."}},description:{line1:"These are the core statuses that Tasks supports natively, with no need for custom CSS styling or theming.",line2:"You can add edit and add your own custom statuses in the section below."},heading:"Core Statuses"},customStatuses:{buttons:{addAllUnknown:{name:"Add All Unknown Status Types"},addNewStatus:{name:"Add New Task Status"},resetCustomStatuses:{name:"Reset Custom Status Types to Defaults"}},description:{line1:"You should first <b>select and install a CSS Snippet or Theme</b> to style custom checkboxes.",line2:"Then, use the buttons below to set up your custom statuses, to match your chosen CSS checkboxes.",line3:"<b>Note</b> Any statuses with the same symbol as any earlier statuses will be ignored. You can confirm the actually loaded statuses by running the 'Create or edit task' command and looking at the Status drop-down.",line4:"See the documentation to get started!"},heading:"Custom Statuses"},heading:"Task Statuses"}}}});var Xb,Qb=te(()=>{Xb={main:{loadingPlugin:"\u52A0\u8F7D\u63D2\u4EF6: {{name}} v{{version}}",unloadingPlugin:"\u5378\u8F7D\u63D2\u4EF6: {{name}} v{{version}}"},modals:{customStatusModal:{editAvailableAsCommand:{description:"\u5982\u679C\u542F\u7528,\u6B64\u72B6\u6001\u5C06\u4F5C\u4E3A\u547D\u4EE4\u53EF\u7528,\u56E0\u6B64\u60A8\u53EF\u4EE5\u6307\u5B9A\u70ED\u952E\u5E76\u4F7F\u7528\u5B83\u5207\u6362\u72B6\u6001.",name:"\u53EF\u7528\u4F5C\u547D\u4EE4"},editNextStatusSymbol:{description:"\u5355\u51FB\u65F6,\u8FD9\u662F\u4E0B\u4E00\u6B65\u5E94\u8BE5\u4F7F\u7528\u7684\u7B26\u53F7.",name:"\u4EFB\u52A1\u4E0B\u4E00\u4E2A\u72B6\u6001\u7B26\u53F7"},editStatusName:{description:"\u8FD9\u662F\u4EFB\u52A1\u72B6\u6001\u7684\u53CB\u597D\u540D\u79F0.",name:"\u4EFB\u52A1\u72B6\u6001\u540D\u79F0"},editStatusSymbol:{description:"\u8FD9\u662F\u65B9\u62EC\u53F7\u4E2D\u7684\u5B57\u7B26.(\u4EC5\u53EF\u7F16\u8F91\u81EA\u5B9A\u4E49\u72B6\u6001,\u4E0D\u53EF\u7F16\u8F91\u6838\u5FC3\u72B6\u6001.)",name:"\u4EFB\u52A1\u72B6\u6001\u7B26\u53F7"},editStatusType:{description:"\u63A7\u5236\u641C\u7D22\u548C\u5207\u6362\u72B6\u6001\u7684\u884C\u4E3A.",name:"\u4EFB\u52A1\u72B6\u6001\u7C7B\u578B"},fixErrorsBeforeSaving:"\u5728\u4FDD\u5B58\u524D\u4FEE\u590D\u9519\u8BEF\u3002"}},reports:{statusRegistry:{about:{createdBy:"\u6B64\u6587\u4EF6\u7531\u9ED1\u66DC\u77F3\u4EFB\u52A1\u63D2\u4EF6(\u7248\u672C ${n})\u521B\u5EFA,\u4EE5\u5E2E\u52A9\u53EF\u89C6\u5316\u6B64\u4FDD\u7BA1\u5E93\u4E2D\u7684\u4EFB\u52A1\u72B6\u6001.",deleteFileAnyTime:"\u60A8\u53EF\u4EE5\u968F\u65F6\u5220\u9664\u6B64\u6587\u4EF6.",title:"\u5173\u4E8E\u6B64\u6587\u4EF6",updateReport:{line1:"\u5982\u679C\u66F4\u6539\u201C\u4EFB\u52A1\u201D\u72B6\u6001\u8BBE\u7F6E,\u5219\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u83B7\u53D6\u66F4\u65B0\u7684\u62A5\u544A:",line2:"\u53BB \\`\u8BBE\u7F6E\\` -> \\`Tasks\\`.",line3:"\u70B9\u51FB \\`\u67E5\u770B\u5E76\u68C0\u67E5\u60A8\u7684\u72B6\u6001\\"}},columnHeadings:{nextStatusSymbol:"\u4E0B\u4E00\u4E2A\u72B6\u6001\u7B26\u53F7",problems:"\u95EE\u9898 (\u5982\u679C\u5B58\u5728)",statusName:"\u72B6\u6001\u540D\u79F0",statusSymbol:"\u72B6\u6001\u7B26\u53F7",statusType:"\u72B6\u6001\u7C7B\u578B"},loadedSettings:{settingsActuallyUsed:"\u8FD9\u4E9B\u662F\u4EFB\u52A1\u5B9E\u9645\u4F7F\u7528\u7684\u8BBE\u7F6E.",switchToLivePreview:"\u5207\u6362\u5230\u5B9E\u65F6\u9884\u89C8\u6216\u9605\u8BFB\u6A21\u5F0F\u4EE5\u67E5\u770B\u56FE\u8868.",title:"\u5DF2\u52A0\u8F7D\u8BBE\u7F6E"},messages:{cannotFindNextStatus:"\u672A\u80FD\u610F\u5916\u627E\u5230\u4E0B\u4E00\u4E2A\u72B6\u6001.",duplicateSymbol:"\u91CD\u590D\u7684\u7B26\u53F7 '{{symbol}}':\u6B64\u72B6\u6001\u5C06\u88AB\u5FFD\u7565.",emptySymbol:"\u7A7A\u7B26\u53F7:\u6B64\u72B6\u6001\u5C06\u88AB\u5FFD\u7565.",nextSymbolUnknown:"\u4E0B\u4E00\u4E2A\u7B26\u53F7 {{symbol}} \u672A\u77E5:\u8BF7\u521B\u5EFA\u7B26\u53F7\u4E3A {{symbol}} \u7684\u72B6\u6001.",notConventionalType:"\u4F9B\u53C2\u8003,\u72B6\u6001\u7B26\u53F7 {{symbol}} \u7684\u5E38\u89C4\u7C7B\u578B\u662F {{type}}:\u60A8\u53EF\u80FD\u5E0C\u671B\u67E5\u770B\u6B64\u7C7B\u578B.",wrongTypeAfterDone:{line1:"\u6B64`\u5B8C\u6210`\u72B6\u6001\u540E\u8DDF\u968F\u7684\u662F{{nextType}}\uFF0C\u800C\u4E0D\u662F`\u5F85\u529E`\u6216`\u8FDB\u884C\u4E2D`\u3002",line2:"\u5982\u679C\u7528\u4E8E\u5B8C\u6210\u4E00\u4E2A\u91CD\u590D\u4EFB\u52A1\uFF0C\u5B83\u540E\u9762\u4F1A\u8DDF\u7740\u5F85\u529E`\u6216`\u8FDB\u884C\u4E2D`\uFF0C\u4EE5\u786E\u4FDD\u4E0B\u4E00\u4E2A\u4EFB\u52A1\u7B26\u5408\u201C\u672A\u5B8C\u6210\u201D\u7684\u7B5B\u9009\u6761\u4EF6\u3002",line3:"\u8BF7\u53C2\u9605[\u91CD\u590D\u4EFB\u52A1\u548C\u81EA\u5B9A\u4E49\u72B6\u6001]({{helpURL}})\u3002"}},statusSettings:{comment:{line1:"\u5207\u6362\u5230\u5B9E\u65F6\u9884\u89C8\u6216\u9605\u8BFB\u6A21\u5F0F\u4EE5\u67E5\u770B\u8868\u683C.",line2:"\u5982\u679C\u72B6\u6001\u540D\u79F0\u4E2D\u6709\u4EFB\u4F55Markdown\u683C\u5F0F\u5B57\u7B26,\u5982 '*' \u6216 '_',",line3:"\u9ED1\u66DC\u77F3\u53EA\u80FD\u5728\u9605\u8BFB\u6A21\u5F0F\u4E0B\u6B63\u786E\u6E32\u67D3\u8868\u683C."},theseAreStatusValues:"\u8FD9\u4E9B\u662F\u6838\u5FC3\u548C\u81EA\u5B9A\u4E49\u72B6\u6001\u90E8\u5206\u4E2D\u7684\u72B6\u6001\u503C.",title:"\u72B6\u6001\u8BBE\u7F6E"}}},settings:{autoSuggest:{heading:"\u81EA\u52A8\u5EFA\u8BAE",maxSuggestions:{description:'\u5F53\u81EA\u52A8\u5EFA\u8BAE\u83DC\u5355\u5F39\u51FA\u65F6,\u5E94\u663E\u793A\u591A\u5C11\u6761\u5EFA\u8BAE (\u5305\u542B "\\u23CE" \u9009\u9879).',name:"\u8981\u663E\u793A\u7684\u6700\u5927\u81EA\u52A8\u5EFA\u8BAE\u6570"},minLength:{description:"\u5982\u679C\u9AD8\u4E8E0,\u5219\u53EA\u6709\u5728\u8BC6\u522B\u51FA\u4EFB\u4F55\u652F\u6301\u7684\u5173\u952E\u5B57\u7684\u5F00\u5934\u65F6\u624D\u4F1A\u89E6\u53D1\u81EA\u52A8\u5EFA\u8BAE.",name:"\u81EA\u52A8\u5EFA\u8BAE\u7684\u6700\u5C0F\u5339\u914D\u957F\u5EA6"},toggle:{description:"\u542F\u7528\u6B64\u9009\u9879\u5C06\u6253\u5F00\u4E00\u4E2A\u667A\u80FD\u5EFA\u8BAE\u83DC\u5355,\u540C\u65F6\u5728\u5DF2\u8BC6\u522B\u7684\u4EFB\u52A1\u884C\u4E2D\u952E\u5165.",name:"\u81EA\u52A8\u5EFA\u8BAE\u4EFB\u52A1\u5185\u5BB9"}},changeRequiresRestart:"\u66F4\u6539\u4EFB\u4F55\u8BBE\u7F6E\u90FD\u9700\u8981\u91CD\u65B0\u542F\u52A8Obsidian.",dates:{cancelledDate:{description:"\u542F\u7528\u6B64\u529F\u80FD\u5C06\u6DFB\u52A0\u65F6\u95F4\u6233 \u274C YYYY-MM-DD \u5728\u7ED3\u5C3E,\u5F53\u4EFB\u52A1\u5207\u6362\u4E3A\u53D6\u6D88\u65F6.",name:"\u4E3A\u6BCF\u4E2A\u5DF2\u53D6\u6D88\u7684\u4EFB\u52A1\u8BBE\u7F6E\u5DF2\u53D6\u6D88\u7684\u65E5\u671F"},createdDate:{description:"\u542F\u7528\u6B64\u529F\u80FD\u5C06\u6DFB\u52A0\u65F6\u95F4\u6233 \u2795 YYYY-MM-DD \u5728\u5176\u4ED6\u65E5\u671F\u503C\u4E4B\u524D,\u5F53\u4F7F\u7528\u201C\u521B\u5EFA\u6216\u7F16\u8F91\u4EFB\u52A1\u201D\u521B\u5EFA\u4EFB\u52A1\u65F6,\u6216\u901A\u8FC7\u5B8C\u6210\u5B9A\u671F\u4EFB\u52A1\u521B\u5EFA\u4EFB\u52A1\u65F6.",name:"\u8BBE\u7F6E\u6BCF\u4E2A\u6DFB\u52A0\u4EFB\u52A1\u7684\u521B\u5EFA\u65E5\u671F"},doneDate:{description:"\u542F\u7528\u6B64\u529F\u80FD\u5C06\u6DFB\u52A0\u65F6\u95F4\u6233 \u2705 YYYY-MM-DD \u5728\u4EFB\u52A1\u5207\u6362\u4E3A\u5DF2\u5B8C\u6210\u65F6\u7ED3\u675F.",name:"\u8BBE\u7F6E\u6BCF\u4E2A\u5DF2\u5B8C\u6210\u4EFB\u52A1\u7684\u5B8C\u6210\u65E5\u671F"},heading:"\u65E5\u671F"},datesFromFileNames:{heading:"\u4ECE\u6587\u4EF6\u540D\u4E2D\u63D0\u53D6\u65E5\u671F",scheduledDate:{extraFormat:{description:{line1:"\u5F53\u4F7F\u7528\u6587\u4EF6\u540D\u4F5C\u4E3A\u672A\u6CE8\u660E\u65E5\u671F\u7684\u4EFB\u52A1\u7684\u8BA1\u5212\u65E5\u671F\u65F6,\u4EFB\u52A1\u63D2\u4EF6\u5C06\u8BC6\u522B\u7684\u53E6\u4E00\u79CD\u65E5\u671F\u683C\u5F0F.",line2:"\u8BED\u6CD5\u53C2\u8003"},name:"\u4E3A\u65E0\u65E5\u671F\u4EFB\u52A1\u6DFB\u52A0\u6587\u4EF6\u540D\u65E5\u671F\u683C\u5F0F\u4F5C\u4E3A\u8BA1\u5212\u65E5\u671F",placeholder:"\u793A\u4F8B:MMM DD YYYY"},folders:{description:"\u5982\u679C\u8981\u5904\u5904\u4F7F\u7528\u9ED8\u8BA4\u7684\u201C\u8BA1\u5212\u65E5\u671F\u201D,\u8BF7\u4FDD\u7559\u4E3A\u7A7A,\u6216\u8005\u8F93\u5165\u4EE5\u9017\u53F7\u5206\u9694\u7684\u6587\u4EF6\u5939\u5217\u8868",name:"\u5177\u6709\u9ED8\u8BA4\u8BA1\u5212\u65E5\u671F\u7684\u6587\u4EF6\u5939"},toggle:{description:{line1:"\u8F93\u5165\u8BA1\u5212 (\u23F3) \u65E5\u671F\u8282\u7701\u65F6\u95F4",line2:"\u5982\u679C\u542F\u7528\u6B64\u9009\u9879,\u5219\u4EFB\u4F55\u672A\u6CE8\u660E\u65E5\u671F\u7684\u4EFB\u52A1\u90FD\u5C06\u83B7\u5F97\u4ECE\u5176\u6587\u4EF6\u540D\u4E2D\u63D0\u53D6\u7684\u9ED8\u8BA4\u201C\u8BA1\u5212\u65E5\u671F\u201D.",line3:"\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0Ctasks \u63D2\u4EF6\u5C06\u5339\u914D <code>YYYY-MM-DD</code> \u548C <code>YYYYMMDD</code> \u4E24\u79CD\u65E5\u671F\u683C\u5F0F\u3002",line4:"\u672A\u5B9A\u65E5\u671F\u7684\u4EFB\u52A1\u6CA1\u6709\u622A\u6B62\u65E5\u671F (\u{1F4C5} ), \u8BA1\u5212\u65E5\u671F (\u23F3) \u548C\u5F00\u59CB\u65E5\u671F(\u{1F6EB}) \u3002"},name:"\u5C06\u6587\u4EF6\u540D\u7528\u4F5C\u672A\u6CE8\u660E\u65E5\u671F\u7684\u4EFB\u52A1\u7684\u8BA1\u5212\u65E5\u671F"}}},dialogs:{accessKeys:{description:"\u5982\u679C\u5BF9\u8BDD\u6846\u4E2D\u5404\u79CD\u63A7\u4EF6\u7684\u8BBF\u95EE\u952E(\u952E\u76D8\u5FEB\u6377\u952E)\u4E0E\u7CFB\u7EDF\u952E\u76D8\u5FEB\u6377\u952E\u6216\u5BF9\u60A8\u5F88\u91CD\u8981\u7684\u8F85\u52A9\u6280\u672F\u529F\u80FD\u76F8\u51B2\u7A81,\u60A8\u53EF\u80FD\u9700\u8981\u5728\u6B64\u5904\u505C\u7528\u5B83\u4EEC.",name:"\u5728\u5BF9\u8BDD\u6846\u4E2D\u63D0\u4F9B\u8BBF\u95EE\u5BC6\u94A5"},heading:"\u5BF9\u8BDD\u6846"},format:{description:{line1:"\u4EFB\u52A1\u7528\u4E8E\u8BFB\u53D6\u548C\u5199\u5165\u4EFB\u52A1\u7684\u683C\u5F0F.",line2:"<b>\u91CD\u70B9:</b> \u4EFB\u52A1\u5F53\u524D\u4E00\u6B21\u53EA\u652F\u6301\u4E00\u79CD\u683C\u5F0F.\u9009\u62E9\u6570\u636E\u89C6\u56FE\u5F53\u524D\u5C06 <b>\u505C\u6B62Tasks\u8BFB\u53D6\u81EA\u5DF1\u7684\u8868\u60C5\u7B26\u53F7</b>"},displayName:{dataview:"Dataview \u683C\u5F0F",tasksEmojiFormat:"Tasks \u8868\u60C5\u683C\u5F0F"},name:"\u4EFB\u52A1\u683C\u5F0F"},globalFilter:{filter:{description:{line1:"\u5EFA\u8BAE:\u5982\u679C\u60A8\u5E0C\u671B\u4ED3\u5E93\u4E2D\u7684\u6240\u6709\u68C0\u67E5\u8868\u9879\u76EE\u90FD\u662F\u7531\u6B64\u63D2\u4EF6\u7BA1\u7406\u7684\u4EFB\u52A1,\u8BF7\u4FDD\u7559\u4E3A\u7A7A",line2:'\u5982\u679C\u60A8\u5E0C\u671B\u201C\u4EFB\u52A1\u201D\u4EC5\u4F5C\u7528\u4E8E "<code>- [ ]</code>" \u68C0\u67E5\u8868\u9879\u7684\u5B50\u96C6,\u8BF7\u4F7F\u7528\u5168\u5C40\u7B5B\u9009\u5668,\u4EE5\u4FBF\u68C0\u67E5\u8868\u9879\u5FC5\u987B\u5728\u5176\u63CF\u8FF0\u4E2D\u5305\u542B\u6307\u5B9A\u7684\u5B57\u7B26\u4E32\u624D\u80FD\u88AB\u89C6\u4E3A\u4EFB\u52A1.',line3:"\u4F8B\u5982,\u5982\u679C\u5C06\u5168\u5C40\u7B5B\u9009\u5668\u8BBE\u7F6E\u4E3A <code>#task</code>,\u5219Tasks\u63D2\u4EF6\u5C06\u4EC5\u5904\u7406\u6807\u8BB0\u4E3A <code>#task</code> \u7684\u68C0\u67E5\u8868\u9879.",line4:"\u5176\u4ED6\u68C0\u67E5\u8868\u9879\u76EE\u5C06\u4FDD\u6301\u6B63\u5E38\u7684\u68C0\u67E5\u8868\u9879\u76EE,\u4E0D\u4F1A\u51FA\u73B0\u5728\u67E5\u8BE2\u4E2D\u6216\u8BBE\u7F6E\u5B8C\u6210\u65E5\u671F."},name:"\u5168\u5C40\u7B5B\u9009\u5668",placeholder:"\u4F8B\u5982:#task \u6216 TODO"},heading:"\u5168\u5C40\u4EFB\u52A1\u7B5B\u9009\u5668",removeFilter:{description:"\u542F\u7528\u6B64\u9009\u9879\u5C06\u5728\u663E\u793A\u4EFB\u52A1\u65F6\u4ECE\u4EFB\u52A1\u63CF\u8FF0\u4E2D\u5220\u9664\u8BBE\u7F6E\u4E3A\u5168\u5C40\u7B5B\u9009\u5668\u7684\u5B57\u7B26\u4E32.",name:"\u4ECE\u63CF\u8FF0\u4E2D\u5220\u9664\u5168\u5C40\u7B5B\u9009\u5668"}},globalQuery:{heading:"\u5168\u5C40\u67E5\u8BE2",query:{description:"\u81EA\u52A8\u5305\u542B\u5728\u5E93\u4E2D\u6BCF\u4E2A\u201C\u4EFB\u52A1\u201D\u5757\u5F00\u5934\u7684\u67E5\u8BE2.\u7528\u4E8E\u6DFB\u52A0\u9ED8\u8BA4\u8FC7\u6EE4\u5668\u6216\u5E03\u5C40\u9009\u9879.",placeholder:`\u4F8B\u5982...
path does not include _templates/
limit 300
show urgency`}},recurringTasks:{heading:"\u91CD\u590D\u6027\u4EFB\u52A1",nextLine:{description:"\u542F\u7528\u6B64\u9009\u9879\u5C06\u4F7F\u4EFB\u52A1\u7684\u4E0B\u4E00\u4E2A\u91CD\u590D\u51FA\u73B0\u5728\u5DF2\u5B8C\u6210\u4EFB\u52A1\u4E0B\u65B9\u7684\u884C\u4E2D.\u5426\u5219,\u4E0B\u4E00\u6B21\u91CD\u590D\u5C06\u51FA\u73B0\u5728\u5DF2\u5B8C\u6210\u7684\u91CD\u590D\u4E4B\u524D.",name:"\u4E0B\u4E00\u4E2A\u91CD\u590D\u51FA\u73B0\u5728\u4E0B\u4E00\u884C"}},seeTheDocumentation:"\u8BF7\u53C2\u9605\u6587\u6863",statuses:{collections:{anuppuccinTheme:"AnuPpuccin \u4E3B\u9898",auraTheme:"Aura \u4E3B\u9898",borderTheme:"Border \u4E3B\u9898",buttons:{addCollection:{name:"{{themeName}}: \u6DFB\u52A0 {{numberOfStatuses}} \u79CD\u652F\u6301\u72B6\u6001"}},ebullientworksTheme:"Ebullientworks \u4E3B\u9898",itsThemeAndSlrvbCheckboxes:"ITS \u4E3B\u9898\u548C SlRvb \u590D\u9009\u6846",lytModeTheme:"LYT Mode \u4E3B\u9898 (\u4EC5\u6DF1\u8272\u6A21\u5F0F)",minimalTheme:"Minimal \u4E3B\u9898",thingsTheme:"Things \u4E3B\u9898"},coreStatuses:{buttons:{checkStatuses:{name:"\u67E5\u770B\u5E76\u68C0\u67E5\u60A8\u7684\u72B6\u6001",tooltip:"\u5728\u5E93\u7684\u6839\u76EE\u5F55\u4E0B\u521B\u5EFA\u4E00\u4E2A\u65B0\u6587\u4EF6,\u5305\u542B\u5F53\u524D\u72B6\u6001\u8BBE\u7F6E\u7684 Mermaid \u56FE\u8868."}},description:{line1:"\u8FD9\u4E9B\u662FTasks\u672C\u673A\u652F\u6301\u7684\u6838\u5FC3\u72B6\u6001,\u4E0D\u9700\u8981\u81EA\u5B9A\u4E49CSS\u6837\u5F0F\u6216\u4E3B\u9898.",line2:"\u60A8\u53EF\u4EE5\u5728\u4E0B\u9762\u7684\u90E8\u5206\u4E2D\u6DFB\u52A0\u7F16\u8F91\u548C\u6DFB\u52A0\u81EA\u5DF1\u7684\u81EA\u5B9A\u4E49\u72B6\u6001."},heading:"\u6838\u5FC3\u72B6\u6001"},customStatuses:{buttons:{addAllUnknown:{name:"\u6DFB\u52A0\u6240\u6709\u672A\u77E5\u72B6\u6001\u7C7B\u578B"},addNewStatus:{name:"\u6DFB\u52A0\u65B0\u4EFB\u52A1\u72B6\u6001"},resetCustomStatuses:{name:"\u91CD\u7F6E\u81EA\u5B9A\u4E49\u72B6\u6001\u7C7B\u578B\u4E3A\u9ED8\u8BA4\u503C"}},description:{line1:"\u60A8\u5E94\u8BE5\u9996\u5148<b>\u9009\u62E9\u5E76\u5B89\u88C5CSS\u4EE3\u7801\u6BB5\u6216\u4E3B\u9898<b>\u4EE5\u8BBE\u7F6E\u81EA\u5B9A\u4E49\u590D\u9009\u6846\u7684\u6837\u5F0F",line2:"\u7136\u540E,\u4F7F\u7528\u4E0B\u9762\u7684\u6309\u94AE\u8BBE\u7F6E\u60A8\u7684\u81EA\u5B9A\u4E49\u72B6\u6001,\u4EE5\u5339\u914D\u60A8\u9009\u62E9\u7684CSS\u590D\u9009\u6846.",line3:"<b>\u6CE8\u610F</b>\u4EFB\u4F55\u4E0E\u4EFB\u4F55\u65E9\u671F\u72B6\u6001\u5177\u6709\u76F8\u540C\u7B26\u53F7\u7684\u72B6\u6001\u90FD\u5C06\u88AB\u5FFD\u7565.\u60A8\u53EF\u4EE5\u901A\u8FC7\u8FD0\u884C\u201C\u521B\u5EFA\u6216\u7F16\u8F91\u4EFB\u52A1\u201D\u547D\u4EE4\u5E76\u67E5\u770B\u201C\u72B6\u6001\u201D\u4E0B\u62C9\u5217\u8868\u6765\u786E\u8BA4\u5B9E\u9645\u52A0\u8F7D\u7684\u72B6\u6001.",line4:"\u67E5\u770B\u6587\u6863\u4EE5\u5F00\u59CB\uFF01"},heading:"\u81EA\u5B9A\u4E49\u72B6\u6001"},heading:"\u4EFB\u52A1\u72B6\u6001"}}}});var Yf,Zb,N,gs=te(()=>{"use strict";Wb();Vb();zb();Qb();Yf=!1,Zb=()=>L(void 0,null,function*(){Yf||(yield yt.use(zo).init({fallbackLng:"en",returnEmptyString:!1,resources:{en:{translation:Kb},zh_cn:{translation:Xb}},interpolation:{escapeValue:!1}}),Yf=!0)}),N=new Proxy(yt,{get(n,t){if(!Yf&&t==="t")throw new Error("i18n.t() called before initialization. Call initializeI18n() first.");return Reflect.get(n,t)}})});var wn,de,ii=te(()=>{"use strict";wn=class{},de=wn;de.dateFormat="YYYY-MM-DD",de.dateTimeFormat="YYYY-MM-DD HH:mm",de.indentationRegex=/^([\s\t>]*)/,de.listMarkerRegex=/([-*+]|[0-9]+\.)/,de.checkboxRegex=/\[(.)\]/u,de.afterCheckboxRegex=/ *(.*)/u,de.taskRegex=new RegExp(wn.indentationRegex.source+wn.listMarkerRegex.source+" +"+wn.checkboxRegex.source+wn.afterCheckboxRegex.source,"u"),de.nonTaskRegex=new RegExp(wn.indentationRegex.source+wn.listMarkerRegex.source+"? *("+wn.checkboxRegex.source+")?"+wn.afterCheckboxRegex.source,"u"),de.listItemRegex=new RegExp(wn.indentationRegex.source+wn.listMarkerRegex.source),de.blockLinkRegex=/ \^[a-zA-Z0-9-]+$/u,de.hashTags=/(^|\s)#[^ !@#$%^&*(),.?":{}|<>]+/g,de.hashTagsFromEnd=new RegExp(wn.hashTags.source+"$")});var Ke=x(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.matchAnyPattern=Ni.extractTerms=Ni.repeatedTimeunitPattern=void 0;function hx(n,t){let e=t.replace(/\((?!\?)/g,"(?:");return`${n}${e}\\s{0,5}(?:,?\\s{0,5}${e}){0,10}`}Ni.repeatedTimeunitPattern=hx;function Jb(n){let t;return n instanceof Array?t=[...n]:n instanceof Map?t=Array.from(n.keys()):t=Object.keys(n),t}Ni.extractTerms=Jb;function gx(n){return`(?:${Jb(n).sort((e,r)=>r.length-e.length).join("|").replace(/\./g,"\\.")})`}Ni.matchAnyPattern=gx});var Ue=x((Gf,Bf)=>{(function(n,t){typeof Gf=="object"&&typeof Bf!="undefined"?Bf.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis!="undefined"?globalThis:n||self).dayjs=t()})(Gf,function(){"use strict";var n=1e3,t=6e4,e=36e5,r="millisecond",i="second",s="minute",a="hour",o="day",l="week",u="month",c="quarter",d="year",f="date",p="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},O=function(V,K,C){var J=String(V);return!J||J.length>=K?V:""+Array(K+1-J.length).join(C)+V},D={s:O,z:function(V){var K=-V.utcOffset(),C=Math.abs(K),J=Math.floor(C/60),q=C%60;return(K<=0?"+":"-")+O(J,2,"0")+":"+O(q,2,"0")},m:function V(K,C){if(K.date()<C.date())return-V(C,K);var J=12*(C.year()-K.year())+(C.month()-K.month()),q=K.clone().add(J,u),oe=C-q<0,m=K.clone().add(J+(oe?-1:1),u);return+(-(J+(C-q)/(oe?q-m:m-q))||0)},a:function(V){return V<0?Math.ceil(V)||0:Math.floor(V)},p:function(V){return{M:u,y:d,w:l,d:o,D:f,h:a,m:s,s:i,ms:r,Q:c}[V]||String(V||"").toLowerCase().replace(/s$/,"")},u:function(V){return V===void 0}},A="en",j={};j[A]=_;var Y=function(V){return V instanceof ye},se=function(V,K,C){var J;if(!V)return A;if(typeof V=="string")j[V]&&(J=V),K&&(j[V]=K,J=V);else{var q=V.name;j[q]=V,J=q}return!C&&J&&(A=J),J||!C&&A},H=function(V,K){if(Y(V))return V.clone();var C=typeof K=="object"?K:{};return C.date=V,C.args=arguments,new ye(C)},Z=D;Z.l=se,Z.i=Y,Z.w=function(V,K){return H(V,{locale:K.$L,utc:K.$u,x:K.$x,$offset:K.$offset})};var ye=function(){function V(C){this.$L=se(C.locale,null,!0),this.parse(C)}var K=V.prototype;return K.parse=function(C){this.$d=function(J){var q=J.date,oe=J.utc;if(q===null)return new Date(NaN);if(Z.u(q))return new Date;if(q instanceof Date)return new Date(q);if(typeof q=="string"&&!/Z$/i.test(q)){var m=q.match(b);if(m){var y=m[2]-1||0,v=(m[7]||"0").substring(0,3);return oe?new Date(Date.UTC(m[1],y,m[3]||1,m[4]||0,m[5]||0,m[6]||0,v)):new Date(m[1],y,m[3]||1,m[4]||0,m[5]||0,m[6]||0,v)}}return new Date(q)}(C),this.$x=C.x||{},this.init()},K.init=function(){var C=this.$d;this.$y=C.getFullYear(),this.$M=C.getMonth(),this.$D=C.getDate(),this.$W=C.getDay(),this.$H=C.getHours(),this.$m=C.getMinutes(),this.$s=C.getSeconds(),this.$ms=C.getMilliseconds()},K.$utils=function(){return Z},K.isValid=function(){return this.$d.toString()!==p},K.isSame=function(C,J){var q=H(C);return this.startOf(J)<=q&&q<=this.endOf(J)},K.isAfter=function(C,J){return H(C)<this.startOf(J)},K.isBefore=function(C,J){return this.endOf(J)<H(C)},K.$g=function(C,J,q){return Z.u(C)?this[J]:this.set(q,C)},K.unix=function(){return Math.floor(this.valueOf()/1e3)},K.valueOf=function(){return this.$d.getTime()},K.startOf=function(C,J){var q=this,oe=!!Z.u(J)||J,m=Z.p(C),y=function(P,$){var ce=Z.w(q.$u?Date.UTC(q.$y,$,P):new Date(q.$y,$,P),q);return oe?ce:ce.endOf(o)},v=function(P,$){return Z.w(q.toDate()[P].apply(q.toDate("s"),(oe?[0,0,0,0]:[23,59,59,999]).slice($)),q)},w=this.$W,S=this.$M,M=this.$D,I="set"+(this.$u?"UTC":"");switch(m){case d:return oe?y(1,0):y(31,11);case u:return oe?y(1,S):y(0,S+1);case l:var W=this.$locale().weekStart||0,E=(w<W?w+7:w)-W;return y(oe?M-E:M+(6-E),S);case o:case f:return v(I+"Hours",0);case a:return v(I+"Minutes",1);case s:return v(I+"Seconds",2);case i:return v(I+"Milliseconds",3);default:return this.clone()}},K.endOf=function(C){return this.startOf(C,!1)},K.$set=function(C,J){var q,oe=Z.p(C),m="set"+(this.$u?"UTC":""),y=(q={},q[o]=m+"Date",q[f]=m+"Date",q[u]=m+"Month",q[d]=m+"FullYear",q[a]=m+"Hours",q[s]=m+"Minutes",q[i]=m+"Seconds",q[r]=m+"Milliseconds",q)[oe],v=oe===o?this.$D+(J-this.$W):J;if(oe===u||oe===d){var w=this.clone().set(f,1);w.$d[y](v),w.init(),this.$d=w.set(f,Math.min(this.$D,w.daysInMonth())).$d}else y&&this.$d[y](v);return this.init(),this},K.set=function(C,J){return this.clone().$set(C,J)},K.get=function(C){return this[Z.p(C)]()},K.add=function(C,J){var q,oe=this;C=Number(C);var m=Z.p(J),y=function(S){var M=H(oe);return Z.w(M.date(M.date()+Math.round(S*C)),oe)};if(m===u)return this.set(u,this.$M+C);if(m===d)return this.set(d,this.$y+C);if(m===o)return y(1);if(m===l)return y(7);var v=(q={},q[s]=t,q[a]=e,q[i]=n,q)[m]||1,w=this.$d.getTime()+C*v;return Z.w(w,this)},K.subtract=function(C,J){return this.add(-1*C,J)},K.format=function(C){var J=this,q=this.$locale();if(!this.isValid())return q.invalidDate||p;var oe=C||"YYYY-MM-DDTHH:mm:ssZ",m=Z.z(this),y=this.$H,v=this.$m,w=this.$M,S=q.weekdays,M=q.months,I=function($,ce,be,xe){return $&&($[ce]||$(J,oe))||be[ce].substr(0,xe)},W=function($){return Z.s(y%12||12,$,"0")},E=q.meridiem||function($,ce,be){var xe=$<12?"AM":"PM";return be?xe.toLowerCase():xe},P={YY:String(this.$y).slice(-2),YYYY:this.$y,M:w+1,MM:Z.s(w+1,2,"0"),MMM:I(q.monthsShort,w,M,3),MMMM:I(M,w),D:this.$D,DD:Z.s(this.$D,2,"0"),d:String(this.$W),dd:I(q.weekdaysMin,this.$W,S,2),ddd:I(q.weekdaysShort,this.$W,S,3),dddd:S[this.$W],H:String(y),HH:Z.s(y,2,"0"),h:W(1),hh:W(2),a:E(y,v,!0),A:E(y,v,!1),m:String(v),mm:Z.s(v,2,"0"),s:String(this.$s),ss:Z.s(this.$s,2,"0"),SSS:Z.s(this.$ms,3,"0"),Z:m};return oe.replace(T,function($,ce){return ce||P[$]||m.replace(":","")})},K.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},K.diff=function(C,J,q){var oe,m=Z.p(J),y=H(C),v=(y.utcOffset()-this.utcOffset())*t,w=this-y,S=Z.m(this,y);return S=(oe={},oe[d]=S/12,oe[u]=S,oe[c]=S/3,oe[l]=(w-v)/6048e5,oe[o]=(w-v)/864e5,oe[a]=w/e,oe[s]=w/t,oe[i]=w/n,oe)[m]||w,q?S:Z.a(S)},K.daysInMonth=function(){return this.endOf(u).$D},K.$locale=function(){return j[this.$L]},K.locale=function(C,J){if(!C)return this.$L;var q=this.clone(),oe=se(C,J,!0);return oe&&(q.$L=oe),q},K.clone=function(){return Z.w(this.$d,this)},K.toDate=function(){return new Date(this.valueOf())},K.toJSON=function(){return this.isValid()?this.toISOString():null},K.toISOString=function(){return this.$d.toISOString()},K.toString=function(){return this.$d.toUTCString()},V}(),we=ye.prototype;return H.prototype=we,[["$ms",r],["$s",i],["$m",s],["$H",a],["$W",o],["$M",u],["$y",d],["$D",f]].forEach(function(V){we[V[1]]=function(K){return this.$g(K,V[0],V[1])}}),H.extend=function(V,K){return V.$i||(V(K,ye,H),V.$i=!0),H},H.locale=se,H.isDayjs=Y,H.unix=function(V){return H(1e3*V)},H.en=j[A],H.Ls=j,H.p={},H})});var Ct=x(Ii=>{"use strict";var yx=Ii&&Ii.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.findYearClosestToRef=Ii.findMostLikelyADYear=void 0;var bx=yx(Ue());function Tx(n){return n<100&&(n>50?n=n+1900:n=n+2e3),n}Ii.findMostLikelyADYear=Tx;function _x(n,t,e){let r=bx.default(n),i=r;i=i.month(e-1),i=i.date(t),i=i.year(r.year());let s=i.add(1,"y"),a=i.add(-1,"y");return Math.abs(s.diff(r))<Math.abs(i.diff(r))?i=s:Math.abs(a.diff(r))<Math.abs(i.diff(r))&&(i=a),i.year()}Ii.findYearClosestToRef=_x});var Mt=x(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.parseTimeUnits=Me.TIME_UNITS_PATTERN=Me.parseYear=Me.YEAR_PATTERN=Me.parseOrdinalNumberPattern=Me.ORDINAL_NUMBER_PATTERN=Me.parseNumberPattern=Me.NUMBER_PATTERN=Me.TIME_UNIT_DICTIONARY=Me.ORDINAL_WORD_DICTIONARY=Me.INTEGER_WORD_DICTIONARY=Me.MONTH_DICTIONARY=Me.FULL_MONTH_NAME_DICTIONARY=Me.WEEKDAY_DICTIONARY=void 0;var Hu=Ke(),vx=Ct();Me.WEEKDAY_DICTIONARY={sunday:0,sun:0,"sun.":0,monday:1,mon:1,"mon.":1,tuesday:2,tue:2,"tue.":2,wednesday:3,wed:3,"wed.":3,thursday:4,thurs:4,"thurs.":4,thur:4,"thur.":4,thu:4,"thu.":4,friday:5,fri:5,"fri.":5,saturday:6,sat:6,"sat.":6};Me.FULL_MONTH_NAME_DICTIONARY={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12};Me.MONTH_DICTIONARY=Object.assign(Object.assign({},Me.FULL_MONTH_NAME_DICTIONARY),{jan:1,"jan.":1,feb:2,"feb.":2,mar:3,"mar.":3,apr:4,"apr.":4,jun:6,"jun.":6,jul:7,"jul.":7,aug:8,"aug.":8,sep:9,"sep.":9,sept:9,"sept.":9,oct:10,"oct.":10,nov:11,"nov.":11,dec:12,"dec.":12});Me.INTEGER_WORD_DICTIONARY={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12};Me.ORDINAL_WORD_DICTIONARY={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,twentieth:20,"twenty first":21,"twenty-first":21,"twenty second":22,"twenty-second":22,"twenty third":23,"twenty-third":23,"twenty fourth":24,"twenty-fourth":24,"twenty fifth":25,"twenty-fifth":25,"twenty sixth":26,"twenty-sixth":26,"twenty seventh":27,"twenty-seventh":27,"twenty eighth":28,"twenty-eighth":28,"twenty ninth":29,"twenty-ninth":29,thirtieth:30,"thirty first":31,"thirty-first":31};Me.TIME_UNIT_DICTIONARY={sec:"second",second:"second",seconds:"second",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",day:"d",days:"d",week:"week",weeks:"week",month:"month",months:"month",qtr:"quarter",quarter:"quarter",quarters:"quarter",y:"year",yr:"year",year:"year",years:"year"};Me.NUMBER_PATTERN=`(?:${Hu.matchAnyPattern(Me.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s{0,2}an?)?|an?\\b(?:\\s{0,2}few)?|few|several|a?\\s{0,2}couple\\s{0,2}(?:of)?)`;function tT(n){let t=n.toLowerCase();return Me.INTEGER_WORD_DICTIONARY[t]!==void 0?Me.INTEGER_WORD_DICTIONARY[t]:t==="a"||t==="an"?1:t.match(/few/)?3:t.match(/half/)?.5:t.match(/couple/)?2:t.match(/several/)?7:parseFloat(t)}Me.parseNumberPattern=tT;Me.ORDINAL_NUMBER_PATTERN=`(?:${Hu.matchAnyPattern(Me.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:st|nd|rd|th)?)`;function wx(n){let t=n.toLowerCase();return Me.ORDINAL_WORD_DICTIONARY[t]!==void 0?Me.ORDINAL_WORD_DICTIONARY[t]:(t=t.replace(/(?:st|nd|rd|th)$/i,""),parseInt(t))}Me.parseOrdinalNumberPattern=wx;Me.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s{0,2}(?:BE|AD|BC|BCE|CE)|[1-2][0-9]{3}|[5-9][0-9])";function kx(n){if(/BE/i.test(n))return n=n.replace(/BE/i,""),parseInt(n)-543;if(/BCE?/i.test(n))return n=n.replace(/BCE?/i,""),-parseInt(n);if(/(AD|CE)/i.test(n))return n=n.replace(/(AD|CE)/i,""),parseInt(n);let t=parseInt(n);return vx.findMostLikelyADYear(t)}Me.parseYear=kx;var nT=`(${Me.NUMBER_PATTERN})\\s{0,3}(${Hu.matchAnyPattern(Me.TIME_UNIT_DICTIONARY)})`,eT=new RegExp(nT,"i");Me.TIME_UNITS_PATTERN=Hu.repeatedTimeunitPattern("(?:(?:about|around)\\s{0,3})?",nT);function Sx(n){let t={},e=n,r=eT.exec(e);for(;r;)Ex(t,r),e=e.substring(r[0].length).trim(),r=eT.exec(e);return t}Me.parseTimeUnits=Sx;function Ex(n,t){let e=tT(t[1]),r=Me.TIME_UNIT_DICTIONARY[t[2].toLowerCase()];n[r]=e}});var rT=x((Vf,zf)=>{(function(n,t){typeof Vf=="object"&&typeof zf!="undefined"?zf.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis!="undefined"?globalThis:n||self).dayjs_plugin_quarterOfYear=t()})(Vf,function(){"use strict";var n="month",t="quarter";return function(e,r){var i=r.prototype;i.quarter=function(o){return this.$utils().u(o)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(o-1))};var s=i.add;i.add=function(o,l){return o=Number(o),this.$utils().p(l)===t?this.add(3*o,n):s.bind(this)(o,l)};var a=i.startOf;i.startOf=function(o,l){var u=this.$utils(),c=!!u.u(l)||l;if(u.p(o)===t){var d=this.quarter()-1;return c?this.month(3*d).startOf(n).startOf("day"):this.month(3*d+2).endOf(n).endOf("day")}return a.bind(this)(o,l)}}})});var $n=x(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.implySimilarTime=Ur.assignSimilarTime=Ur.assignSimilarDate=Ur.assignTheNextDay=void 0;var iT=ht();function Dx(n,t){t=t.add(1,"day"),sT(n,t),aT(n,t)}Ur.assignTheNextDay=Dx;function sT(n,t){n.assign("day",t.date()),n.assign("month",t.month()+1),n.assign("year",t.year())}Ur.assignSimilarDate=sT;function xx(n,t){n.assign("hour",t.hour()),n.assign("minute",t.minute()),n.assign("second",t.second()),n.assign("millisecond",t.millisecond()),n.get("hour")<12?n.assign("meridiem",iT.Meridiem.AM):n.assign("meridiem",iT.Meridiem.PM)}Ur.assignSimilarTime=xx;function aT(n,t){n.imply("hour",t.hour()),n.imply("minute",t.minute()),n.imply("second",t.second()),n.imply("millisecond",t.millisecond())}Ur.implySimilarTime=aT});var oT=x(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.toTimezoneOffset=ys.TIMEZONE_ABBR_MAP=void 0;ys.TIMEZONE_ABBR_MAP={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:180,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};function Ox(n){var t;return n==null?null:typeof n=="number"?n:(t=ys.TIMEZONE_ABBR_MAP[n])!==null&&t!==void 0?t:null}ys.toTimezoneOffset=Ox});var nt=x(jr=>{"use strict";var lT=jr&&jr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(jr,"__esModule",{value:!0});jr.ParsingResult=jr.ParsingComponents=jr.ReferenceWithTimezone=void 0;var Cx=lT(rT()),Gu=lT(Ue()),Kf=$n(),Mx=oT();Gu.default.extend(Cx.default);var Qf=class{constructor(t){var e;t=t!=null?t:new Date,t instanceof Date?this.instant=t:(this.instant=(e=t.instant)!==null&&e!==void 0?e:new Date,this.timezoneOffset=Mx.toTimezoneOffset(t.timezone))}};jr.ReferenceWithTimezone=Qf;var bs=class{constructor(t,e){if(this.reference=t,this.knownValues={},this.impliedValues={},e)for(let i in e)this.knownValues[i]=e[i];let r=Gu.default(t.instant);this.imply("day",r.date()),this.imply("month",r.month()+1),this.imply("year",r.year()),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}get(t){return t in this.knownValues?this.knownValues[t]:t in this.impliedValues?this.impliedValues[t]:null}isCertain(t){return t in this.knownValues}getCertainComponents(){return Object.keys(this.knownValues)}imply(t,e){return t in this.knownValues?this:(this.impliedValues[t]=e,this)}assign(t,e){return this.knownValues[t]=e,delete this.impliedValues[t],this}delete(t){delete this.knownValues[t],delete this.impliedValues[t]}clone(){let t=new bs(this.reference);t.knownValues={},t.impliedValues={};for(let e in this.knownValues)t.knownValues[e]=this.knownValues[e];for(let e in this.impliedValues)t.impliedValues[e]=this.impliedValues[e];return t}isOnlyDate(){return!this.isCertain("hour")&&!this.isCertain("minute")&&!this.isCertain("second")}isOnlyTime(){return!this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyWeekdayComponent(){return this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyDayMonthComponent(){return this.isCertain("day")&&this.isCertain("month")&&!this.isCertain("year")}isValidDate(){let t=this.dateWithoutTimezoneAdjustment();return!(t.getFullYear()!==this.get("year")||t.getMonth()!==this.get("month")-1||t.getDate()!==this.get("day")||this.get("hour")!=null&&t.getHours()!=this.get("hour")||this.get("minute")!=null&&t.getMinutes()!=this.get("minute"))}toString(){return`[ParsingComponents {knownValues: ${JSON.stringify(this.knownValues)}, impliedValues: ${JSON.stringify(this.impliedValues)}}, reference: ${JSON.stringify(this.reference)}]`}dayjs(){return Gu.default(this.date())}date(){let t=this.dateWithoutTimezoneAdjustment();return new Date(t.getTime()+this.getSystemTimezoneAdjustmentMinute(t)*6e4)}dateWithoutTimezoneAdjustment(){let t=new Date(this.get("year"),this.get("month")-1,this.get("day"),this.get("hour"),this.get("minute"),this.get("second"),this.get("millisecond"));return t.setFullYear(this.get("year")),t}getSystemTimezoneAdjustmentMinute(t){var e,r;(!t||t.getTime()<0)&&(t=new Date);let i=-t.getTimezoneOffset(),s=(r=(e=this.get("timezoneOffset"))!==null&&e!==void 0?e:this.reference.timezoneOffset)!==null&&r!==void 0?r:i;return i-s}static createRelativeFromReference(t,e){let r=Gu.default(t.instant);for(let s in e)r=r.add(e[s],s);let i=new bs(t);return e.hour||e.minute||e.second?(Kf.assignSimilarTime(i,r),Kf.assignSimilarDate(i,r),t.timezoneOffset!==null&&i.assign("timezoneOffset",-t.instant.getTimezoneOffset())):(Kf.implySimilarTime(i,r),t.timezoneOffset!==null&&i.imply("timezoneOffset",-t.instant.getTimezoneOffset()),e.d?(i.assign("day",r.date()),i.assign("month",r.month()+1),i.assign("year",r.year())):(e.week&&i.imply("weekday",r.day()),i.imply("day",r.date()),e.month?(i.assign("month",r.month()+1),i.assign("year",r.year())):(i.imply("month",r.month()+1),e.year?i.assign("year",r.year()):i.imply("year",r.year())))),i}};jr.ParsingComponents=bs;var Ko=class{constructor(t,e,r,i,s){this.reference=t,this.refDate=t.instant,this.index=e,this.text=r,this.start=i||new bs(t),this.end=s}clone(){let t=new Ko(this.reference,this.index,this.text);return t.start=this.start?this.start.clone():null,t.end=this.end?this.end.clone():null,t}date(){return this.start.date()}toString(){return`[ParsingResult {index: ${this.index}, text: '${this.text}', ...}]`}};jr.ParsingResult=Ko});var re=x(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.AbstractParserWithWordBoundaryChecking=void 0;var Xf=class{constructor(){this.cachedInnerPattern=null,this.cachedPattern=null}patternLeftBoundary(){return"(\\W|^)"}pattern(t){let e=this.innerPattern(t);return e==this.cachedInnerPattern?this.cachedPattern:(this.cachedPattern=new RegExp(`${this.patternLeftBoundary()}${e.source}`,e.flags),this.cachedInnerPattern=e,this.cachedPattern)}extract(t,e){var r;let i=(r=e[1])!==null&&r!==void 0?r:"";e.index=e.index+i.length,e[0]=e[0].substring(i.length);for(let s=2;s<e.length;s++)e[s-1]=e[s];return this.innerExtract(t,e)}};Bu.AbstractParserWithWordBoundaryChecking=Xf});var uT=x(ep=>{"use strict";Object.defineProperty(ep,"__esModule",{value:!0});var Jf=Mt(),Rx=nt(),Ax=re(),Px=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${Jf.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),Nx=new RegExp(`(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${Jf.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),Zf=class extends Ax.AbstractParserWithWordBoundaryChecking{innerPattern(t){return t.option.forwardDate?Nx:Px}innerExtract(t,e){let r=Jf.parseTimeUnits(e[1]);return Rx.ParsingComponents.createRelativeFromReference(t.reference,r)}};ep.default=Zf});var hT=x(np=>{"use strict";Object.defineProperty(np,"__esModule",{value:!0});var Ix=Ct(),pT=Mt(),mT=Mt(),Vu=Mt(),Fx=Ke(),Lx=re(),Ux=new RegExp(`(?:on\\s{0,3})?(${Vu.ORDINAL_NUMBER_PATTERN})(?:\\s{0,3}(?:to|\\-|\\\u2013|until|through|till)?\\s{0,3}(${Vu.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s{0,3}(?:of)?\\s{0,3})(${Fx.matchAnyPattern(pT.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s{0,3})(${mT.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),cT=1,dT=2,jx=3,fT=4,tp=class extends Lx.AbstractParserWithWordBoundaryChecking{innerPattern(){return Ux}innerExtract(t,e){let r=t.createParsingResult(e.index,e[0]),i=pT.MONTH_DICTIONARY[e[jx].toLowerCase()],s=Vu.parseOrdinalNumberPattern(e[cT]);if(s>31)return e.index=e.index+e[cT].length,null;if(r.start.assign("month",i),r.start.assign("day",s),e[fT]){let a=mT.parseYear(e[fT]);r.start.assign("year",a)}else{let a=Ix.findYearClosestToRef(t.refDate,s,i);r.start.imply("year",a)}if(e[dT]){let a=Vu.parseOrdinalNumberPattern(e[dT]);r.end=r.start.clone(),r.end.assign("day",a)}return r}};np.default=tp});var _T=x(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});var Wx=Ct(),bT=Mt(),zu=Mt(),TT=Mt(),$x=Ke(),qx=re(),Yx=new RegExp(`(${$x.matchAnyPattern(bT.MONTH_DICTIONARY)})(?:-|/|\\s*,?\\s*)(${zu.ORDINAL_NUMBER_PATTERN})(?!\\s*(?:am|pm))\\s*(?:(?:to|\\-)\\s*(${zu.ORDINAL_NUMBER_PATTERN})\\s*)?(?:(?:-|/|\\s*,?\\s*)(${TT.YEAR_PATTERN}))?(?=\\W|$)(?!\\:\\d)`,"i"),Hx=1,Gx=2,gT=3,yT=4,rp=class extends qx.AbstractParserWithWordBoundaryChecking{innerPattern(){return Yx}innerExtract(t,e){let r=bT.MONTH_DICTIONARY[e[Hx].toLowerCase()],i=zu.parseOrdinalNumberPattern(e[Gx]);if(i>31)return null;let s=t.createParsingComponents({day:i,month:r});if(e[yT]){let l=TT.parseYear(e[yT]);s.assign("year",l)}else{let l=Wx.findYearClosestToRef(t.refDate,i,r);s.imply("year",l)}if(!e[gT])return s;let a=zu.parseOrdinalNumberPattern(e[gT]),o=t.createParsingResult(e.index,e[0]);return o.start=s,o.end=s.clone(),o.end.assign("day",a),o}};ip.default=rp});var kT=x(op=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});var sp=Mt(),Bx=Ct(),Vx=Ke(),wT=Mt(),zx=re(),Kx=new RegExp(`((?:in)\\s*)?(${Vx.matchAnyPattern(sp.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${wT.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),Qx=1,Xx=2,vT=3,ap=class extends zx.AbstractParserWithWordBoundaryChecking{innerPattern(){return Kx}innerExtract(t,e){let r=e[Xx].toLowerCase();if(e[0].length<=3&&!sp.FULL_MONTH_NAME_DICTIONARY[r])return null;let i=t.createParsingResult(e.index+(e[Qx]||"").length,e.index+e[0].length);i.start.imply("day",1);let s=sp.MONTH_DICTIONARY[r];if(i.start.assign("month",s),e[vT]){let a=wT.parseYear(e[vT]);i.start.assign("year",a)}else{let a=Bx.findYearClosestToRef(t.refDate,1,s);i.start.imply("year",a)}return i}};op.default=ap});var DT=x(up=>{"use strict";Object.defineProperty(up,"__esModule",{value:!0});var ET=Mt(),Zx=Ke(),Jx=re(),eO=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${Zx.matchAnyPattern(ET.MONTH_DICTIONARY)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),tO=1,nO=2,ST=3,rO=4,lp=class extends Jx.AbstractParserWithWordBoundaryChecking{innerPattern(){return eO}innerExtract(t,e){let r=e[ST]?parseInt(e[ST]):ET.MONTH_DICTIONARY[e[nO].toLowerCase()];if(r<1||r>12)return null;let i=parseInt(e[tO]);return{day:parseInt(e[rO]),month:r,year:i}}};up.default=lp});var xT=x(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});var iO=re(),sO=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),aO=1,oO=2,cp=class extends iO.AbstractParserWithWordBoundaryChecking{innerPattern(){return sO}innerExtract(t,e){let r=parseInt(e[oO]),i=parseInt(e[aO]);return t.createParsingComponents().imply("day",1).assign("month",i).assign("year",r)}};dp.default=cp});var Ts=x(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.AbstractTimeExpressionParser=void 0;var Zt=ht();function lO(n,t,e,r){return new RegExp(`${n}${t}(\\d{1,4})(?:(?:\\.|:|\uFF1A)(\\d{1,2})(?:(?::|\uFF1A)(\\d{2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${e}`,r)}function uO(n,t){return new RegExp(`^(${n})(\\d{1,4})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${t}`,"i")}var OT=2,Ta=3,Ku=4,Qu=5,Qo=6,fp=class{constructor(t=!1){this.cachedPrimaryPrefix=null,this.cachedPrimarySuffix=null,this.cachedPrimaryTimePattern=null,this.cachedFollowingPhase=null,this.cachedFollowingSuffix=null,this.cachedFollowingTimePatten=null,this.strictMode=t}patternFlags(){return"i"}primaryPatternLeftBoundary(){return"(^|\\s|T|\\b)"}primarySuffix(){return"(?=\\W|$)"}followingSuffix(){return"(?=\\W|$)"}pattern(t){return this.getPrimaryTimePatternThroughCache()}extract(t,e){let r=this.extractPrimaryTimeComponents(t,e);if(!r)return e.index+=e[0].length,null;let i=e.index+e[1].length,s=e[0].substring(e[1].length),a=t.createParsingResult(i,s,r);e.index+=e[0].length;let o=t.text.substring(e.index),u=this.getFollowingTimePatternThroughCache().exec(o);return s.match(/^\d{3,4}/)&&u&&u[0].match(/^\s*([+-])\s*\d{2,4}$/)?null:!u||u[0].match(/^\s*([+-])\s*\d{3,4}$/)?this.checkAndReturnWithoutFollowingPattern(a):(a.end=this.extractFollowingTimeComponents(t,u,a),a.end&&(a.text+=u[0]),this.checkAndReturnWithFollowingPattern(a))}extractPrimaryTimeComponents(t,e,r=!1){let i=t.createParsingComponents(),s=0,a=null,o=parseInt(e[OT]);if(o>100){if(this.strictMode||e[Ta]!=null)return null;s=o%100,o=Math.floor(o/100)}if(o>24)return null;if(e[Ta]!=null){if(e[Ta].length==1&&!e[Qo])return null;s=parseInt(e[Ta])}if(s>=60)return null;if(o>12&&(a=Zt.Meridiem.PM),e[Qo]!=null){if(o>12)return null;let l=e[Qo][0].toLowerCase();l=="a"&&(a=Zt.Meridiem.AM,o==12&&(o=0)),l=="p"&&(a=Zt.Meridiem.PM,o!=12&&(o+=12))}if(i.assign("hour",o),i.assign("minute",s),a!==null?i.assign("meridiem",a):o<12?i.imply("meridiem",Zt.Meridiem.AM):i.imply("meridiem",Zt.Meridiem.PM),e[Qu]!=null){let l=parseInt(e[Qu].substring(0,3));if(l>=1e3)return null;i.assign("millisecond",l)}if(e[Ku]!=null){let l=parseInt(e[Ku]);if(l>=60)return null;i.assign("second",l)}return i}extractFollowingTimeComponents(t,e,r){let i=t.createParsingComponents();if(e[Qu]!=null){let l=parseInt(e[Qu].substring(0,3));if(l>=1e3)return null;i.assign("millisecond",l)}if(e[Ku]!=null){let l=parseInt(e[Ku]);if(l>=60)return null;i.assign("second",l)}let s=parseInt(e[OT]),a=0,o=-1;if(e[Ta]!=null?a=parseInt(e[Ta]):s>100&&(a=s%100,s=Math.floor(s/100)),a>=60||s>24)return null;if(s>=12&&(o=Zt.Meridiem.PM),e[Qo]!=null){if(s>12)return null;let l=e[Qo][0].toLowerCase();l=="a"&&(o=Zt.Meridiem.AM,s==12&&(s=0,i.isCertain("day")||i.imply("day",i.get("day")+1))),l=="p"&&(o=Zt.Meridiem.PM,s!=12&&(s+=12)),r.start.isCertain("meridiem")||(o==Zt.Meridiem.AM?(r.start.imply("meridiem",Zt.Meridiem.AM),r.start.get("hour")==12&&r.start.assign("hour",0)):(r.start.imply("meridiem",Zt.Meridiem.PM),r.start.get("hour")!=12&&r.start.assign("hour",r.start.get("hour")+12)))}return i.assign("hour",s),i.assign("minute",a),o>=0?i.assign("meridiem",o):r.start.isCertain("meridiem")&&r.start.get("hour")>12?r.start.get("hour")-12>s?i.imply("meridiem",Zt.Meridiem.AM):s<=12&&(i.assign("hour",s+12),i.assign("meridiem",Zt.Meridiem.PM)):s>12?i.imply("meridiem",Zt.Meridiem.PM):s<=12&&i.imply("meridiem",Zt.Meridiem.AM),i.date().getTime()<r.start.date().getTime()&&i.imply("day",i.get("day")+1),i}checkAndReturnWithoutFollowingPattern(t){if(t.text.match(/^\d$/)||t.text.match(/^\d\d\d+$/)||t.text.match(/\d[apAP]$/))return null;let e=t.text.match(/[^\d:.](\d[\d.]+)$/);if(e){let r=e[1];if(this.strictMode||r.includes(".")&&!r.match(/\d(\.\d{2})+$/)||parseInt(r)>24)return null}return t}checkAndReturnWithFollowingPattern(t){if(t.text.match(/^\d+-\d+$/))return null;let e=t.text.match(/[^\d:.](\d[\d.]+)\s*-\s*(\d[\d.]+)$/);if(e){if(this.strictMode)return null;let r=e[1],i=e[2];if(i.includes(".")&&!i.match(/\d(\.\d{2})+$/))return null;let s=parseInt(i),a=parseInt(r);if(s>24||a>24)return null}return t}getPrimaryTimePatternThroughCache(){let t=this.primaryPrefix(),e=this.primarySuffix();return this.cachedPrimaryPrefix===t&&this.cachedPrimarySuffix===e?this.cachedPrimaryTimePattern:(this.cachedPrimaryTimePattern=lO(this.primaryPatternLeftBoundary(),t,e,this.patternFlags()),this.cachedPrimaryPrefix=t,this.cachedPrimarySuffix=e,this.cachedPrimaryTimePattern)}getFollowingTimePatternThroughCache(){let t=this.followingPhase(),e=this.followingSuffix();return this.cachedFollowingPhase===t&&this.cachedFollowingSuffix===e?this.cachedFollowingTimePatten:(this.cachedFollowingTimePatten=uO(t,e),this.cachedFollowingPhase=t,this.cachedFollowingSuffix=e,this.cachedFollowingTimePatten)}};Xu.AbstractTimeExpressionParser=fp});var CT=x(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});var Zu=ht(),cO=Ts(),pp=class extends cO.AbstractTimeExpressionParser{constructor(t){super(t)}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|to|\\?)\\s*"}primaryPrefix(){return"(?:(?:at|from)\\s*)??"}primarySuffix(){return"(?:\\s*(?:o\\W*clock|at\\s*night|in\\s*the\\s*(?:morning|afternoon)))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(t,e){let r=super.extractPrimaryTimeComponents(t,e);if(r){if(e[0].endsWith("night")){let i=r.get("hour");i>=6&&i<12?(r.assign("hour",r.get("hour")+12),r.assign("meridiem",Zu.Meridiem.PM)):i<6&&r.assign("meridiem",Zu.Meridiem.AM)}if(e[0].endsWith("afternoon")){r.assign("meridiem",Zu.Meridiem.PM);let i=r.get("hour");i>=0&&i<=6&&r.assign("hour",r.get("hour")+12)}e[0].endsWith("morning")&&(r.assign("meridiem",Zu.Meridiem.AM),r.get("hour")<12&&r.assign("hour",r.get("hour")))}return r}};mp.default=pp});var qn=x(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.addImpliedTimeUnits=_a.reverseTimeUnits=void 0;function dO(n){let t={};for(let e in n)t[e]=-n[e];return t}_a.reverseTimeUnits=dO;function fO(n,t){let e=n.clone(),r=n.dayjs();for(let i in t)r=r.add(t[i],i);return("day"in t||"d"in t||"week"in t||"month"in t||"year"in t)&&(e.imply("day",r.date()),e.imply("month",r.month()+1),e.imply("year",r.year())),("second"in t||"minute"in t||"hour"in t)&&(e.imply("second",r.second()),e.imply("minute",r.minute()),e.imply("hour",r.hour())),e}_a.addImpliedTimeUnits=fO});var MT=x(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});var gp=Mt(),pO=nt(),mO=re(),hO=qn(),gO=new RegExp(`(${gp.TIME_UNITS_PATTERN})\\s{0,5}(?:ago|before|earlier)(?=(?:\\W|$))`,"i"),yO=new RegExp(`(${gp.TIME_UNITS_PATTERN})\\s{0,5}ago(?=(?:\\W|$))`,"i"),hp=class extends mO.AbstractParserWithWordBoundaryChecking{constructor(t){super(),this.strictMode=t}innerPattern(){return this.strictMode?yO:gO}innerExtract(t,e){let r=gp.parseTimeUnits(e[1]),i=hO.reverseTimeUnits(r);return pO.ParsingComponents.createRelativeFromReference(t.reference,i)}};yp.default=hp});var RT=x(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});var Tp=Mt(),bO=nt(),TO=re(),_O=new RegExp(`(${Tp.TIME_UNITS_PATTERN})\\s{0,5}(?:later|after|from now|henceforth|forward|out)(?=(?:\\W|$))`,"i"),vO=new RegExp("("+Tp.TIME_UNITS_PATTERN+")(later|from now)(?=(?:\\W|$))","i"),wO=1,bp=class extends TO.AbstractParserWithWordBoundaryChecking{constructor(t){super(),this.strictMode=t}innerPattern(){return this.strictMode?vO:_O}innerExtract(t,e){let r=Tp.parseTimeUnits(e[wO]);return bO.ParsingComponents.createRelativeFromReference(t.reference,r)}};_p.default=bp});var wa=x(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.MergingRefiner=va.Filter=void 0;var vp=class{refine(t,e){return e.filter(r=>this.isValid(t,r))}};va.Filter=vp;var wp=class{refine(t,e){if(e.length<2)return e;let r=[],i=e[0],s=null;for(let a=1;a<e.length;a++){s=e[a];let o=t.text.substring(i.index+i.text.length,s.index);if(!this.shouldMergeResults(o,i,s,t))r.push(i),i=s;else{let l=i,u=s,c=this.mergeResults(o,l,u,t);t.debug(()=>{console.log(`${this.constructor.name} merged ${l} and ${u} into ${c}`)}),i=c}}return i!=null&&r.push(i),r}};va.MergingRefiner=wp});var Wr=x(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});var kO=wa(),kp=class extends kO.MergingRefiner{shouldMergeResults(t,e,r){return!e.end&&!r.end&&t.match(this.patternBetween())!=null}mergeResults(t,e,r){if(!e.start.isOnlyWeekdayComponent()&&!r.start.isOnlyWeekdayComponent()&&(r.start.getCertainComponents().forEach(s=>{e.start.isCertain(s)||e.start.assign(s,r.start.get(s))}),e.start.getCertainComponents().forEach(s=>{r.start.isCertain(s)||r.start.assign(s,e.start.get(s))})),e.start.date().getTime()>r.start.date().getTime()){let s=e.start.dayjs(),a=r.start.dayjs();e.start.isOnlyWeekdayComponent()&&s.add(-7,"days").isBefore(a)?(s=s.add(-7,"days"),e.start.imply("day",s.date()),e.start.imply("month",s.month()+1),e.start.imply("year",s.year())):r.start.isOnlyWeekdayComponent()&&a.add(7,"days").isAfter(s)?(a=a.add(7,"days"),r.start.imply("day",a.date()),r.start.imply("month",a.month()+1),r.start.imply("year",a.year())):[r,e]=[e,r]}let i=e.clone();return i.start=e.start,i.end=r.start,i.index=Math.min(e.index,r.index),e.index<r.index?i.text=e.text+t+r.text:i.text=r.text+t+e.text,i}};Sp.default=kp});var AT=x(Xo=>{"use strict";var SO=Xo&&Xo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Xo,"__esModule",{value:!0});var EO=SO(Wr()),Ep=class extends EO.default{patternBetween(){return/^\s*(to|-)\s*$/i}};Xo.default=Ep});var PT=x(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.mergeDateTimeComponent=ka.mergeDateTimeResult=void 0;var DO=ht();function xO(n,t){let e=n.clone(),r=n.start,i=t.start;if(e.start=Dp(r,i),n.end!=null||t.end!=null){let s=n.end==null?n.start:n.end,a=t.end==null?t.start:t.end,o=Dp(s,a);n.end==null&&o.date().getTime()<e.start.date().getTime()&&(o.isCertain("day")?o.assign("day",o.get("day")+1):o.imply("day",o.get("day")+1)),e.end=o}return e}ka.mergeDateTimeResult=xO;function Dp(n,t){let e=n.clone();return t.isCertain("hour")?(e.assign("hour",t.get("hour")),e.assign("minute",t.get("minute")),t.isCertain("second")?(e.assign("second",t.get("second")),t.isCertain("millisecond")?e.assign("millisecond",t.get("millisecond")):e.imply("millisecond",t.get("millisecond"))):(e.imply("second",t.get("second")),e.imply("millisecond",t.get("millisecond")))):(e.imply("hour",t.get("hour")),e.imply("minute",t.get("minute")),e.imply("second",t.get("second")),e.imply("millisecond",t.get("millisecond"))),t.isCertain("timezoneOffset")&&e.assign("timezoneOffset",t.get("timezoneOffset")),t.isCertain("meridiem")?e.assign("meridiem",t.get("meridiem")):t.get("meridiem")!=null&&e.get("meridiem")==null&&e.imply("meridiem",t.get("meridiem")),e.get("meridiem")==DO.Meridiem.PM&&e.get("hour")<12&&(t.isCertain("hour")?e.assign("hour",e.get("hour")+12):e.imply("hour",e.get("hour")+12)),e}ka.mergeDateTimeComponent=Dp});var si=x(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});var OO=wa(),NT=PT(),xp=class extends OO.MergingRefiner{shouldMergeResults(t,e,r){return(e.start.isOnlyDate()&&r.start.isOnlyTime()||r.start.isOnlyDate()&&e.start.isOnlyTime())&&t.match(this.patternBetween())!=null}mergeResults(t,e,r){let i=e.start.isOnlyDate()?NT.mergeDateTimeResult(e,r):NT.mergeDateTimeResult(r,e);return i.index=e.index,i.text=e.text+t+r.text,i}};Op.default=xp});var IT=x(Zo=>{"use strict";var CO=Zo&&Zo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Zo,"__esModule",{value:!0});var MO=CO(si()),Cp=class extends MO.default{patternBetween(){return new RegExp("^\\s*(T|at|after|before|on|of|,|-)?\\s*$")}};Zo.default=Cp});var FT=x(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});var RO=new RegExp("^\\s*,?\\s*\\(?([A-Z]{2,4})\\)?(?=\\W|$)","i"),AO={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:240,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360},Mp=class{constructor(t){this.timezone=Object.assign(Object.assign({},AO),t)}refine(t,e){var r;let i=(r=t.option.timezones)!==null&&r!==void 0?r:{};return e.forEach(s=>{var a,o;let l=t.text.substring(s.index+s.text.length),u=RO.exec(l);if(!u)return;let c=u[1].toUpperCase(),d=(o=(a=i[c])!==null&&a!==void 0?a:this.timezone[c])!==null&&o!==void 0?o:null;if(d===null)return;t.debug(()=>{console.log(`Extracting timezone: '${c}' into: ${d} for: ${s.start}`)});let f=s.start.get("timezoneOffset");f!==null&&d!=f&&(s.start.isCertain("timezoneOffset")||c!=u[1])||s.start.isOnlyDate()&&c!=u[1]||(s.text+=u[0],s.start.isCertain("timezoneOffset")||s.start.assign("timezoneOffset",d),s.end!=null&&!s.end.isCertain("timezoneOffset")&&s.end.assign("timezoneOffset",d))}),e}};Rp.default=Mp});var Ju=x(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});var PO=new RegExp("^\\s*(?:\\(?(?:GMT|UTC)\\s?)?([+-])(\\d{1,2})(?::?(\\d{2}))?\\)?","i"),NO=1,IO=2,FO=3,Ap=class{refine(t,e){return e.forEach(function(r){if(r.start.isCertain("timezoneOffset"))return;let i=t.text.substring(r.index+r.text.length),s=PO.exec(i);if(!s)return;t.debug(()=>{console.log(`Extracting timezone: '${s[0]}' into : ${r}`)});let a=parseInt(s[IO]),o=parseInt(s[FO]||"0"),l=a*60+o;l>14*60||(s[NO]==="-"&&(l=-l),r.end!=null&&r.end.assign("timezoneOffset",l),r.start.assign("timezoneOffset",l),r.text+=s[0])}),e}};Pp.default=Ap});var LT=x(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});var Np=class{refine(t,e){if(e.length<2)return e;let r=[],i=e[0];for(let s=1;s<e.length;s++){let a=e[s];a.index<i.index+i.text.length?a.text.length>i.text.length&&(i=a):(r.push(i),i=a)}return i!=null&&r.push(i),r}};Ip.default=Np});var UT=x(Jo=>{"use strict";var LO=Jo&&Jo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Jo,"__esModule",{value:!0});var UO=LO(Ue()),Fp=class{refine(t,e){return t.option.forwardDate&&e.forEach(function(r){let i=UO.default(t.refDate);if(r.start.isOnlyDayMonthComponent()&&i.isAfter(r.start.dayjs()))for(let s=0;s<3&&i.isAfter(r.start.dayjs());s++)r.start.imply("year",r.start.get("year")+1),t.debug(()=>{console.log(`Forward yearly adjusted for ${r} (${r.start})`)}),r.end&&!r.end.isCertain("year")&&(r.end.imply("year",r.end.get("year")+1),t.debug(()=>{console.log(`Forward yearly adjusted for ${r} (${r.end})`)}));r.start.isOnlyWeekdayComponent()&&i.isAfter(r.start.dayjs())&&(i.day()>=r.start.get("weekday")?i=i.day(r.start.get("weekday")+7):i=i.day(r.start.get("weekday")),r.start.imply("day",i.date()),r.start.imply("month",i.month()+1),r.start.imply("year",i.year()),t.debug(()=>{console.log(`Forward weekly adjusted for ${r} (${r.start})`)}),r.end&&r.end.isOnlyWeekdayComponent()&&(i.day()>r.end.get("weekday")?i=i.day(r.end.get("weekday")+7):i=i.day(r.end.get("weekday")),r.end.imply("day",i.date()),r.end.imply("month",i.month()+1),r.end.imply("year",i.year()),t.debug(()=>{console.log(`Forward weekly adjusted for ${r} (${r.end})`)})))}),e}};Jo.default=Fp});var jT=x(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});var jO=wa(),Lp=class extends jO.Filter{constructor(t){super(),this.strictMode=t}isValid(t,e){return e.text.replace(" ","").match(/^\d*(\.\d*)?$/)?(t.debug(()=>{console.log(`Removing unlikely result '${e.text}'`)}),!1):e.start.isValidDate()?e.end&&!e.end.isValidDate()?(t.debug(()=>{console.log(`Removing invalid result: ${e} (${e.end})`)}),!1):this.strictMode?this.isStrictModeValid(t,e):!0:(t.debug(()=>{console.log(`Removing invalid result: ${e} (${e.start})`)}),!1)}isStrictModeValid(t,e){return e.start.isOnlyWeekdayComponent()?(t.debug(()=>{console.log(`(Strict) Removing weekday only component: ${e} (${e.end})`)}),!1):e.start.isOnlyTime()&&(!e.start.isCertain("hour")||!e.start.isCertain("minute"))?(t.debug(()=>{console.log(`(Strict) Removing uncertain time component: ${e} (${e.end})`)}),!1):!0}};Up.default=Lp});var $p=x(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});var WO=re(),$O=new RegExp("([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})(?:T([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2})(?:\\.(\\d{1,4}))?)?(?:Z|([+-]\\d{2}):?(\\d{2})?)?)?(?=\\W|$)","i"),qO=1,YO=2,HO=3,WT=4,GO=5,$T=6,qT=7,YT=8,HT=9,jp=class extends WO.AbstractParserWithWordBoundaryChecking{innerPattern(){return $O}innerExtract(t,e){let r={};if(r.year=parseInt(e[qO]),r.month=parseInt(e[YO]),r.day=parseInt(e[HO]),e[WT]!=null)if(r.hour=parseInt(e[WT]),r.minute=parseInt(e[GO]),e[$T]!=null&&(r.second=parseInt(e[$T])),e[qT]!=null&&(r.millisecond=parseInt(e[qT])),e[YT]==null)r.timezoneOffset=0;else{let i=parseInt(e[YT]),s=0;e[HT]!=null&&(s=parseInt(e[HT]));let a=i*60;a<0?a-=s:a+=s,r.timezoneOffset=a}return r}};Wp.default=jp});var GT=x(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});var BO=wa(),qp=class extends BO.MergingRefiner{mergeResults(t,e,r){let i=r.clone();return i.index=e.index,i.text=e.text+t+i.text,i.start.assign("weekday",e.start.get("weekday")),i.end&&i.end.assign("weekday",e.start.get("weekday")),i}shouldMergeResults(t,e,r){return e.start.isOnlyWeekdayComponent()&&!e.start.isCertain("hour")&&r.start.isCertain("day")&&t.match(/^,?\s*$/)!=null}};Yp.default=qp});var ai=x(Sa=>{"use strict";var _s=Sa&&Sa.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.includeCommonConfiguration=void 0;var VO=_s(FT()),zO=_s(Ju()),BT=_s(LT()),KO=_s(UT()),QO=_s(jT()),XO=_s($p()),ZO=_s(GT());function JO(n,t=!1){return n.parsers.unshift(new XO.default),n.refiners.unshift(new ZO.default),n.refiners.unshift(new VO.default),n.refiners.unshift(new zO.default),n.refiners.unshift(new BT.default),n.refiners.push(new BT.default),n.refiners.push(new KO.default),n.refiners.push(new QO.default(t)),n}Sa.includeCommonConfiguration=JO});var li=x(Ge=>{"use strict";var e1=Ge&&Ge.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.noon=Ge.morning=Ge.midnight=Ge.yesterdayEvening=Ge.evening=Ge.lastNight=Ge.tonight=Ge.theDayAfter=Ge.tomorrow=Ge.theDayBefore=Ge.yesterday=Ge.today=Ge.now=void 0;var $r=nt(),Ea=e1(Ue()),oi=$n(),el=ht();function t1(n){let t=Ea.default(n.instant),e=new $r.ParsingComponents(n,{});return oi.assignSimilarDate(e,t),oi.assignSimilarTime(e,t),n.timezoneOffset!==null&&e.assign("timezoneOffset",t.utcOffset()),e}Ge.now=t1;function n1(n){let t=Ea.default(n.instant),e=new $r.ParsingComponents(n,{});return oi.assignSimilarDate(e,t),oi.implySimilarTime(e,t),e}Ge.today=n1;function r1(n){return VT(n,1)}Ge.yesterday=r1;function VT(n,t){return Hp(n,-t)}Ge.theDayBefore=VT;function i1(n){return Hp(n,1)}Ge.tomorrow=i1;function Hp(n,t){let e=Ea.default(n.instant),r=new $r.ParsingComponents(n,{});return e=e.add(t,"day"),oi.assignSimilarDate(r,e),oi.implySimilarTime(r,e),r}Ge.theDayAfter=Hp;function s1(n,t=22){let e=Ea.default(n.instant),r=new $r.ParsingComponents(n,{});return r.imply("hour",t),r.imply("meridiem",el.Meridiem.PM),oi.assignSimilarDate(r,e),r}Ge.tonight=s1;function a1(n,t=0){let e=Ea.default(n.instant),r=new $r.ParsingComponents(n,{});return e.hour()<6&&(e=e.add(-1,"day")),oi.assignSimilarDate(r,e),r.imply("hour",t),r}Ge.lastNight=a1;function o1(n,t=20){let e=new $r.ParsingComponents(n,{});return e.imply("meridiem",el.Meridiem.PM),e.imply("hour",t),e}Ge.evening=o1;function l1(n,t=20){let e=Ea.default(n.instant),r=new $r.ParsingComponents(n,{});return e=e.add(-1,"day"),oi.assignSimilarDate(r,e),r.imply("hour",t),r.imply("meridiem",el.Meridiem.PM),r}Ge.yesterdayEvening=l1;function u1(n){let t=new $r.ParsingComponents(n,{});return t.imply("hour",0),t.imply("minute",0),t.imply("second",0),t}Ge.midnight=u1;function c1(n,t=6){let e=new $r.ParsingComponents(n,{});return e.imply("meridiem",el.Meridiem.AM),e.imply("hour",t),e}Ge.morning=c1;function d1(n){let t=new $r.ParsingComponents(n,{});return t.imply("meridiem",el.Meridiem.AM),t.imply("hour",12),t}Ge.noon=d1});var zT=x(gr=>{"use strict";var f1=gr&&gr.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),p1=gr&&gr.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),m1=gr&&gr.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&f1(t,n,e);return p1(t,n),t},h1=gr&&gr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(gr,"__esModule",{value:!0});var g1=h1(Ue()),y1=re(),b1=$n(),tl=m1(li()),T1=/(now|today|tonight|tomorrow|tmr|tmrw|yesterday|last\s*night)(?=\W|$)/i,Gp=class extends y1.AbstractParserWithWordBoundaryChecking{innerPattern(t){return T1}innerExtract(t,e){let r=g1.default(t.refDate),i=e[0].toLowerCase(),s=t.createParsingComponents();switch(i){case"now":return tl.now(t.reference);case"today":return tl.today(t.reference);case"yesterday":return tl.yesterday(t.reference);case"tomorrow":case"tmr":case"tmrw":return tl.tomorrow(t.reference);case"tonight":return tl.tonight(t.reference);default:i.match(/last\s*night/)&&(r.hour()>6&&(r=r.add(-1,"day")),b1.assignSimilarDate(s,r),s.imply("hour",0));break}return s}};gr.default=Gp});var KT=x(nl=>{"use strict";var _1=nl&&nl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(nl,"__esModule",{value:!0});var ec=ht(),v1=re(),w1=_1(Ue()),k1=$n(),S1=/(?:this)?\s{0,3}(morning|afternoon|evening|night|midnight|noon)(?=\W|$)/i,Bp=class extends v1.AbstractParserWithWordBoundaryChecking{innerPattern(){return S1}innerExtract(t,e){let r=w1.default(t.refDate),i=t.createParsingComponents();switch(e[1].toLowerCase()){case"afternoon":i.imply("meridiem",ec.Meridiem.PM),i.imply("hour",15);break;case"evening":case"night":i.imply("meridiem",ec.Meridiem.PM),i.imply("hour",20);break;case"midnight":k1.assignTheNextDay(i,r),i.imply("hour",0),i.imply("minute",0),i.imply("second",0);break;case"morning":i.imply("meridiem",ec.Meridiem.AM),i.imply("hour",6);break;case"noon":i.imply("meridiem",ec.Meridiem.AM),i.imply("hour",12);break}return i}};nl.default=Bp});var vs=x(Fi=>{"use strict";var E1=Fi&&Fi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.toDayJSClosestWeekday=Fi.toDayJSWeekday=void 0;var QT=E1(Ue());function D1(n,t,e){if(!e)return XT(n,t);let r=QT.default(n);switch(e){case"this":r=r.day(t);break;case"next":r=r.day(t+7);break;case"last":r=r.day(t-7);break}return r}Fi.toDayJSWeekday=D1;function XT(n,t){let e=QT.default(n),r=e.day();return Math.abs(t-7-r)<Math.abs(t-r)?e=e.day(t-7):Math.abs(t+7-r)<Math.abs(t-r)?e=e.day(t+7):e=e.day(t),e}Fi.toDayJSClosestWeekday=XT});var JT=x(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});var ZT=Mt(),x1=Ke(),O1=re(),C1=vs(),M1=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:on\\s*?)?(?:(this|last|past|next)\\s*)?(${x1.matchAnyPattern(ZT.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(this|last|past|next)\\s*week)?(?=\\W|$)`,"i"),R1=1,A1=2,P1=3,Vp=class extends O1.AbstractParserWithWordBoundaryChecking{innerPattern(){return M1}innerExtract(t,e){let r=e[A1].toLowerCase(),i=ZT.WEEKDAY_DICTIONARY[r],s=e[R1],a=e[P1],o=s||a;o=o||"",o=o.toLowerCase();let l=null;o=="last"||o=="past"?l="last":o=="next"?l="next":o=="this"&&(l="this");let u=C1.toDayJSWeekday(t.refDate,i,l);return t.createParsingComponents().assign("weekday",i).imply("day",u.date()).imply("month",u.month()+1).imply("year",u.year())}};zp.default=Vp});var n_=x(rl=>{"use strict";var N1=rl&&rl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(rl,"__esModule",{value:!0});var t_=Mt(),e_=nt(),I1=N1(Ue()),F1=re(),L1=Ke(),U1=new RegExp(`(this|last|past|next|after\\s*this)\\s*(${L1.matchAnyPattern(t_.TIME_UNIT_DICTIONARY)})(?=\\s*)(?=\\W|$)`,"i"),j1=1,W1=2,Kp=class extends F1.AbstractParserWithWordBoundaryChecking{innerPattern(){return U1}innerExtract(t,e){let r=e[j1].toLowerCase(),i=e[W1].toLowerCase(),s=t_.TIME_UNIT_DICTIONARY[i];if(r=="next"||r.startsWith("after")){let l={};return l[s]=1,e_.ParsingComponents.createRelativeFromReference(t.reference,l)}if(r=="last"||r=="past"){let l={};return l[s]=-1,e_.ParsingComponents.createRelativeFromReference(t.reference,l)}let a=t.createParsingComponents(),o=I1.default(t.reference.instant);return i.match(/week/i)?(o=o.add(-o.get("d"),"d"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.imply("year",o.year())):i.match(/month/i)?(o=o.add(-o.date()+1,"d"),a.imply("day",o.date()),a.assign("year",o.year()),a.assign("month",o.month()+1)):i.match(/year/i)&&(o=o.add(-o.date()+1,"d"),o=o.add(-o.month(),"month"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.assign("year",o.year())),a}};rl.default=Kp});var yr=x(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.ParsingContext=Oa.Chrono=void 0;var Da=nt(),$1=Qp(),xa=class{constructor(t){t=t||$1.createCasualConfiguration(),this.parsers=[...t.parsers],this.refiners=[...t.refiners]}clone(){return new xa({parsers:[...this.parsers],refiners:[...this.refiners]})}parseDate(t,e,r){let i=this.parse(t,e,r);return i.length>0?i[0].start.date():null}parse(t,e,r){let i=new tc(t,e,r),s=[];return this.parsers.forEach(a=>{let o=xa.executeParser(i,a);s=s.concat(o)}),s.sort((a,o)=>a.index-o.index),this.refiners.forEach(function(a){s=a.refine(i,s)}),s}static executeParser(t,e){let r=[],i=e.pattern(t),s=t.text,a=t.text,o=i.exec(a);for(;o;){let l=o.index+s.length-a.length;o.index=l;let u=e.extract(t,o);if(!u){a=s.substring(o.index+1),o=i.exec(a);continue}let c=null;u instanceof Da.ParsingResult?c=u:u instanceof Da.ParsingComponents?(c=t.createParsingResult(o.index,o[0]),c.start=u):c=t.createParsingResult(o.index,o[0],u),t.debug(()=>console.log(`${e.constructor.name} extracted result ${c}`)),r.push(c),a=s.substring(l+c.text.length),o=i.exec(a)}return r}};Oa.Chrono=xa;var tc=class{constructor(t,e,r){this.text=t,this.reference=new Da.ReferenceWithTimezone(e),this.option=r!=null?r:{},this.refDate=this.reference.instant}createParsingComponents(t){return t instanceof Da.ParsingComponents?t:new Da.ParsingComponents(this.reference,t)}createParsingResult(t,e,r,i){let s=typeof e=="string"?e:this.text.substring(t,e),a=r?this.createParsingComponents(r):null,o=i?this.createParsingComponents(i):null;return new Da.ParsingResult(this.reference,t,s,a,o)}debug(t){this.option.debug&&(this.option.debug instanceof Function?this.option.debug(t):this.option.debug.debug(t))}};Oa.ParsingContext=tc});var ws=x(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});var r_=Ct(),q1=new RegExp("([^\\d]|^)([0-3]{0,1}[0-9]{1})[\\/\\.\\-]([0-3]{0,1}[0-9]{1})(?:[\\/\\.\\-]([0-9]{4}|[0-9]{2}))?(\\W|$)","i"),nc=1,i_=5,s_=2,a_=3,Xp=4,Zp=class{constructor(t){this.groupNumberMonth=t?a_:s_,this.groupNumberDay=t?s_:a_}pattern(){return q1}extract(t,e){if(e[nc]=="/"||e[i_]=="/"){e.index+=e[0].length;return}let r=e.index+e[nc].length,i=e[0].substr(e[nc].length,e[0].length-e[nc].length-e[i_].length);if(i.match(/^\d\.\d$/)||i.match(/^\d\.\d{1,2}\.\d{1,2}\s*$/)||!e[Xp]&&e[0].indexOf("/")<0)return;let s=t.createParsingResult(r,i),a=parseInt(e[this.groupNumberMonth]),o=parseInt(e[this.groupNumberDay]);if((a<1||a>12)&&a>12)if(o>=1&&o<=12&&a<=31)[o,a]=[a,o];else return null;if(o<1||o>31)return null;if(s.start.assign("day",o),s.start.assign("month",a),e[Xp]){let l=parseInt(e[Xp]),u=r_.findMostLikelyADYear(l);s.start.assign("year",u)}else{let l=r_.findYearClosestToRef(t.refDate,o,a);s.start.imply("year",l)}return s}};Jp.default=Zp});var l_=x(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});var o_=Mt(),Y1=nt(),H1=re(),G1=qn(),B1=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${o_.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),em=class extends H1.AbstractParserWithWordBoundaryChecking{innerPattern(){return B1}innerExtract(t,e){let r=e[1].toLowerCase(),i=o_.parseTimeUnits(e[2]);switch(r){case"last":case"past":case"-":i=G1.reverseTimeUnits(i);break}return Y1.ParsingComponents.createRelativeFromReference(t.reference,i)}};tm.default=em});var c_=x(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});var V1=wa(),nm=nt(),z1=Mt(),K1=qn();function u_(n){return n.text.match(/\s+(before|from)$/i)!=null}function Q1(n){return n.text.match(/\s+(after|since)$/i)!=null}var rm=class extends V1.MergingRefiner{patternBetween(){return/^\s*$/i}shouldMergeResults(t,e,r){return!t.match(this.patternBetween())||!u_(e)&&!Q1(e)?!1:!!r.start.get("day")&&!!r.start.get("month")&&!!r.start.get("year")}mergeResults(t,e,r){let i=z1.parseTimeUnits(e.text);u_(e)&&(i=K1.reverseTimeUnits(i));let s=nm.ParsingComponents.createRelativeFromReference(new nm.ReferenceWithTimezone(r.start.date()),i);return new nm.ParsingResult(r.reference,e.index,`${e.text}${t}${r.text}`,s)}};im.default=rm});var Qp=x(ot=>{"use strict";var bt=ot&&ot.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ot,"__esModule",{value:!0});ot.createConfiguration=ot.createCasualConfiguration=ot.parseDate=ot.parse=ot.GB=ot.strict=ot.casual=void 0;var X1=bt(uT()),Z1=bt(hT()),J1=bt(_T()),eC=bt(kT()),tC=bt(DT()),nC=bt(xT()),rC=bt(CT()),iC=bt(MT()),sC=bt(RT()),aC=bt(AT()),oC=bt(IT()),lC=ai(),uC=bt(zT()),cC=bt(KT()),dC=bt(JT()),fC=bt(n_()),sm=yr(),pC=bt(ws()),mC=bt(l_()),hC=bt(c_());ot.casual=new sm.Chrono(d_(!1));ot.strict=new sm.Chrono(rc(!0,!1));ot.GB=new sm.Chrono(rc(!1,!0));function gC(n,t,e){return ot.casual.parse(n,t,e)}ot.parse=gC;function yC(n,t,e){return ot.casual.parseDate(n,t,e)}ot.parseDate=yC;function d_(n=!1){let t=rc(!1,n);return t.parsers.unshift(new uC.default),t.parsers.unshift(new cC.default),t.parsers.unshift(new eC.default),t.parsers.unshift(new fC.default),t.parsers.unshift(new mC.default),t}ot.createCasualConfiguration=d_;function rc(n=!0,t=!1){return lC.includeCommonConfiguration({parsers:[new pC.default(t),new X1.default,new Z1.default,new J1.default,new dC.default,new tC.default,new nC.default,new rC.default(n),new iC.default(n),new sC.default(n)],refiners:[new hC.default,new oC.default,new aC.default]},n)}ot.createConfiguration=rc});var f_=x(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});var bC=Ts(),am=class extends bC.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:um|von)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|bis)\\s*"}extractPrimaryTimeComponents(t,e){return e[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(t,e)}};om.default=am});var il=x(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.parseTimeUnits=Qe.TIME_UNITS_PATTERN=Qe.parseYear=Qe.YEAR_PATTERN=Qe.parseNumberPattern=Qe.NUMBER_PATTERN=Qe.TIME_UNIT_DICTIONARY=Qe.INTEGER_WORD_DICTIONARY=Qe.MONTH_DICTIONARY=Qe.WEEKDAY_DICTIONARY=void 0;var lm=Ke(),TC=Ct();Qe.WEEKDAY_DICTIONARY={sonntag:0,so:0,montag:1,mo:1,dienstag:2,di:2,mittwoch:3,mi:3,donnerstag:4,do:4,freitag:5,fr:5,samstag:6,sa:6};Qe.MONTH_DICTIONARY={januar:1,j\u00E4nner:1,janner:1,jan:1,"jan.":1,februar:2,feber:2,feb:2,"feb.":2,m\u00E4rz:3,maerz:3,m\u00E4r:3,"m\xE4r.":3,mrz:3,"mrz.":3,april:4,apr:4,"apr.":4,mai:5,juni:6,jun:6,"jun.":6,juli:7,jul:7,"jul.":7,august:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,sept:9,"sept.":9,oktober:10,okt:10,"okt.":10,november:11,nov:11,"nov.":11,dezember:12,dez:12,"dez.":12};Qe.INTEGER_WORD_DICTIONARY={eins:1,eine:1,einem:1,einen:1,einer:1,zwei:2,drei:3,vier:4,f\u00FCnf:5,fuenf:5,sechs:6,sieben:7,acht:8,neun:9,zehn:10,elf:11,zw\u00F6lf:12,zwoelf:12};Qe.TIME_UNIT_DICTIONARY={sek:"second",sekunde:"second",sekunden:"second",min:"minute",minute:"minute",minuten:"minute",h:"hour",std:"hour",stunde:"hour",stunden:"hour",tag:"d",tage:"d",tagen:"d",woche:"week",wochen:"week",monat:"month",monate:"month",monaten:"month",monats:"month",quartal:"quarter",quartals:"quarter",quartale:"quarter",quartalen:"quarter",a:"year",j:"year",jr:"year",jahr:"year",jahre:"year",jahren:"year",jahres:"year"};Qe.NUMBER_PATTERN=`(?:${lm.matchAnyPattern(Qe.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s*an?)?|an?\\b(?:\\s*few)?|few|several|a?\\s*couple\\s*(?:of)?)`;function m_(n){let t=n.toLowerCase();return Qe.INTEGER_WORD_DICTIONARY[t]!==void 0?Qe.INTEGER_WORD_DICTIONARY[t]:t==="a"||t==="an"?1:t.match(/few/)?3:t.match(/half/)?.5:t.match(/couple/)?2:t.match(/several/)?7:parseFloat(t)}Qe.parseNumberPattern=m_;Qe.YEAR_PATTERN="(?:[0-9]{1,4}(?:\\s*[vn]\\.?\\s*(?:C(?:hr)?|(?:u\\.?|d\\.?(?:\\s*g\\.?)?)?\\s*Z)\\.?|\\s*(?:u\\.?|d\\.?(?:\\s*g\\.)?)\\s*Z\\.?)?)";function _C(n){if(/v/i.test(n))return-parseInt(n.replace(/[^0-9]+/gi,""));if(/n/i.test(n))return parseInt(n.replace(/[^0-9]+/gi,""));if(/z/i.test(n))return parseInt(n.replace(/[^0-9]+/gi,""));let t=parseInt(n);return TC.findMostLikelyADYear(t)}Qe.parseYear=_C;var h_=`(${Qe.NUMBER_PATTERN})\\s{0,5}(${lm.matchAnyPattern(Qe.TIME_UNIT_DICTIONARY)})\\s{0,5}`,p_=new RegExp(h_,"i");Qe.TIME_UNITS_PATTERN=lm.repeatedTimeunitPattern("",h_);function vC(n){let t={},e=n,r=p_.exec(e);for(;r;)wC(t,r),e=e.substring(r[0].length),r=p_.exec(e);return t}Qe.parseTimeUnits=vC;function wC(n,t){let e=m_(t[1]),r=Qe.TIME_UNIT_DICTIONARY[t[2].toLowerCase()];n[r]=e}});var y_=x(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});var g_=il(),kC=Ke(),SC=re(),EC=vs(),DC=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:a[mn]\\s*?)?(?:(diese[mn]|letzte[mn]|n(?:\xE4|ae)chste[mn])\\s*)?(${kC.matchAnyPattern(g_.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(diese|letzte|n(?:\xE4|ae)chste)\\s*woche)?(?=\\W|$)`,"i"),xC=1,OC=3,CC=2,um=class extends SC.AbstractParserWithWordBoundaryChecking{innerPattern(){return DC}innerExtract(t,e){let r=e[CC].toLowerCase(),i=g_.WEEKDAY_DICTIONARY[r],s=e[xC],a=e[OC],o=s||a;o=o||"",o=o.toLowerCase();let l=null;o.match(/letzte/)?l="last":o.match(/chste/)?l="next":o.match(/diese/)&&(l="this");let u=EC.toDayJSWeekday(t.refDate,i,l);return t.createParsingComponents().assign("weekday",i).imply("day",u.date()).imply("month",u.month()+1).imply("year",u.year())}};cm.default=um});var v_=x(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});var Li=ht(),MC=new RegExp("(^|\\s|T)(?:(?:um|von)\\s*)?(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s)?)?(?:\\s*Uhr)?(?:\\s*(morgens|vormittags|nachmittags|abends|nachts|am\\s+(?:Morgen|Vormittag|Nachmittag|Abend)|in\\s+der\\s+Nacht))?(?=\\W|$)","i"),RC=new RegExp("^\\s*(\\-|\\\u2013|\\~|\\\u301C|bis(?:\\s+um)?|\\?)\\s*(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s)?)?(?:\\s*Uhr)?(?:\\s*(morgens|vormittags|nachmittags|abends|nachts|am\\s+(?:Morgen|Vormittag|Nachmittag|Abend)|in\\s+der\\s+Nacht))?(?=\\W|$)","i"),AC=2,b_=3,T_=4,__=5,Ca=class{pattern(t){return MC}extract(t,e){let r=t.createParsingResult(e.index+e[1].length,e[0].substring(e[1].length));if(r.text.match(/^\d{4}$/)||(r.start=Ca.extractTimeComponent(r.start.clone(),e),!r.start))return e.index+=e[0].length,null;let i=t.text.substring(e.index+e[0].length),s=RC.exec(i);return s&&(r.end=Ca.extractTimeComponent(r.start.clone(),s),r.end&&(r.text+=s[0])),r}static extractTimeComponent(t,e){let r=0,i=0,s=null;if(r=parseInt(e[AC]),e[b_]!=null&&(i=parseInt(e[b_])),i>=60||r>24)return null;if(r>=12&&(s=Li.Meridiem.PM),e[__]!=null){if(r>12)return null;let a=e[__].toLowerCase();a.match(/morgen|vormittag/)&&(s=Li.Meridiem.AM,r==12&&(r=0)),a.match(/nachmittag|abend/)&&(s=Li.Meridiem.PM,r!=12&&(r+=12)),a.match(/nacht/)&&(r==12?(s=Li.Meridiem.AM,r=0):r<6?s=Li.Meridiem.AM:(s=Li.Meridiem.PM,r+=12))}if(t.assign("hour",r),t.assign("minute",i),s!==null?t.assign("meridiem",s):r<12?t.imply("meridiem",Li.Meridiem.AM):t.imply("meridiem",Li.Meridiem.PM),e[T_]!=null){let a=parseInt(e[T_]);if(a>=60)return null;t.assign("second",a)}return t}};dm.default=Ca});var w_=x(sl=>{"use strict";var PC=sl&&sl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(sl,"__esModule",{value:!0});var NC=PC(Wr()),fm=class extends NC.default{patternBetween(){return/^\s*(bis(?:\s*(?:am|zum))?|-)\s*$/i}};sl.default=fm});var k_=x(al=>{"use strict";var IC=al&&al.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(al,"__esModule",{value:!0});var FC=IC(si()),pm=class extends FC.default{patternBetween(){return new RegExp("^\\s*(T|um|am|,|-)?\\s*$")}};al.default=pm});var mm=x(ll=>{"use strict";var LC=ll&&ll.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ll,"__esModule",{value:!0});var UC=LC(Ue()),ks=ht(),jC=re(),WC=$n(),$C=qn(),ol=class extends jC.AbstractParserWithWordBoundaryChecking{innerPattern(t){return/(diesen)?\s*(morgen|vormittag|mittags?|nachmittag|abend|nacht|mitternacht)(?=\W|$)/i}innerExtract(t,e){let r=UC.default(t.refDate),i=e[2].toLowerCase(),s=t.createParsingComponents();return WC.implySimilarTime(s,r),ol.extractTimeComponents(s,i)}static extractTimeComponents(t,e){switch(e){case"morgen":t.imply("hour",6),t.imply("minute",0),t.imply("second",0),t.imply("meridiem",ks.Meridiem.AM);break;case"vormittag":t.imply("hour",9),t.imply("minute",0),t.imply("second",0),t.imply("meridiem",ks.Meridiem.AM);break;case"mittag":case"mittags":t.imply("hour",12),t.imply("minute",0),t.imply("second",0),t.imply("meridiem",ks.Meridiem.AM);break;case"nachmittag":t.imply("hour",15),t.imply("minute",0),t.imply("second",0),t.imply("meridiem",ks.Meridiem.PM);break;case"abend":t.imply("hour",18),t.imply("minute",0),t.imply("second",0),t.imply("meridiem",ks.Meridiem.PM);break;case"nacht":t.imply("hour",22),t.imply("minute",0),t.imply("second",0),t.imply("meridiem",ks.Meridiem.PM);break;case"mitternacht":t.get("hour")>1&&(t=$C.addImpliedTimeUnits(t,{day:1})),t.imply("hour",0),t.imply("minute",0),t.imply("second",0),t.imply("meridiem",ks.Meridiem.AM);break}return t}};ll.default=ol});var D_=x(br=>{"use strict";var qC=br&&br.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),YC=br&&br.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),HC=br&&br.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&qC(t,n,e);return YC(t,n),t},E_=br&&br.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(br,"__esModule",{value:!0});var GC=E_(Ue()),BC=re(),Ss=$n(),VC=E_(mm()),S_=HC(li()),zC=new RegExp("(jetzt|heute|morgen|\xFCbermorgen|uebermorgen|gestern|vorgestern|letzte\\s*nacht)(?:\\s*(morgen|vormittag|mittags?|nachmittag|abend|nacht|mitternacht))?(?=\\W|$)","i"),KC=1,QC=2,hm=class extends BC.AbstractParserWithWordBoundaryChecking{innerPattern(t){return zC}innerExtract(t,e){let r=GC.default(t.refDate),i=(e[KC]||"").toLowerCase(),s=(e[QC]||"").toLowerCase(),a=t.createParsingComponents();switch(i){case"jetzt":a=S_.now(t.reference);break;case"heute":a=S_.today(t.reference);break;case"morgen":Ss.assignTheNextDay(a,r);break;case"\xFCbermorgen":case"uebermorgen":r=r.add(1,"day"),Ss.assignTheNextDay(a,r);break;case"gestern":r=r.add(-1,"day"),Ss.assignSimilarDate(a,r),Ss.implySimilarTime(a,r);break;case"vorgestern":r=r.add(-2,"day"),Ss.assignSimilarDate(a,r),Ss.implySimilarTime(a,r);break;default:i.match(/letzte\s*nacht/)&&(r.hour()>6&&(r=r.add(-1,"day")),Ss.assignSimilarDate(a,r),a.imply("hour",0));break}return s&&(a=VC.default.extractTimeComponents(a,s)),a}};br.default=hm});var A_=x(ym=>{"use strict";Object.defineProperty(ym,"__esModule",{value:!0});var XC=Ct(),M_=il(),R_=il(),ZC=Ke(),JC=re(),eM=new RegExp(`(?:am\\s*?)?(?:den\\s*?)?([0-9]{1,2})\\.(?:\\s*(?:bis(?:\\s*(?:am|zum))?|\\-|\\\u2013|\\s)\\s*([0-9]{1,2})\\.?)?\\s*(${ZC.matchAnyPattern(M_.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s*)(${R_.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),x_=1,O_=2,tM=3,C_=4,gm=class extends JC.AbstractParserWithWordBoundaryChecking{innerPattern(){return eM}innerExtract(t,e){let r=t.createParsingResult(e.index,e[0]),i=M_.MONTH_DICTIONARY[e[tM].toLowerCase()],s=parseInt(e[x_]);if(s>31)return e.index=e.index+e[x_].length,null;if(r.start.assign("month",i),r.start.assign("day",s),e[C_]){let a=R_.parseYear(e[C_]);r.start.assign("year",a)}else{let a=XC.findYearClosestToRef(t.refDate,s,i);r.start.imply("year",a)}if(e[O_]){let a=parseInt(e[O_]);r.end=r.start.clone(),r.end.assign("day",a)}return r}};ym.default=gm});var P_=x(Tm=>{"use strict";Object.defineProperty(Tm,"__esModule",{value:!0});var ic=il(),nM=nt(),rM=re(),iM=qn(),sM=Ke(),bm=class extends rM.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`(?:\\s*((?:n\xE4chste|kommende|folgende|letzte|vergangene|vorige|vor(?:her|an)gegangene)(?:s|n|m|r)?|vor|in)\\s*)?(${ic.NUMBER_PATTERN})?(?:\\s*(n\xE4chste|kommende|folgende|letzte|vergangene|vorige|vor(?:her|an)gegangene)(?:s|n|m|r)?)?\\s*(${sM.matchAnyPattern(ic.TIME_UNIT_DICTIONARY)})`,"i")}innerExtract(t,e){let r=e[2]?ic.parseNumberPattern(e[2]):1,i=ic.TIME_UNIT_DICTIONARY[e[4].toLowerCase()],s={};s[i]=r;let a=e[1]||e[3]||"";if(a=a.toLowerCase(),!!a)return(/vor/.test(a)||/letzte/.test(a)||/vergangen/.test(a))&&(s=iM.reverseTimeUnits(s)),nM.ParsingComponents.createRelativeFromReference(t.reference,s)}};Tm.default=bm});var F_=x(Tt=>{"use strict";var Tr=Tt&&Tt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.createConfiguration=Tt.createCasualConfiguration=Tt.parseDate=Tt.parse=Tt.strict=Tt.casual=void 0;var aM=ai(),N_=yr(),oM=Tr(ws()),lM=Tr($p()),uM=Tr(f_()),cM=Tr(y_()),dM=Tr(v_()),fM=Tr(w_()),pM=Tr(k_()),mM=Tr(D_()),hM=Tr(mm()),gM=Tr(A_()),yM=Tr(P_());Tt.casual=new N_.Chrono(I_());Tt.strict=new N_.Chrono(_m(!0));function bM(n,t,e){return Tt.casual.parse(n,t,e)}Tt.parse=bM;function TM(n,t,e){return Tt.casual.parseDate(n,t,e)}Tt.parseDate=TM;function I_(n=!0){let t=_m(!1,n);return t.parsers.unshift(new hM.default),t.parsers.unshift(new mM.default),t.parsers.unshift(new yM.default),t}Tt.createCasualConfiguration=I_;function _m(n=!0,t=!0){return aM.includeCommonConfiguration({parsers:[new lM.default,new oM.default(t),new uM.default,new dM.default,new gM.default,new cM.default],refiners:[new fM.default,new pM.default]},n)}Tt.createConfiguration=_m});var U_=x(_r=>{"use strict";var _M=_r&&_r.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),vM=_r&&_r.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),wM=_r&&_r.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&_M(t,n,e);return vM(t,n),t},kM=_r&&_r.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(_r,"__esModule",{value:!0});var SM=kM(Ue()),EM=ht(),DM=re(),L_=$n(),sc=wM(li()),vm=class extends DM.AbstractParserWithWordBoundaryChecking{innerPattern(t){return/(maintenant|aujourd'hui|demain|hier|cette\s*nuit|la\s*veille)(?=\W|$)/i}innerExtract(t,e){let r=SM.default(t.refDate),i=e[0].toLowerCase(),s=t.createParsingComponents();switch(i){case"maintenant":return sc.now(t.reference);case"aujourd'hui":return sc.today(t.reference);case"hier":return sc.yesterday(t.reference);case"demain":return sc.tomorrow(t.reference);default:i.match(/cette\s*nuit/)?(L_.assignSimilarDate(s,r),s.imply("hour",22),s.imply("meridiem",EM.Meridiem.PM)):i.match(/la\s*veille/)&&(r=r.add(-1,"day"),L_.assignSimilarDate(s,r),s.imply("hour",0))}return s}};_r.default=vm});var j_=x(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});var ul=ht(),xM=re(),wm=class extends xM.AbstractParserWithWordBoundaryChecking{innerPattern(t){return/(cet?)?\s*(matin|soir|après-midi|aprem|a midi|à minuit)(?=\W|$)/i}innerExtract(t,e){let r=e[2].toLowerCase(),i=t.createParsingComponents();switch(r){case"apr\xE8s-midi":case"aprem":i.imply("hour",14),i.imply("minute",0),i.imply("meridiem",ul.Meridiem.PM);break;case"soir":i.imply("hour",18),i.imply("minute",0),i.imply("meridiem",ul.Meridiem.PM);break;case"matin":i.imply("hour",8),i.imply("minute",0),i.imply("meridiem",ul.Meridiem.AM);break;case"a midi":i.imply("hour",12),i.imply("minute",0),i.imply("meridiem",ul.Meridiem.AM);break;case"\xE0 minuit":i.imply("hour",0),i.imply("meridiem",ul.Meridiem.AM);break}return i}};km.default=wm});var W_=x(Em=>{"use strict";Object.defineProperty(Em,"__esModule",{value:!0});var OM=Ts(),Sm=class extends OM.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:[\xE0a])\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|[\xE0a]|\\?)\\s*"}extractPrimaryTimeComponents(t,e){return e[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(t,e)}};Em.default=Sm});var $_=x(cl=>{"use strict";var CM=cl&&cl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(cl,"__esModule",{value:!0});var MM=CM(si()),Dm=class extends MM.default{patternBetween(){return new RegExp("^\\s*(T|\xE0|a|vers|de|,|-)?\\s*$")}};cl.default=Dm});var q_=x(dl=>{"use strict";var RM=dl&&dl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(dl,"__esModule",{value:!0});var AM=RM(Wr()),xm=class extends AM.default{patternBetween(){return/^\s*(à|a|-)\s*$/i}};dl.default=xm});var Ui=x(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.parseTimeUnits=je.TIME_UNITS_PATTERN=je.parseYear=je.YEAR_PATTERN=je.parseOrdinalNumberPattern=je.ORDINAL_NUMBER_PATTERN=je.parseNumberPattern=je.NUMBER_PATTERN=je.TIME_UNIT_DICTIONARY=je.INTEGER_WORD_DICTIONARY=je.MONTH_DICTIONARY=je.WEEKDAY_DICTIONARY=void 0;var Om=Ke();je.WEEKDAY_DICTIONARY={dimanche:0,dim:0,lundi:1,lun:1,mardi:2,mar:2,mercredi:3,mer:3,jeudi:4,jeu:4,vendredi:5,ven:5,samedi:6,sam:6};je.MONTH_DICTIONARY={janvier:1,jan:1,"jan.":1,f\u00E9vrier:2,f\u00E9v:2,"f\xE9v.":2,fevrier:2,fev:2,"fev.":2,mars:3,mar:3,"mar.":3,avril:4,avr:4,"avr.":4,mai:5,juin:6,jun:6,juillet:7,juil:7,jul:7,"jul.":7,ao\u00FBt:8,aout:8,septembre:9,sep:9,"sep.":9,sept:9,"sept.":9,octobre:10,oct:10,"oct.":10,novembre:11,nov:11,"nov.":11,d\u00E9cembre:12,decembre:12,dec:12,"dec.":12};je.INTEGER_WORD_DICTIONARY={un:1,deux:2,trois:3,quatre:4,cinq:5,six:6,sept:7,huit:8,neuf:9,dix:10,onze:11,douze:12,treize:13};je.TIME_UNIT_DICTIONARY={sec:"second",seconde:"second",secondes:"second",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",heure:"hour",heures:"hour",jour:"d",jours:"d",semaine:"week",semaines:"week",mois:"month",trimestre:"quarter",trimestres:"quarter",ans:"year",ann\u00E9e:"year",ann\u00E9es:"year"};je.NUMBER_PATTERN=`(?:${Om.matchAnyPattern(je.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|une?\\b|quelques?|demi-?)`;function H_(n){let t=n.toLowerCase();return je.INTEGER_WORD_DICTIONARY[t]!==void 0?je.INTEGER_WORD_DICTIONARY[t]:t==="une"||t==="un"?1:t.match(/quelques?/)?3:t.match(/demi-?/)?.5:parseFloat(t)}je.parseNumberPattern=H_;je.ORDINAL_NUMBER_PATTERN="(?:[0-9]{1,2}(?:er)?)";function PM(n){let t=n.toLowerCase();return t=t.replace(/(?:er)$/i,""),parseInt(t)}je.parseOrdinalNumberPattern=PM;je.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s*(?:AC|AD|p\\.\\s*C(?:hr?)?\\.\\s*n\\.)|[1-2][0-9]{3}|[5-9][0-9])";function NM(n){if(/AC/i.test(n))return n=n.replace(/BC/i,""),-parseInt(n);if(/AD/i.test(n)||/C/i.test(n))return n=n.replace(/[^\d]+/i,""),parseInt(n);let t=parseInt(n);return t<100&&(t>50?t=t+1900:t=t+2e3),t}je.parseYear=NM;var G_=`(${je.NUMBER_PATTERN})\\s{0,5}(${Om.matchAnyPattern(je.TIME_UNIT_DICTIONARY)})\\s{0,5}`,Y_=new RegExp(G_,"i");je.TIME_UNITS_PATTERN=Om.repeatedTimeunitPattern("",G_);function IM(n){let t={},e=n,r=Y_.exec(e);for(;r;)FM(t,r),e=e.substring(r[0].length),r=Y_.exec(e);return t}je.parseTimeUnits=IM;function FM(n,t){let e=H_(t[1]),r=je.TIME_UNIT_DICTIONARY[t[2].toLowerCase()];n[r]=e}});var V_=x(Mm=>{"use strict";Object.defineProperty(Mm,"__esModule",{value:!0});var B_=Ui(),LM=Ke(),UM=re(),jM=vs(),WM=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:(?:ce)\\s*)?(${LM.matchAnyPattern(B_.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(dernier|prochain)\\s*)?(?=\\W|\\d|$)`,"i"),$M=1,qM=2,Cm=class extends UM.AbstractParserWithWordBoundaryChecking{innerPattern(){return WM}innerExtract(t,e){let r=e[$M].toLowerCase(),i=B_.WEEKDAY_DICTIONARY[r];if(i===void 0)return null;let s=e[qM];s=s||"",s=s.toLowerCase();let a=null;s=="dernier"?a="last":s=="prochain"&&(a="next");let o=jM.toDayJSWeekday(t.refDate,i,a);return t.createParsingComponents().assign("weekday",i).imply("day",o.date()).imply("month",o.month()+1).imply("year",o.year())}};Mm.default=Cm});var X_=x(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});var fl=ht(),YM=new RegExp("(^|\\s|T)(?:(?:[\xE0a])\\s*)?(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s|:)?)?(?:\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?(?=\\W|$)","i"),HM=new RegExp("^\\s*(\\-|\\\u2013|\\~|\\\u301C|[\xE0a]|\\?)\\s*(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s|:)?)?(?:\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?(?=\\W|$)","i"),GM=2,z_=3,K_=4,Q_=5,Ma=class{pattern(t){return YM}extract(t,e){let r=t.createParsingResult(e.index+e[1].length,e[0].substring(e[1].length));if(r.text.match(/^\d{4}$/)||(r.start=Ma.extractTimeComponent(r.start.clone(),e),!r.start))return e.index+=e[0].length,null;let i=t.text.substring(e.index+e[0].length),s=HM.exec(i);return s&&(r.end=Ma.extractTimeComponent(r.start.clone(),s),r.end&&(r.text+=s[0])),r}static extractTimeComponent(t,e){let r=0,i=0,s=null;if(r=parseInt(e[GM]),e[z_]!=null&&(i=parseInt(e[z_])),i>=60||r>24)return null;if(r>=12&&(s=fl.Meridiem.PM),e[Q_]!=null){if(r>12)return null;let a=e[Q_][0].toLowerCase();a=="a"&&(s=fl.Meridiem.AM,r==12&&(r=0)),a=="p"&&(s=fl.Meridiem.PM,r!=12&&(r+=12))}if(t.assign("hour",r),t.assign("minute",i),s!==null?t.assign("meridiem",s):r<12?t.imply("meridiem",fl.Meridiem.AM):t.imply("meridiem",fl.Meridiem.PM),e[K_]!=null){let a=parseInt(e[K_]);if(a>=60)return null;t.assign("second",a)}return t}};Rm.default=Ma});var rv=x(Pm=>{"use strict";Object.defineProperty(Pm,"__esModule",{value:!0});var BM=Ct(),tv=Ui(),nv=Ui(),ac=Ui(),VM=Ke(),zM=re(),KM=new RegExp(`(?:on\\s*?)?(${ac.ORDINAL_NUMBER_PATTERN})(?:\\s*(?:au|\\-|\\\u2013|jusqu'au?|\\s)\\s*(${ac.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s*(?:de)?\\s*)(${VM.matchAnyPattern(tv.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s*)(${nv.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),Z_=1,J_=2,QM=3,ev=4,Am=class extends zM.AbstractParserWithWordBoundaryChecking{innerPattern(){return KM}innerExtract(t,e){let r=t.createParsingResult(e.index,e[0]),i=tv.MONTH_DICTIONARY[e[QM].toLowerCase()],s=ac.parseOrdinalNumberPattern(e[Z_]);if(s>31)return e.index=e.index+e[Z_].length,null;if(r.start.assign("month",i),r.start.assign("day",s),e[ev]){let a=nv.parseYear(e[ev]);r.start.assign("year",a)}else{let a=BM.findYearClosestToRef(t.refDate,s,i);r.start.imply("year",a)}if(e[J_]){let a=ac.parseOrdinalNumberPattern(e[J_]);r.end=r.start.clone(),r.end.assign("day",a)}return r}};Pm.default=Am});var sv=x(Im=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});var iv=Ui(),XM=nt(),ZM=re(),JM=qn(),Nm=class extends ZM.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`il y a\\s*(${iv.TIME_UNITS_PATTERN})(?=(?:\\W|$))`,"i")}innerExtract(t,e){let r=iv.parseTimeUnits(e[1]),i=JM.reverseTimeUnits(r);return XM.ParsingComponents.createRelativeFromReference(t.reference,i)}};Im.default=Nm});var ov=x(Lm=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});var av=Ui(),eR=nt(),tR=re(),Fm=class extends tR.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp(`(?:dans|en|pour|pendant|de)\\s*(${av.TIME_UNITS_PATTERN})(?=\\W|$)`,"i")}innerExtract(t,e){let r=av.parseTimeUnits(e[1]);return eR.ParsingComponents.createRelativeFromReference(t.reference,r)}};Lm.default=Fm});var lv=x(jm=>{"use strict";Object.defineProperty(jm,"__esModule",{value:!0});var oc=Ui(),nR=nt(),rR=re(),iR=qn(),sR=Ke(),Um=class extends rR.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`(?:les?|la|l'|du|des?)\\s*(${oc.NUMBER_PATTERN})?(?:\\s*(prochaine?s?|derni[e\xE8]re?s?|pass[\xE9e]e?s?|pr[\xE9e]c[\xE9e]dents?|suivante?s?))?\\s*(${sR.matchAnyPattern(oc.TIME_UNIT_DICTIONARY)})(?:\\s*(prochaine?s?|derni[e\xE8]re?s?|pass[\xE9e]e?s?|pr[\xE9e]c[\xE9e]dents?|suivante?s?))?`,"i")}innerExtract(t,e){let r=e[1]?oc.parseNumberPattern(e[1]):1,i=oc.TIME_UNIT_DICTIONARY[e[3].toLowerCase()],s={};s[i]=r;let a=e[2]||e[4]||"";if(a=a.toLowerCase(),!!a)return(/derni[eè]re?s?/.test(a)||/pass[ée]e?s?/.test(a)||/pr[ée]c[ée]dents?/.test(a))&&(s=iR.reverseTimeUnits(s)),nR.ParsingComponents.createRelativeFromReference(t.reference,s)}};jm.default=Um});var dv=x(_t=>{"use strict";var Yn=_t&&_t.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(_t,"__esModule",{value:!0});_t.createConfiguration=_t.createCasualConfiguration=_t.parseDate=_t.parse=_t.strict=_t.casual=void 0;var aR=ai(),uv=yr(),oR=Yn(U_()),lR=Yn(j_()),uR=Yn(ws()),cR=Yn(W_()),dR=Yn($_()),fR=Yn(q_()),pR=Yn(V_()),mR=Yn(X_()),hR=Yn(rv()),gR=Yn(sv()),yR=Yn(ov()),bR=Yn(lv());_t.casual=new uv.Chrono(cv());_t.strict=new uv.Chrono(Wm(!0));function TR(n,t,e){return _t.casual.parse(n,t,e)}_t.parse=TR;function _R(n,t,e){return _t.casual.parseDate(n,t,e)}_t.parseDate=_R;function cv(n=!0){let t=Wm(!1,n);return t.parsers.unshift(new oR.default),t.parsers.unshift(new lR.default),t.parsers.unshift(new bR.default),t}_t.createCasualConfiguration=cv;function Wm(n=!0,t=!0){return aR.includeCommonConfiguration({parsers:[new uR.default(t),new hR.default,new cR.default,new mR.default,new gR.default,new yR.default,new pR.default],refiners:[new dR.default,new fR.default]},n)}_t.createConfiguration=Wm});var fv=x(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.toHankaku=void 0;function vR(n){return String(n).replace(/\u2019/g,"'").replace(/\u201D/g,'"').replace(/\u3000/g," ").replace(/\uFFE5/g,"\xA5").replace(/[\uFF01\uFF03-\uFF06\uFF08\uFF09\uFF0C-\uFF19\uFF1C-\uFF1F\uFF21-\uFF3B\uFF3D\uFF3F\uFF41-\uFF5B\uFF5D\uFF5E]/g,wR)}lc.toHankaku=vR;function wR(n){return String.fromCharCode(n.charCodeAt(0)-65248)}});var mv=x(pl=>{"use strict";var kR=pl&&pl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(pl,"__esModule",{value:!0});var $m=fv(),SR=Ct(),ER=kR(Ue()),DR=/(?:(?:([同今本])|((昭和|平成|令和)?([0-9０-９]{1,4}|元)))年\s*)?([0-9０-９]{1,2})月\s*([0-9０-９]{1,2})日/i,pv=1,xR=2,qm=3,OR=4,CR=5,MR=6,Ym=class{pattern(){return DR}extract(t,e){let r=parseInt($m.toHankaku(e[CR])),i=parseInt($m.toHankaku(e[MR])),s=t.createParsingComponents({day:i,month:r});if(e[pv]&&e[pv].match("\u540C|\u4ECA|\u672C")){let a=ER.default(t.refDate);s.assign("year",a.year())}if(e[xR]){let a=e[OR],o=a=="\u5143"?1:parseInt($m.toHankaku(a));e[qm]=="\u4EE4\u548C"?o+=2018:e[qm]=="\u5E73\u6210"?o+=1988:e[qm]=="\u662D\u548C"&&(o+=1925),s.assign("year",o)}else{let a=SR.findYearClosestToRef(t.refDate,i,r);s.imply("year",a)}return s}};pl.default=Ym});var hv=x(ml=>{"use strict";var RR=ml&&ml.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ml,"__esModule",{value:!0});var AR=RR(Wr()),Hm=class extends AR.default{patternBetween(){return/^\s*(から|ー|-)\s*$/i}};ml.default=Hm});var yv=x(vr=>{"use strict";var PR=vr&&vr.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),NR=vr&&vr.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),IR=vr&&vr.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&PR(t,n,e);return NR(t,n),t},FR=vr&&vr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(vr,"__esModule",{value:!0});var LR=FR(Ue()),gv=ht(),Gm=IR(li()),UR=/今日|当日|昨日|明日|今夜|今夕|今晩|今朝/i,Bm=class{pattern(){return UR}extract(t,e){let r=e[0],i=LR.default(t.refDate),s=t.createParsingComponents();switch(r){case"\u6628\u65E5":return Gm.yesterday(t.reference);case"\u660E\u65E5":return Gm.tomorrow(t.reference);case"\u4ECA\u65E5":case"\u5F53\u65E5":return Gm.today(t.reference)}return r=="\u4ECA\u591C"||r=="\u4ECA\u5915"||r=="\u4ECA\u6669"?(s.imply("hour",22),s.assign("meridiem",gv.Meridiem.PM)):r.match("\u4ECA\u671D")&&(s.imply("hour",6),s.assign("meridiem",gv.Meridiem.AM)),s.assign("day",i.date()),s.assign("month",i.month()+1),s.assign("year",i.year()),s}};vr.default=Bm});var _v=x(vt=>{"use strict";var Vm=vt&&vt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(vt,"__esModule",{value:!0});vt.createConfiguration=vt.createCasualConfiguration=vt.parseDate=vt.parse=vt.strict=vt.casual=void 0;var jR=Vm(mv()),WR=Vm(hv()),$R=Vm(yv()),bv=yr();vt.casual=new bv.Chrono(Tv());vt.strict=new bv.Chrono(zm());function qR(n,t,e){return vt.casual.parse(n,t,e)}vt.parse=qR;function YR(n,t,e){return vt.casual.parseDate(n,t,e)}vt.parseDate=YR;function Tv(){let n=zm();return n.parsers.unshift(new $R.default),n}vt.createCasualConfiguration=Tv;function zm(){return{parsers:[new jR.default],refiners:[new WR.default]}}vt.createConfiguration=zm});var uc=x(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.parseYear=qr.YEAR_PATTERN=qr.MONTH_DICTIONARY=qr.WEEKDAY_DICTIONARY=void 0;qr.WEEKDAY_DICTIONARY={domingo:0,dom:0,segunda:1,"segunda-feira":1,seg:1,ter\u00E7a:2,"ter\xE7a-feira":2,ter:2,quarta:3,"quarta-feira":3,qua:3,quinta:4,"quinta-feira":4,qui:4,sexta:5,"sexta-feira":5,sex:5,s\u00E1bado:6,sabado:6,sab:6};qr.MONTH_DICTIONARY={janeiro:1,jan:1,"jan.":1,fevereiro:2,fev:2,"fev.":2,mar\u00E7o:3,mar:3,"mar.":3,abril:4,abr:4,"abr.":4,maio:5,mai:5,"mai.":5,junho:6,jun:6,"jun.":6,julho:7,jul:7,"jul.":7,agosto:8,ago:8,"ago.":8,setembro:9,set:9,"set.":9,outubro:10,out:10,"out.":10,novembro:11,nov:11,"nov.":11,dezembro:12,dez:12,"dez.":12};qr.YEAR_PATTERN="[0-9]{1,4}(?![^\\s]\\d)(?:\\s*[a|d]\\.?\\s*c\\.?|\\s*a\\.?\\s*d\\.?)?";function HR(n){if(n.match(/^[0-9]{1,4}$/)){let t=parseInt(n);return t<100&&(t>50?t=t+1900:t=t+2e3),t}return n.match(/a\.?\s*c\.?/i)?(n=n.replace(/a\.?\s*c\.?/i,""),-parseInt(n)):parseInt(n)}qr.parseYear=HR});var wv=x(Qm=>{"use strict";Object.defineProperty(Qm,"__esModule",{value:!0});var vv=uc(),GR=Ke(),BR=re(),VR=vs(),zR=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:(este|esta|passado|pr[o\xF3]ximo)\\s*)?(${GR.matchAnyPattern(vv.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(este|esta|passado|pr[\xF3o]ximo)\\s*semana)?(?=\\W|\\d|$)`,"i"),KR=1,QR=2,XR=3,Km=class extends BR.AbstractParserWithWordBoundaryChecking{innerPattern(){return zR}innerExtract(t,e){let r=e[QR].toLowerCase(),i=vv.WEEKDAY_DICTIONARY[r];if(i===void 0)return null;let s=e[KR],a=e[XR],o=s||a||"";o=o.toLowerCase();let l=null;o=="passado"?l="this":o=="pr\xF3ximo"||o=="proximo"?l="next":o=="este"&&(l="this");let u=VR.toDayJSWeekday(t.refDate,i,l);return t.createParsingComponents().assign("weekday",i).imply("day",u.date()).imply("month",u.month()+1).imply("year",u.year())}};Qm.default=Km});var kv=x(Zm=>{"use strict";Object.defineProperty(Zm,"__esModule",{value:!0});var ZR=Ts(),Xm=class extends ZR.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:ao?|\xE0s?|das|da|de|do)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|a(?:o)?|\\?)\\s*"}};Zm.default=Xm});var Sv=x(hl=>{"use strict";var JR=hl&&hl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(hl,"__esModule",{value:!0});var eA=JR(si()),Jm=class extends eA.default{patternBetween(){return new RegExp("^\\s*(?:,|\xE0)?\\s*$")}};hl.default=Jm});var Ev=x(gl=>{"use strict";var tA=gl&&gl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(gl,"__esModule",{value:!0});var nA=tA(Wr()),eh=class extends nA.default{patternBetween(){return/^\s*(?:-)\s*$/i}};gl.default=eh});var Rv=x(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});var rA=Ct(),Cv=uc(),Mv=uc(),iA=Ke(),sA=re(),aA=new RegExp(`([0-9]{1,2})(?:\xBA|\xAA|\xB0)?(?:\\s*(?:desde|de|\\-|\\\u2013|ao?|\\s)\\s*([0-9]{1,2})(?:\xBA|\xAA|\xB0)?)?\\s*(?:de)?\\s*(?:-|/|\\s*(?:de|,)?\\s*)(${iA.matchAnyPattern(Cv.MONTH_DICTIONARY)})(?:\\s*(?:de|,)?\\s*(${Mv.YEAR_PATTERN}))?(?=\\W|$)`,"i"),Dv=1,xv=2,oA=3,Ov=4,th=class extends sA.AbstractParserWithWordBoundaryChecking{innerPattern(){return aA}innerExtract(t,e){let r=t.createParsingResult(e.index,e[0]),i=Cv.MONTH_DICTIONARY[e[oA].toLowerCase()],s=parseInt(e[Dv]);if(s>31)return e.index=e.index+e[Dv].length,null;if(r.start.assign("month",i),r.start.assign("day",s),e[Ov]){let a=Mv.parseYear(e[Ov]);r.start.assign("year",a)}else{let a=rA.findYearClosestToRef(t.refDate,s,i);r.start.imply("year",a)}if(e[xv]){let a=parseInt(e[xv]);r.end=r.start.clone(),r.end.assign("day",a)}return r}};nh.default=th});var Av=x(ui=>{"use strict";var lA=ui&&ui.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),uA=ui&&ui.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),cA=ui&&ui.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&lA(t,n,e);return uA(t,n),t};Object.defineProperty(ui,"__esModule",{value:!0});var dA=re(),cc=cA(li()),rh=class extends dA.AbstractParserWithWordBoundaryChecking{innerPattern(t){return/(agora|hoje|amanha|amanhã|ontem)(?=\W|$)/i}innerExtract(t,e){let r=e[0].toLowerCase(),i=t.createParsingComponents();switch(r){case"agora":return cc.now(t.reference);case"hoje":return cc.today(t.reference);case"amanha":case"amanh\xE3":return cc.tomorrow(t.reference);case"ontem":return cc.yesterday(t.reference)}return i}};ui.default=rh});var Pv=x(yl=>{"use strict";var fA=yl&&yl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(yl,"__esModule",{value:!0});var dc=ht(),pA=re(),mA=$n(),hA=fA(Ue()),ih=class extends pA.AbstractParserWithWordBoundaryChecking{innerPattern(){return/(?:esta\s*)?(manha|manhã|tarde|meia-noite|meio-dia|noite)(?=\W|$)/i}innerExtract(t,e){let r=hA.default(t.refDate),i=t.createParsingComponents();switch(e[1].toLowerCase()){case"tarde":i.imply("meridiem",dc.Meridiem.PM),i.imply("hour",15);break;case"noite":i.imply("meridiem",dc.Meridiem.PM),i.imply("hour",22);break;case"manha":case"manh\xE3":i.imply("meridiem",dc.Meridiem.AM),i.imply("hour",6);break;case"meia-noite":mA.assignTheNextDay(i,r),i.imply("hour",0),i.imply("minute",0),i.imply("second",0);break;case"meio-dia":i.imply("meridiem",dc.Meridiem.AM),i.imply("hour",12);break}return i}};yl.default=ih});var Fv=x(wt=>{"use strict";var ji=wt&&wt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(wt,"__esModule",{value:!0});wt.createConfiguration=wt.createCasualConfiguration=wt.parseDate=wt.parse=wt.strict=wt.casual=void 0;var gA=ai(),Nv=yr(),yA=ji(ws()),bA=ji(wv()),TA=ji(kv()),_A=ji(Sv()),vA=ji(Ev()),wA=ji(Rv()),kA=ji(Av()),SA=ji(Pv());wt.casual=new Nv.Chrono(Iv());wt.strict=new Nv.Chrono(sh(!0));function EA(n,t,e){return wt.casual.parse(n,t,e)}wt.parse=EA;function DA(n,t,e){return wt.casual.parseDate(n,t,e)}wt.parseDate=DA;function Iv(n=!0){let t=sh(!1,n);return t.parsers.push(new kA.default),t.parsers.push(new SA.default),t}wt.createCasualConfiguration=Iv;function sh(n=!0,t=!0){return gA.includeCommonConfiguration({parsers:[new yA.default(t),new bA.default,new TA.default,new wA.default],refiners:[new _A.default,new vA.default]},n)}wt.createConfiguration=sh});var Lv=x(bl=>{"use strict";var xA=bl&&bl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(bl,"__esModule",{value:!0});var OA=xA(Wr()),ah=class extends OA.default{patternBetween(){return/^\s*(tot|-)\s*$/i}};bl.default=ah});var Uv=x(Tl=>{"use strict";var CA=Tl&&Tl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Tl,"__esModule",{value:!0});var MA=CA(si()),oh=class extends MA.default{patternBetween(){return new RegExp("^\\s*(om|na|voor|in de|,|-)?\\s*$")}};Tl.default=oh});var jv=x(ci=>{"use strict";var RA=ci&&ci.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),AA=ci&&ci.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),PA=ci&&ci.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&RA(t,n,e);return AA(t,n),t};Object.defineProperty(ci,"__esModule",{value:!0});var NA=re(),fc=PA(li()),lh=class extends NA.AbstractParserWithWordBoundaryChecking{innerPattern(t){return/(nu|vandaag|morgen|morgend|gisteren)(?=\W|$)/i}innerExtract(t,e){let r=e[0].toLowerCase(),i=t.createParsingComponents();switch(r){case"nu":return fc.now(t.reference);case"vandaag":return fc.today(t.reference);case"morgen":case"morgend":return fc.tomorrow(t.reference);case"gisteren":return fc.yesterday(t.reference)}return i}};ci.default=lh});var Wv=x(_l=>{"use strict";var IA=_l&&_l.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(_l,"__esModule",{value:!0});var pc=ht(),FA=re(),LA=IA(Ue()),UA=$n(),jA=1,WA=2,uh=class extends FA.AbstractParserWithWordBoundaryChecking{innerPattern(){return/(deze)?\s*(namiddag|avond|middernacht|ochtend|middag|'s middags|'s avonds|'s ochtends)(?=\W|$)/i}innerExtract(t,e){let r=LA.default(t.refDate),i=t.createParsingComponents();switch(e[jA]==="deze"&&(i.assign("day",t.refDate.getDate()),i.assign("month",t.refDate.getMonth()+1),i.assign("year",t.refDate.getFullYear())),e[WA].toLowerCase()){case"namiddag":case"'s namiddags":i.imply("meridiem",pc.Meridiem.PM),i.imply("hour",15);break;case"avond":case"'s avonds'":i.imply("meridiem",pc.Meridiem.PM),i.imply("hour",20);break;case"middernacht":UA.assignTheNextDay(i,r),i.imply("hour",0),i.imply("minute",0),i.imply("second",0);break;case"ochtend":case"'s ochtends":i.imply("meridiem",pc.Meridiem.AM),i.imply("hour",6);break;case"middag":case"'s middags":i.imply("meridiem",pc.Meridiem.AM),i.imply("hour",12);break}return i}};_l.default=uh});var kn=x(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.parseTimeUnits=Pe.TIME_UNITS_PATTERN=Pe.parseYear=Pe.YEAR_PATTERN=Pe.parseOrdinalNumberPattern=Pe.ORDINAL_NUMBER_PATTERN=Pe.parseNumberPattern=Pe.NUMBER_PATTERN=Pe.TIME_UNIT_DICTIONARY=Pe.ORDINAL_WORD_DICTIONARY=Pe.INTEGER_WORD_DICTIONARY=Pe.MONTH_DICTIONARY=Pe.WEEKDAY_DICTIONARY=void 0;var mc=Ke(),$A=Ct();Pe.WEEKDAY_DICTIONARY={zondag:0,zon:0,"zon.":0,zo:0,"zo.":0,maandag:1,ma:1,"ma.":1,dinsdag:2,din:2,"din.":2,di:2,"di.":2,woensdag:3,woe:3,"woe.":3,wo:3,"wo.":3,donderdag:4,dond:4,"dond.":4,do:4,"do.":4,vrijdag:5,vrij:5,"vrij.":5,vr:5,"vr.":5,zaterdag:6,zat:6,"zat.":6,za:6,"za.":6};Pe.MONTH_DICTIONARY={januari:1,jan:1,"jan.":1,februari:2,feb:2,"feb.":2,maart:3,mar:3,"mar.":3,april:4,apr:4,"apr.":4,mei:5,juni:6,jun:6,"jun.":6,juli:7,jul:7,"jul.":7,augustus:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,sept:9,"sept.":9,oktober:10,okt:10,"okt.":10,november:11,nov:11,"nov.":11,december:12,dec:12,"dec.":12};Pe.INTEGER_WORD_DICTIONARY={een:1,twee:2,drie:3,vier:4,vijf:5,zes:6,zeven:7,acht:8,negen:9,tien:10,elf:11,twaalf:12};Pe.ORDINAL_WORD_DICTIONARY={eerste:1,tweede:2,derde:3,vierde:4,vijfde:5,zesde:6,zevende:7,achtste:8,negende:9,tiende:10,elfde:11,twaalfde:12,dertiende:13,veertiende:14,vijftiende:15,zestiende:16,zeventiende:17,achttiende:18,negentiende:19,twintigste:20,eenentwintigste:21,twee\u00EBntwintigste:22,drieentwintigste:23,vierentwintigste:24,vijfentwintigste:25,zesentwintigste:26,zevenentwintigste:27,achtentwintig:28,negenentwintig:29,dertigste:30,eenendertigste:31};Pe.TIME_UNIT_DICTIONARY={sec:"second",second:"second",seconden:"second",min:"minute",mins:"minute",minute:"minute",minuut:"minute",minuten:"minute",minuutje:"minute",h:"hour",hr:"hour",hrs:"hour",uur:"hour",u:"hour",uren:"hour",dag:"d",dagen:"d",week:"week",weken:"week",maand:"month",maanden:"month",jaar:"year",jr:"year",jaren:"year"};Pe.NUMBER_PATTERN=`(?:${mc.matchAnyPattern(Pe.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+[\\.,][0-9]+|halve?|half|paar)`;function qv(n){let t=n.toLowerCase();return Pe.INTEGER_WORD_DICTIONARY[t]!==void 0?Pe.INTEGER_WORD_DICTIONARY[t]:t==="paar"?2:t==="half"||t.match(/halve?/)?.5:parseFloat(t.replace(",","."))}Pe.parseNumberPattern=qv;Pe.ORDINAL_NUMBER_PATTERN=`(?:${mc.matchAnyPattern(Pe.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:ste|de)?)`;function qA(n){let t=n.toLowerCase();return Pe.ORDINAL_WORD_DICTIONARY[t]!==void 0?Pe.ORDINAL_WORD_DICTIONARY[t]:(t=t.replace(/(?:ste|de)$/i,""),parseInt(t))}Pe.parseOrdinalNumberPattern=qA;Pe.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s*(?:voor Christus|na Christus)|[1-2][0-9]{3}|[5-9][0-9])";function YA(n){if(/voor Christus/i.test(n))return n=n.replace(/voor Christus/i,""),-parseInt(n);if(/na Christus/i.test(n))return n=n.replace(/na Christus/i,""),parseInt(n);let t=parseInt(n);return $A.findMostLikelyADYear(t)}Pe.parseYear=YA;var Yv=`(${Pe.NUMBER_PATTERN})\\s{0,5}(${mc.matchAnyPattern(Pe.TIME_UNIT_DICTIONARY)})\\s{0,5}`,$v=new RegExp(Yv,"i");Pe.TIME_UNITS_PATTERN=mc.repeatedTimeunitPattern("(?:(?:binnen|in)\\s*)?",Yv);function HA(n){let t={},e=n,r=$v.exec(e);for(;r;)GA(t,r),e=e.substring(r[0].length),r=$v.exec(e);return t}Pe.parseTimeUnits=HA;function GA(n,t){let e=qv(t[1]),r=Pe.TIME_UNIT_DICTIONARY[t[2].toLowerCase()];n[r]=e}});var Gv=x(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});var Hv=kn(),BA=nt(),VA=re(),ch=class extends VA.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(?:binnen|in|binnen de|voor)\\s*("+Hv.TIME_UNITS_PATTERN+")(?=\\W|$)","i")}innerExtract(t,e){let r=Hv.parseTimeUnits(e[1]);return BA.ParsingComponents.createRelativeFromReference(t.reference,r)}};dh.default=ch});var Vv=x(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});var Bv=kn(),zA=Ke(),KA=re(),QA=vs(),XA=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:op\\s*?)?(?:(deze|vorige|volgende)\\s*(?:week\\s*)?)?(${zA.matchAnyPattern(Bv.WEEKDAY_DICTIONARY)})(?=\\W|$)`,"i"),ZA=1,JA=2,eP=3,fh=class extends KA.AbstractParserWithWordBoundaryChecking{innerPattern(){return XA}innerExtract(t,e){let r=e[JA].toLowerCase(),i=Bv.WEEKDAY_DICTIONARY[r],s=e[ZA],a=e[eP],o=s||a;o=o||"",o=o.toLowerCase();let l=null;o=="vorige"?l="last":o=="volgende"?l="next":o=="deze"&&(l="this");let u=QA.toDayJSWeekday(t.refDate,i,l);return t.createParsingComponents().assign("weekday",i).imply("day",u.date()).imply("month",u.month()+1).imply("year",u.year())}};ph.default=fh});var Jv=x(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});var tP=Ct(),Xv=kn(),hc=kn(),Zv=kn(),nP=Ke(),rP=re(),iP=new RegExp(`(?:on\\s*?)?(${hc.ORDINAL_NUMBER_PATTERN})(?:\\s*(?:tot|\\-|\\\u2013|until|through|till|\\s)\\s*(${hc.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s*(?:of)?\\s*)(`+nP.matchAnyPattern(Xv.MONTH_DICTIONARY)+`)(?:(?:-|/|,?\\s*)(${Zv.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),sP=3,zv=1,Kv=2,Qv=4,mh=class extends rP.AbstractParserWithWordBoundaryChecking{innerPattern(){return iP}innerExtract(t,e){let r=Xv.MONTH_DICTIONARY[e[sP].toLowerCase()],i=hc.parseOrdinalNumberPattern(e[zv]);if(i>31)return e.index=e.index+e[zv].length,null;let s=t.createParsingComponents({day:i,month:r});if(e[Qv]){let l=Zv.parseYear(e[Qv]);s.assign("year",l)}else{let l=tP.findYearClosestToRef(t.refDate,i,r);s.imply("year",l)}if(!e[Kv])return s;let a=hc.parseOrdinalNumberPattern(e[Kv]),o=t.createParsingResult(e.index,e[0]);return o.start=s,o.end=s.clone(),o.end.assign("day",a),o}};hh.default=mh});var rw=x(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});var tw=kn(),aP=Ct(),oP=Ke(),nw=kn(),lP=re(),uP=new RegExp(`(${oP.matchAnyPattern(tw.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${nw.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),cP=1,ew=2,gh=class extends lP.AbstractParserWithWordBoundaryChecking{innerPattern(){return uP}innerExtract(t,e){let r=t.createParsingComponents();r.imply("day",1);let i=e[cP],s=tw.MONTH_DICTIONARY[i.toLowerCase()];if(r.assign("month",s),e[ew]){let a=nw.parseYear(e[ew]);r.assign("year",a)}else{let a=aP.findYearClosestToRef(t.refDate,1,s);r.imply("year",a)}return r}};yh.default=gh});var iw=x(Th=>{"use strict";Object.defineProperty(Th,"__esModule",{value:!0});var dP=re(),fP=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),pP=1,mP=2,bh=class extends dP.AbstractParserWithWordBoundaryChecking{innerPattern(){return fP}innerExtract(t,e){let r=parseInt(e[mP]),i=parseInt(e[pP]);return t.createParsingComponents().imply("day",1).assign("month",i).assign("year",r)}};Th.default=bh});var sw=x(vh=>{"use strict";Object.defineProperty(vh,"__esModule",{value:!0});var hP=Ts(),_h=class extends hP.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:om)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|om|\\?)\\s*"}primarySuffix(){return"(?:\\s*(?:uur))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(t,e){return e[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(t,e)}};vh.default=_h});var lw=x(kh=>{"use strict";Object.defineProperty(kh,"__esModule",{value:!0});var ow=kn(),gP=Ke(),yP=re(),bP=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${gP.matchAnyPattern(ow.MONTH_DICTIONARY)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),TP=1,_P=2,aw=3,vP=4,wh=class extends yP.AbstractParserWithWordBoundaryChecking{innerPattern(){return bP}innerExtract(t,e){let r=e[aw]?parseInt(e[aw]):ow.MONTH_DICTIONARY[e[_P].toLowerCase()];if(r<1||r>12)return null;let i=parseInt(e[TP]);return{day:parseInt(e[vP]),month:r,year:i}}};kh.default=wh});var uw=x(vl=>{"use strict";var wP=vl&&vl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(vl,"__esModule",{value:!0});var kP=re(),gc=ht(),Sh=$n(),SP=wP(Ue()),EP=1,DP=2,Eh=class extends kP.AbstractParserWithWordBoundaryChecking{innerPattern(t){return/(gisteren|morgen|van)(ochtend|middag|namiddag|avond|nacht)(?=\W|$)/i}innerExtract(t,e){let r=e[EP].toLowerCase(),i=e[DP].toLowerCase(),s=t.createParsingComponents(),a=SP.default(t.refDate);switch(r){case"gisteren":Sh.assignSimilarDate(s,a.add(-1,"day"));break;case"van":Sh.assignSimilarDate(s,a);break;case"morgen":Sh.assignTheNextDay(s,a);break}switch(i){case"ochtend":s.imply("meridiem",gc.Meridiem.AM),s.imply("hour",6);break;case"middag":s.imply("meridiem",gc.Meridiem.AM),s.imply("hour",12);break;case"namiddag":s.imply("meridiem",gc.Meridiem.PM),s.imply("hour",15);break;case"avond":s.imply("meridiem",gc.Meridiem.PM),s.imply("hour",20);break}return s}};vl.default=Eh});var dw=x(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});var cw=kn(),xP=nt(),OP=re(),CP=qn(),MP=new RegExp(`(deze|vorige|afgelopen|komende|over|\\+|-)\\s*(${cw.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),Dh=class extends OP.AbstractParserWithWordBoundaryChecking{innerPattern(){return MP}innerExtract(t,e){let r=e[1].toLowerCase(),i=cw.parseTimeUnits(e[2]);switch(r){case"vorige":case"afgelopen":case"-":i=CP.reverseTimeUnits(i);break}return xP.ParsingComponents.createRelativeFromReference(t.reference,i)}};xh.default=Dh});var mw=x(wl=>{"use strict";var RP=wl&&wl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(wl,"__esModule",{value:!0});var pw=kn(),fw=nt(),AP=RP(Ue()),PP=re(),NP=Ke(),IP=new RegExp(`(dit|deze|komende|volgend|volgende|afgelopen|vorige)\\s*(${NP.matchAnyPattern(pw.TIME_UNIT_DICTIONARY)})(?=\\s*)(?=\\W|$)`,"i"),FP=1,LP=2,Oh=class extends PP.AbstractParserWithWordBoundaryChecking{innerPattern(){return IP}innerExtract(t,e){let r=e[FP].toLowerCase(),i=e[LP].toLowerCase(),s=pw.TIME_UNIT_DICTIONARY[i];if(r=="volgend"||r=="volgende"||r=="komende"){let l={};return l[s]=1,fw.ParsingComponents.createRelativeFromReference(t.reference,l)}if(r=="afgelopen"||r=="vorige"){let l={};return l[s]=-1,fw.ParsingComponents.createRelativeFromReference(t.reference,l)}let a=t.createParsingComponents(),o=AP.default(t.reference.instant);return i.match(/week/i)?(o=o.add(-o.get("d"),"d"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.imply("year",o.year())):i.match(/maand/i)?(o=o.add(-o.date()+1,"d"),a.imply("day",o.date()),a.assign("year",o.year()),a.assign("month",o.month()+1)):i.match(/jaar/i)&&(o=o.add(-o.date()+1,"d"),o=o.add(-o.month(),"month"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.assign("year",o.year())),a}};wl.default=Oh});var hw=x(Rh=>{"use strict";Object.defineProperty(Rh,"__esModule",{value:!0});var Mh=kn(),UP=nt(),jP=re(),WP=qn(),$P=new RegExp("("+Mh.TIME_UNITS_PATTERN+")(?:geleden|voor|eerder)(?=(?:\\W|$))","i"),qP=new RegExp("("+Mh.TIME_UNITS_PATTERN+")geleden(?=(?:\\W|$))","i"),Ch=class extends jP.AbstractParserWithWordBoundaryChecking{constructor(t){super(),this.strictMode=t}innerPattern(){return this.strictMode?qP:$P}innerExtract(t,e){let r=Mh.parseTimeUnits(e[1]),i=WP.reverseTimeUnits(r);return UP.ParsingComponents.createRelativeFromReference(t.reference,i)}};Rh.default=Ch});var gw=x(Nh=>{"use strict";Object.defineProperty(Nh,"__esModule",{value:!0});var Ph=kn(),YP=nt(),HP=re(),GP=new RegExp("("+Ph.TIME_UNITS_PATTERN+")(later|na|vanaf nu|voortaan|vooruit|uit)(?=(?:\\W|$))","i"),BP=new RegExp("("+Ph.TIME_UNITS_PATTERN+")(later|vanaf nu)(?=(?:\\W|$))","i"),VP=1,Ah=class extends HP.AbstractParserWithWordBoundaryChecking{constructor(t){super(),this.strictMode=t}innerPattern(){return this.strictMode?BP:GP}innerExtract(t,e){let r=Ph.parseTimeUnits(e[VP]);return YP.ParsingComponents.createRelativeFromReference(t.reference,r)}};Nh.default=Ah});var _w=x(kt=>{"use strict";var Rt=kt&&kt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(kt,"__esModule",{value:!0});kt.createConfiguration=kt.createCasualConfiguration=kt.parseDate=kt.parse=kt.strict=kt.casual=void 0;var zP=ai(),yw=yr(),KP=Rt(Lv()),QP=Rt(Uv()),XP=Rt(jv()),ZP=Rt(Wv()),JP=Rt(ws()),eN=Rt(Gv()),tN=Rt(Vv()),nN=Rt(Jv()),bw=Rt(rw()),rN=Rt(iw()),iN=Rt(sw()),sN=Rt(lw()),aN=Rt(uw()),oN=Rt(dw()),lN=Rt(mw()),uN=Rt(hw()),cN=Rt(gw());kt.casual=new yw.Chrono(Tw());kt.strict=new yw.Chrono(Ih(!0));function dN(n,t,e){return kt.casual.parse(n,t,e)}kt.parse=dN;function fN(n,t,e){return kt.casual.parseDate(n,t,e)}kt.parseDate=fN;function Tw(n=!0){let t=Ih(!1,n);return t.parsers.unshift(new XP.default),t.parsers.unshift(new ZP.default),t.parsers.unshift(new aN.default),t.parsers.unshift(new bw.default),t.parsers.unshift(new lN.default),t.parsers.unshift(new oN.default),t}kt.createCasualConfiguration=Tw;function Ih(n=!0,t=!0){return zP.includeCommonConfiguration({parsers:[new JP.default(t),new eN.default,new nN.default,new bw.default,new tN.default,new sN.default,new rN.default,new iN.default(n),new uN.default(n),new cN.default(n)],refiners:[new QP.default,new KP.default]},n)}kt.createConfiguration=Ih});var Sw=x(kl=>{"use strict";var pN=kl&&kl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(kl,"__esModule",{value:!0});var mN=pN(Ue()),hN=re(),gN=1,vw=2,yN=3,ww=4,kw=5,bN=6,Fh=class extends hN.AbstractParserWithWordBoundaryChecking{innerPattern(t){return new RegExp("(\u800C\u5BB6|\u7ACB(?:\u523B|\u5373)|\u5373\u523B)|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s|,|\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?","i")}innerExtract(t,e){let r=e.index,i=t.createParsingResult(r,e[0]),s=mN.default(t.refDate),a=s;if(e[gN])i.start.imply("hour",s.hour()),i.start.imply("minute",s.minute()),i.start.imply("second",s.second()),i.start.imply("millisecond",s.millisecond());else if(e[vw]){let o=e[vw],l=e[yN];o=="\u660E"||o=="\u807D"?s.hour()>1&&(a=a.add(1,"day")):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?a=a.add(-1,"day"):o=="\u524D"?a=a.add(-2,"day"):o=="\u5927\u524D"?a=a.add(-3,"day"):o=="\u5F8C"?a=a.add(2,"day"):o=="\u5927\u5F8C"&&(a=a.add(3,"day")),l=="\u65E9"||l=="\u671D"?i.start.imply("hour",6):l=="\u665A"&&(i.start.imply("hour",22),i.start.imply("meridiem",1))}else if(e[ww]){let l=e[ww][0];l=="\u65E9"||l=="\u671D"||l=="\u4E0A"?i.start.imply("hour",6):l=="\u4E0B"||l=="\u664F"?(i.start.imply("hour",15),i.start.imply("meridiem",1)):l=="\u4E2D"?(i.start.imply("hour",12),i.start.imply("meridiem",1)):l=="\u591C"||l=="\u665A"?(i.start.imply("hour",22),i.start.imply("meridiem",1)):l=="\u51CC"&&i.start.imply("hour",0)}else if(e[kw]){let o=e[kw];o=="\u660E"||o=="\u807D"?s.hour()>1&&(a=a.add(1,"day")):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?a=a.add(-1,"day"):o=="\u524D"?a=a.add(-2,"day"):o=="\u5927\u524D"?a=a.add(-3,"day"):o=="\u5F8C"?a=a.add(2,"day"):o=="\u5927\u5F8C"&&(a=a.add(3,"day"));let l=e[bN];if(l){let u=l[0];u=="\u65E9"||u=="\u671D"||u=="\u4E0A"?i.start.imply("hour",6):u=="\u4E0B"||u=="\u664F"?(i.start.imply("hour",15),i.start.imply("meridiem",1)):u=="\u4E2D"?(i.start.imply("hour",12),i.start.imply("meridiem",1)):u=="\u591C"||u=="\u665A"?(i.start.imply("hour",22),i.start.imply("meridiem",1)):u=="\u51CC"&&i.start.imply("hour",0)}}return i.start.assign("day",a.date()),i.start.assign("month",a.month()+1),i.start.assign("year",a.year()),i}};kl.default=Fh});var Ra=x(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.zhStringToYear=un.zhStringToNumber=un.WEEKDAY_OFFSET=un.NUMBER=void 0;un.NUMBER={\u96F6:0,\u4E00:1,\u4E8C:2,\u5169:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u5341:10,\u5EFF:20,\u5345:30};un.WEEKDAY_OFFSET={\u5929:0,\u65E5:0,\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6};function TN(n){let t=0;for(let e=0;e<n.length;e++){let r=n[e];r==="\u5341"?t=t===0?un.NUMBER[r]:t*un.NUMBER[r]:t+=un.NUMBER[r]}return t}un.zhStringToNumber=TN;function _N(n){let t="";for(let e=0;e<n.length;e++){let r=n[e];t=t+un.NUMBER[r]}return parseInt(t)}un.zhStringToYear=_N});var Dw=x(Sl=>{"use strict";var vN=Sl&&Sl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Sl,"__esModule",{value:!0});var wN=vN(Ue()),kN=re(),Es=Ra(),Lh=1,Ew=2,Uh=3,jh=class extends kN.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(\\d{2,4}|["+Object.keys(Es.NUMBER).join("")+"]{4}|["+Object.keys(Es.NUMBER).join("")+"]{2})?(?:\\s*)(?:\u5E74)?(?:[\\s|,|\uFF0C]*)(\\d{1,2}|["+Object.keys(Es.NUMBER).join("")+"]{1,2})(?:\\s*)(?:\u6708)(?:\\s*)(\\d{1,2}|["+Object.keys(Es.NUMBER).join("")+"]{1,2})?(?:\\s*)(?:\u65E5|\u865F)?")}innerExtract(t,e){let r=wN.default(t.refDate),i=t.createParsingResult(e.index,e[0]),s=parseInt(e[Ew]);if(isNaN(s)&&(s=Es.zhStringToNumber(e[Ew])),i.start.assign("month",s),e[Uh]){let a=parseInt(e[Uh]);isNaN(a)&&(a=Es.zhStringToNumber(e[Uh])),i.start.assign("day",a)}else i.start.imply("day",r.date());if(e[Lh]){let a=parseInt(e[Lh]);isNaN(a)&&(a=Es.zhStringToYear(e[Lh])),i.start.assign("year",a)}else i.start.imply("year",r.year());return i}};Sl.default=jh});var Ow=x(El=>{"use strict";var SN=El&&El.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(El,"__esModule",{value:!0});var EN=SN(Ue()),DN=re(),xw=Ra(),xN=new RegExp("(\\d+|["+Object.keys(xw.NUMBER).join("")+"]+|\u534A|\u5E7E)(?:\\s*)(?:\u500B)?(\u79D2(?:\u9418)?|\u5206\u9418|\u5C0F\u6642|\u9418|\u65E5|\u5929|\u661F\u671F|\u79AE\u62DC|\u6708|\u5E74)(?:(?:\u4E4B|\u904E)?\u5F8C|(?:\u4E4B)?\u5167)","i"),Wh=1,ON=2,$h=class extends DN.AbstractParserWithWordBoundaryChecking{innerPattern(){return xN}innerExtract(t,e){let r=t.createParsingResult(e.index,e[0]),i=parseInt(e[Wh]);if(isNaN(i)&&(i=xw.zhStringToNumber(e[Wh])),isNaN(i)){let l=e[Wh];if(l==="\u5E7E")i=3;else if(l==="\u534A")i=.5;else return null}let s=EN.default(t.refDate),o=e[ON][0];return o.match(/[日天星禮月年]/)?(o=="\u65E5"||o=="\u5929"?s=s.add(i,"d"):o=="\u661F"||o=="\u79AE"?s=s.add(i*7,"d"):o=="\u6708"?s=s.add(i,"month"):o=="\u5E74"&&(s=s.add(i,"year")),r.start.assign("year",s.year()),r.start.assign("month",s.month()+1),r.start.assign("day",s.date()),r):(o=="\u79D2"?s=s.add(i,"second"):o=="\u5206"?s=s.add(i,"minute"):(o=="\u5C0F"||o=="\u9418")&&(s=s.add(i,"hour")),r.start.imply("year",s.year()),r.start.imply("month",s.month()+1),r.start.imply("day",s.date()),r.start.assign("hour",s.hour()),r.start.assign("minute",s.minute()),r.start.assign("second",s.second()),r)}};El.default=$h});var Mw=x(Dl=>{"use strict";var CN=Dl&&Dl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Dl,"__esModule",{value:!0});var MN=CN(Ue()),RN=re(),Cw=Ra(),AN=new RegExp("(?<prefix>\u4E0A|\u4ECA|\u4E0B|\u9019|\u5462)(?:\u500B)?(?:\u661F\u671F|\u79AE\u62DC|\u9031)(?<weekday>"+Object.keys(Cw.WEEKDAY_OFFSET).join("|")+")"),qh=class extends RN.AbstractParserWithWordBoundaryChecking{innerPattern(){return AN}innerExtract(t,e){let r=t.createParsingResult(e.index,e[0]),i=e.groups.weekday,s=Cw.WEEKDAY_OFFSET[i];if(s===void 0)return null;let a=null,o=e.groups.prefix;o=="\u4E0A"?a="last":o=="\u4E0B"?a="next":(o=="\u4ECA"||o=="\u9019"||o=="\u5462")&&(a="this");let l=MN.default(t.refDate),u=!1,c=l.day();return a=="last"||a=="past"?(l=l.day(s-7),u=!0):a=="next"?(l=l.day(s+7),u=!0):a=="this"?l=l.day(s):Math.abs(s-7-c)<Math.abs(s-c)?l=l.day(s-7):Math.abs(s+7-c)<Math.abs(s-c)?l=l.day(s+7):l=l.day(s),r.start.assign("weekday",s),u?(r.start.assign("day",l.date()),r.start.assign("month",l.month()+1),r.start.assign("year",l.year())):(r.start.imply("day",l.date()),r.start.imply("month",l.month()+1),r.start.imply("year",l.year())),r}};Dl.default=qh});var Rw=x(xl=>{"use strict";var PN=xl&&xl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(xl,"__esModule",{value:!0});var NN=PN(Ue()),IN=re(),Gn=Ra(),FN=new RegExp("(?:\u7531|\u5F9E|\u81EA)?(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(Gn.NUMBER).join("")+"]+)(?:\\s*)(?:\u9EDE|\u6642|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(Gn.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(Gn.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),LN=new RegExp("(?:^\\s*(?:\u5230|\u81F3|\\-|\\\u2013|\\~|\\\u301C)\\s*)(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(Gn.NUMBER).join("")+"]+)(?:\\s*)(?:\u9EDE|\u6642|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(Gn.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(Gn.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),yc=1,bc=2,Tc=3,_c=4,vc=5,wc=6,Hn=7,Aa=8,kc=9,Yh=class extends IN.AbstractParserWithWordBoundaryChecking{innerPattern(){return FN}innerExtract(t,e){if(e.index>0&&t.text[e.index-1].match(/\w/))return null;let r=NN.default(t.refDate),i=t.createParsingResult(e.index,e[0]),s=r.clone();if(e[yc]){var a=e[yc];a=="\u660E"||a=="\u807D"?r.hour()>1&&s.add(1,"day"):a=="\u6628"||a=="\u5C0B"||a=="\u7434"?s.add(-1,"day"):a=="\u524D"?s.add(-2,"day"):a=="\u5927\u524D"?s.add(-3,"day"):a=="\u5F8C"?s.add(2,"day"):a=="\u5927\u5F8C"&&s.add(3,"day"),i.start.assign("day",s.date()),i.start.assign("month",s.month()+1),i.start.assign("year",s.year())}else if(e[_c]){var o=e[_c];o=="\u660E"||o=="\u807D"?s.add(1,"day"):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?s.add(-1,"day"):o=="\u524D"?s.add(-2,"day"):o=="\u5927\u524D"?s.add(-3,"day"):o=="\u5F8C"?s.add(2,"day"):o=="\u5927\u5F8C"&&s.add(3,"day"),i.start.assign("day",s.date()),i.start.assign("month",s.month()+1),i.start.assign("year",s.year())}else i.start.imply("day",s.date()),i.start.imply("month",s.month()+1),i.start.imply("year",s.year());let l=0,u=0,c=-1;if(e[Aa]){var d=parseInt(e[Aa]);if(isNaN(d)&&(d=Gn.zhStringToNumber(e[Aa])),d>=60)return null;i.start.assign("second",d)}if(l=parseInt(e[wc]),isNaN(l)&&(l=Gn.zhStringToNumber(e[wc])),e[Hn]?e[Hn]=="\u534A"?u=30:e[Hn]=="\u6B63"||e[Hn]=="\u6574"?u=0:(u=parseInt(e[Hn]),isNaN(u)&&(u=Gn.zhStringToNumber(e[Hn]))):l>100&&(u=l%100,l=Math.floor(l/100)),u>=60||l>24)return null;if(l>=12&&(c=1),e[kc]){if(l>12)return null;var f=e[kc][0].toLowerCase();f=="a"&&(c=0,l==12&&(l=0)),f=="p"&&(c=1,l!=12&&(l+=12))}else if(e[bc]){var p=e[bc],b=p[0];b=="\u671D"||b=="\u65E9"?(c=0,l==12&&(l=0)):b=="\u665A"&&(c=1,l!=12&&(l+=12))}else if(e[Tc]){var T=e[Tc],_=T[0];_=="\u4E0A"||_=="\u671D"||_=="\u65E9"||_=="\u51CC"?(c=0,l==12&&(l=0)):(_=="\u4E0B"||_=="\u664F"||_=="\u665A")&&(c=1,l!=12&&(l+=12))}else if(e[vc]){var O=e[vc],D=O[0];D=="\u4E0A"||D=="\u671D"||D=="\u65E9"||D=="\u51CC"?(c=0,l==12&&(l=0)):(D=="\u4E0B"||D=="\u664F"||D=="\u665A")&&(c=1,l!=12&&(l+=12))}if(i.start.assign("hour",l),i.start.assign("minute",u),c>=0?i.start.assign("meridiem",c):l<12?i.start.imply("meridiem",0):i.start.imply("meridiem",1),e=LN.exec(t.text.substring(i.index+i.text.length)),!e)return i.text.match(/^\d+$/)?null:i;let A=s.clone();if(i.end=t.createParsingComponents(),e[yc]){var a=e[yc];a=="\u660E"||a=="\u807D"?r.hour()>1&&A.add(1,"day"):a=="\u6628"||a=="\u5C0B"||a=="\u7434"?A.add(-1,"day"):a=="\u524D"?A.add(-2,"day"):a=="\u5927\u524D"?A.add(-3,"day"):a=="\u5F8C"?A.add(2,"day"):a=="\u5927\u5F8C"&&A.add(3,"day"),i.end.assign("day",A.date()),i.end.assign("month",A.month()+1),i.end.assign("year",A.year())}else if(e[_c]){var o=e[_c];o=="\u660E"||o=="\u807D"?A.add(1,"day"):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?A.add(-1,"day"):o=="\u524D"?A.add(-2,"day"):o=="\u5927\u524D"?A.add(-3,"day"):o=="\u5F8C"?A.add(2,"day"):o=="\u5927\u5F8C"&&A.add(3,"day"),i.end.assign("day",A.date()),i.end.assign("month",A.month()+1),i.end.assign("year",A.year())}else i.end.imply("day",A.date()),i.end.imply("month",A.month()+1),i.end.imply("year",A.year());if(l=0,u=0,c=-1,e[Aa]){var d=parseInt(e[Aa]);if(isNaN(d)&&(d=Gn.zhStringToNumber(e[Aa])),d>=60)return null;i.end.assign("second",d)}if(l=parseInt(e[wc]),isNaN(l)&&(l=Gn.zhStringToNumber(e[wc])),e[Hn]?e[Hn]=="\u534A"?u=30:e[Hn]=="\u6B63"||e[Hn]=="\u6574"?u=0:(u=parseInt(e[Hn]),isNaN(u)&&(u=Gn.zhStringToNumber(e[Hn]))):l>100&&(u=l%100,l=Math.floor(l/100)),u>=60||l>24)return null;if(l>=12&&(c=1),e[kc]){if(l>12)return null;var f=e[kc][0].toLowerCase();f=="a"&&(c=0,l==12&&(l=0)),f=="p"&&(c=1,l!=12&&(l+=12)),i.start.isCertain("meridiem")||(c==0?(i.start.imply("meridiem",0),i.start.get("hour")==12&&i.start.assign("hour",0)):(i.start.imply("meridiem",1),i.start.get("hour")!=12&&i.start.assign("hour",i.start.get("hour")+12)))}else if(e[bc]){var p=e[bc],b=p[0];b=="\u671D"||b=="\u65E9"?(c=0,l==12&&(l=0)):b=="\u665A"&&(c=1,l!=12&&(l+=12))}else if(e[Tc]){var T=e[Tc],_=T[0];_=="\u4E0A"||_=="\u671D"||_=="\u65E9"||_=="\u51CC"?(c=0,l==12&&(l=0)):(_=="\u4E0B"||_=="\u664F"||_=="\u665A")&&(c=1,l!=12&&(l+=12))}else if(e[vc]){var O=e[vc],D=O[0];D=="\u4E0A"||D=="\u671D"||D=="\u65E9"||D=="\u51CC"?(c=0,l==12&&(l=0)):(D=="\u4E0B"||D=="\u664F"||D=="\u665A")&&(c=1,l!=12&&(l+=12))}return i.text=i.text+e[0],i.end.assign("hour",l),i.end.assign("minute",u),c>=0?i.end.assign("meridiem",c):i.start.isCertain("meridiem")&&i.start.get("meridiem")==1&&i.start.get("hour")>l?i.end.imply("meridiem",0):l>12&&i.end.imply("meridiem",1),i.end.date().getTime()<i.start.date().getTime()&&i.end.imply("day",i.end.get("day")+1),i}};xl.default=Yh});var Pw=x(Ol=>{"use strict";var UN=Ol&&Ol.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ol,"__esModule",{value:!0});var jN=UN(Ue()),WN=re(),Aw=Ra(),$N=new RegExp("(?:\u661F\u671F|\u79AE\u62DC|\u9031)(?<weekday>"+Object.keys(Aw.WEEKDAY_OFFSET).join("|")+")"),Hh=class extends WN.AbstractParserWithWordBoundaryChecking{innerPattern(){return $N}innerExtract(t,e){let r=t.createParsingResult(e.index,e[0]),i=e.groups.weekday,s=Aw.WEEKDAY_OFFSET[i];if(s===void 0)return null;let a=jN.default(t.refDate),o=!1,l=a.day();return Math.abs(s-7-l)<Math.abs(s-l)?a=a.day(s-7):Math.abs(s+7-l)<Math.abs(s-l)?a=a.day(s+7):a=a.day(s),r.start.assign("weekday",s),o?(r.start.assign("day",a.date()),r.start.assign("month",a.month()+1),r.start.assign("year",a.year())):(r.start.imply("day",a.date()),r.start.imply("month",a.month()+1),r.start.imply("year",a.year())),r}};Ol.default=Hh});var Nw=x(Cl=>{"use strict";var qN=Cl&&Cl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Cl,"__esModule",{value:!0});var YN=qN(Wr()),Gh=class extends YN.default{patternBetween(){return/^\s*(至|到|\-|\~|～|－|ー)\s*$/i}};Cl.default=Gh});var Iw=x(Ml=>{"use strict";var HN=Ml&&Ml.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ml,"__esModule",{value:!0});var GN=HN(si()),Bh=class extends GN.default{patternBetween(){return/^\s*$/i}};Ml.default=Bh});var Fw=x(lt=>{"use strict";var di=lt&&lt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(lt,"__esModule",{value:!0});lt.createConfiguration=lt.createCasualConfiguration=lt.parseDate=lt.parse=lt.strict=lt.casual=lt.hant=void 0;var Vh=yr(),BN=di(Ju()),VN=ai(),zN=di(Sw()),KN=di(Dw()),QN=di(Ow()),XN=di(Mw()),ZN=di(Rw()),JN=di(Pw()),eI=di(Nw()),tI=di(Iw());lt.hant=new Vh.Chrono(zh());lt.casual=new Vh.Chrono(zh());lt.strict=new Vh.Chrono(Kh());function nI(n,t,e){return lt.casual.parse(n,t,e)}lt.parse=nI;function rI(n,t,e){return lt.casual.parseDate(n,t,e)}lt.parseDate=rI;function zh(){let n=Kh();return n.parsers.unshift(new zN.default),n}lt.createCasualConfiguration=zh;function Kh(){let n=VN.includeCommonConfiguration({parsers:[new KN.default,new XN.default,new JN.default,new ZN.default,new QN.default],refiners:[new eI.default,new tI.default]});return n.refiners=n.refiners.filter(t=>!(t instanceof BN.default)),n}lt.createConfiguration=Kh});var Ww=x(Rl=>{"use strict";var iI=Rl&&Rl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Rl,"__esModule",{value:!0});var sI=iI(Ue()),aI=re(),oI=1,Lw=2,lI=3,Uw=4,jw=5,uI=6,Qh=class extends aI.AbstractParserWithWordBoundaryChecking{innerPattern(t){return new RegExp("(\u73B0\u5728|\u7ACB(?:\u523B|\u5373)|\u5373\u523B)|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s|,|\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?","i")}innerExtract(t,e){let r=e.index,i=t.createParsingResult(r,e[0]),s=sI.default(t.refDate),a=s;if(e[oI])i.start.imply("hour",s.hour()),i.start.imply("minute",s.minute()),i.start.imply("second",s.second()),i.start.imply("millisecond",s.millisecond());else if(e[Lw]){let o=e[Lw],l=e[lI];o=="\u660E"?s.hour()>1&&(a=a.add(1,"day")):o=="\u6628"?a=a.add(-1,"day"):o=="\u524D"?a=a.add(-2,"day"):o=="\u5927\u524D"?a=a.add(-3,"day"):o=="\u540E"?a=a.add(2,"day"):o=="\u5927\u540E"&&(a=a.add(3,"day")),l=="\u65E9"?i.start.imply("hour",6):l=="\u665A"&&(i.start.imply("hour",22),i.start.imply("meridiem",1))}else if(e[Uw]){let l=e[Uw][0];l=="\u65E9"||l=="\u4E0A"?i.start.imply("hour",6):l=="\u4E0B"?(i.start.imply("hour",15),i.start.imply("meridiem",1)):l=="\u4E2D"?(i.start.imply("hour",12),i.start.imply("meridiem",1)):l=="\u591C"||l=="\u665A"?(i.start.imply("hour",22),i.start.imply("meridiem",1)):l=="\u51CC"&&i.start.imply("hour",0)}else if(e[jw]){let o=e[jw];o=="\u660E"?s.hour()>1&&(a=a.add(1,"day")):o=="\u6628"?a=a.add(-1,"day"):o=="\u524D"?a=a.add(-2,"day"):o=="\u5927\u524D"?a=a.add(-3,"day"):o=="\u540E"?a=a.add(2,"day"):o=="\u5927\u540E"&&(a=a.add(3,"day"));let l=e[uI];if(l){let u=l[0];u=="\u65E9"||u=="\u4E0A"?i.start.imply("hour",6):u=="\u4E0B"?(i.start.imply("hour",15),i.start.imply("meridiem",1)):u=="\u4E2D"?(i.start.imply("hour",12),i.start.imply("meridiem",1)):u=="\u591C"||u=="\u665A"?(i.start.imply("hour",22),i.start.imply("meridiem",1)):u=="\u51CC"&&i.start.imply("hour",0)}}return i.start.assign("day",a.date()),i.start.assign("month",a.month()+1),i.start.assign("year",a.year()),i}};Rl.default=Qh});var Pa=x(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.zhStringToYear=cn.zhStringToNumber=cn.WEEKDAY_OFFSET=cn.NUMBER=void 0;cn.NUMBER={\u96F6:0,"\u3007":0,\u4E00:1,\u4E8C:2,\u4E24:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u5341:10};cn.WEEKDAY_OFFSET={\u5929:0,\u65E5:0,\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6};function cI(n){let t=0;for(let e=0;e<n.length;e++){let r=n[e];r==="\u5341"?t=t===0?cn.NUMBER[r]:t*cn.NUMBER[r]:t+=cn.NUMBER[r]}return t}cn.zhStringToNumber=cI;function dI(n){let t="";for(let e=0;e<n.length;e++){let r=n[e];t=t+cn.NUMBER[r]}return parseInt(t)}cn.zhStringToYear=dI});var qw=x(Al=>{"use strict";var fI=Al&&Al.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Al,"__esModule",{value:!0});var pI=fI(Ue()),mI=re(),Ds=Pa(),Xh=1,$w=2,Zh=3,Jh=class extends mI.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(\\d{2,4}|["+Object.keys(Ds.NUMBER).join("")+"]{4}|["+Object.keys(Ds.NUMBER).join("")+"]{2})?(?:\\s*)(?:\u5E74)?(?:[\\s|,|\uFF0C]*)(\\d{1,2}|["+Object.keys(Ds.NUMBER).join("")+"]{1,3})(?:\\s*)(?:\u6708)(?:\\s*)(\\d{1,2}|["+Object.keys(Ds.NUMBER).join("")+"]{1,3})?(?:\\s*)(?:\u65E5|\u53F7)?")}innerExtract(t,e){let r=pI.default(t.refDate),i=t.createParsingResult(e.index,e[0]),s=parseInt(e[$w]);if(isNaN(s)&&(s=Ds.zhStringToNumber(e[$w])),i.start.assign("month",s),e[Zh]){let a=parseInt(e[Zh]);isNaN(a)&&(a=Ds.zhStringToNumber(e[Zh])),i.start.assign("day",a)}else i.start.imply("day",r.date());if(e[Xh]){let a=parseInt(e[Xh]);isNaN(a)&&(a=Ds.zhStringToYear(e[Xh])),i.start.assign("year",a)}else i.start.imply("year",r.year());return i}};Al.default=Jh});var Hw=x(Pl=>{"use strict";var hI=Pl&&Pl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Pl,"__esModule",{value:!0});var gI=hI(Ue()),yI=re(),Yw=Pa(),bI=new RegExp("(\\d+|["+Object.keys(Yw.NUMBER).join("")+"]+|\u534A|\u51E0)(?:\\s*)(?:\u4E2A)?(\u79D2(?:\u949F)?|\u5206\u949F|\u5C0F\u65F6|\u949F|\u65E5|\u5929|\u661F\u671F|\u793C\u62DC|\u6708|\u5E74)(?:(?:\u4E4B|\u8FC7)?\u540E|(?:\u4E4B)?\u5185)","i"),eg=1,TI=2,tg=class extends yI.AbstractParserWithWordBoundaryChecking{innerPattern(){return bI}innerExtract(t,e){let r=t.createParsingResult(e.index,e[0]),i=parseInt(e[eg]);if(isNaN(i)&&(i=Yw.zhStringToNumber(e[eg])),isNaN(i)){let l=e[eg];if(l==="\u51E0")i=3;else if(l==="\u534A")i=.5;else return null}let s=gI.default(t.refDate),o=e[TI][0];return o.match(/[日天星礼月年]/)?(o=="\u65E5"||o=="\u5929"?s=s.add(i,"d"):o=="\u661F"||o=="\u793C"?s=s.add(i*7,"d"):o=="\u6708"?s=s.add(i,"month"):o=="\u5E74"&&(s=s.add(i,"year")),r.start.assign("year",s.year()),r.start.assign("month",s.month()+1),r.start.assign("day",s.date()),r):(o=="\u79D2"?s=s.add(i,"second"):o=="\u5206"?s=s.add(i,"minute"):(o=="\u5C0F"||o=="\u949F")&&(s=s.add(i,"hour")),r.start.imply("year",s.year()),r.start.imply("month",s.month()+1),r.start.imply("day",s.date()),r.start.assign("hour",s.hour()),r.start.assign("minute",s.minute()),r.start.assign("second",s.second()),r)}};Pl.default=tg});var Bw=x(Nl=>{"use strict";var _I=Nl&&Nl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Nl,"__esModule",{value:!0});var vI=_I(Ue()),wI=re(),Gw=Pa(),kI=new RegExp("(?<prefix>\u4E0A|\u4E0B|\u8FD9)(?:\u4E2A)?(?:\u661F\u671F|\u793C\u62DC|\u5468)(?<weekday>"+Object.keys(Gw.WEEKDAY_OFFSET).join("|")+")"),ng=class extends wI.AbstractParserWithWordBoundaryChecking{innerPattern(){return kI}innerExtract(t,e){let r=t.createParsingResult(e.index,e[0]),i=e.groups.weekday,s=Gw.WEEKDAY_OFFSET[i];if(s===void 0)return null;let a=null,o=e.groups.prefix;o=="\u4E0A"?a="last":o=="\u4E0B"?a="next":o=="\u8FD9"&&(a="this");let l=vI.default(t.refDate),u=!1,c=l.day();return a=="last"||a=="past"?(l=l.day(s-7),u=!0):a=="next"?(l=l.day(s+7),u=!0):a=="this"?l=l.day(s):Math.abs(s-7-c)<Math.abs(s-c)?l=l.day(s-7):Math.abs(s+7-c)<Math.abs(s-c)?l=l.day(s+7):l=l.day(s),r.start.assign("weekday",s),u?(r.start.assign("day",l.date()),r.start.assign("month",l.month()+1),r.start.assign("year",l.year())):(r.start.imply("day",l.date()),r.start.imply("month",l.month()+1),r.start.imply("year",l.year())),r}};Nl.default=ng});var Vw=x(Il=>{"use strict";var SI=Il&&Il.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Il,"__esModule",{value:!0});var EI=SI(Ue()),DI=re(),Vn=Pa(),xI=new RegExp("(?:\u4ECE|\u81EA)?(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(Vn.NUMBER).join("")+"]+)(?:\\s*)(?:\u70B9|\u65F6|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(Vn.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(Vn.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),OI=new RegExp("(?:^\\s*(?:\u5230|\u81F3|\\-|\\\u2013|\\~|\\\u301C)\\s*)(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(Vn.NUMBER).join("")+"]+)(?:\\s*)(?:\u70B9|\u65F6|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(Vn.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(Vn.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),Sc=1,Ec=2,Dc=3,xc=4,Oc=5,Cc=6,Bn=7,Na=8,Mc=9,rg=class extends DI.AbstractParserWithWordBoundaryChecking{innerPattern(){return xI}innerExtract(t,e){if(e.index>0&&t.text[e.index-1].match(/\w/))return null;let r=EI.default(t.refDate),i=t.createParsingResult(e.index,e[0]),s=r.clone();if(e[Sc]){let c=e[Sc];c=="\u660E"?r.hour()>1&&s.add(1,"day"):c=="\u6628"?s.add(-1,"day"):c=="\u524D"?s.add(-2,"day"):c=="\u5927\u524D"?s.add(-3,"day"):c=="\u540E"?s.add(2,"day"):c=="\u5927\u540E"&&s.add(3,"day"),i.start.assign("day",s.date()),i.start.assign("month",s.month()+1),i.start.assign("year",s.year())}else if(e[xc]){let c=e[xc];c=="\u660E"?s.add(1,"day"):c=="\u6628"?s.add(-1,"day"):c=="\u524D"?s.add(-2,"day"):c=="\u5927\u524D"?s.add(-3,"day"):c=="\u540E"?s.add(2,"day"):c=="\u5927\u540E"&&s.add(3,"day"),i.start.assign("day",s.date()),i.start.assign("month",s.month()+1),i.start.assign("year",s.year())}else i.start.imply("day",s.date()),i.start.imply("month",s.month()+1),i.start.imply("year",s.year());let a=0,o=0,l=-1;if(e[Na]){let c=parseInt(e[Na]);if(isNaN(c)&&(c=Vn.zhStringToNumber(e[Na])),c>=60)return null;i.start.assign("second",c)}if(a=parseInt(e[Cc]),isNaN(a)&&(a=Vn.zhStringToNumber(e[Cc])),e[Bn]?e[Bn]=="\u534A"?o=30:e[Bn]=="\u6B63"||e[Bn]=="\u6574"?o=0:(o=parseInt(e[Bn]),isNaN(o)&&(o=Vn.zhStringToNumber(e[Bn]))):a>100&&(o=a%100,a=Math.floor(a/100)),o>=60||a>24)return null;if(a>=12&&(l=1),e[Mc]){if(a>12)return null;let c=e[Mc][0].toLowerCase();c=="a"&&(l=0,a==12&&(a=0)),c=="p"&&(l=1,a!=12&&(a+=12))}else if(e[Ec]){let d=e[Ec][0];d=="\u65E9"?(l=0,a==12&&(a=0)):d=="\u665A"&&(l=1,a!=12&&(a+=12))}else if(e[Dc]){let d=e[Dc][0];d=="\u4E0A"||d=="\u65E9"||d=="\u51CC"?(l=0,a==12&&(a=0)):(d=="\u4E0B"||d=="\u665A")&&(l=1,a!=12&&(a+=12))}else if(e[Oc]){let d=e[Oc][0];d=="\u4E0A"||d=="\u65E9"||d=="\u51CC"?(l=0,a==12&&(a=0)):(d=="\u4E0B"||d=="\u665A")&&(l=1,a!=12&&(a+=12))}if(i.start.assign("hour",a),i.start.assign("minute",o),l>=0?i.start.assign("meridiem",l):a<12?i.start.imply("meridiem",0):i.start.imply("meridiem",1),e=OI.exec(t.text.substring(i.index+i.text.length)),!e)return i.text.match(/^\d+$/)?null:i;let u=s.clone();if(i.end=t.createParsingComponents(),e[Sc]){let c=e[Sc];c=="\u660E"?r.hour()>1&&u.add(1,"day"):c=="\u6628"?u.add(-1,"day"):c=="\u524D"?u.add(-2,"day"):c=="\u5927\u524D"?u.add(-3,"day"):c=="\u540E"?u.add(2,"day"):c=="\u5927\u540E"&&u.add(3,"day"),i.end.assign("day",u.date()),i.end.assign("month",u.month()+1),i.end.assign("year",u.year())}else if(e[xc]){let c=e[xc];c=="\u660E"?u.add(1,"day"):c=="\u6628"?u.add(-1,"day"):c=="\u524D"?u.add(-2,"day"):c=="\u5927\u524D"?u.add(-3,"day"):c=="\u540E"?u.add(2,"day"):c=="\u5927\u540E"&&u.add(3,"day"),i.end.assign("day",u.date()),i.end.assign("month",u.month()+1),i.end.assign("year",u.year())}else i.end.imply("day",u.date()),i.end.imply("month",u.month()+1),i.end.imply("year",u.year());if(a=0,o=0,l=-1,e[Na]){let c=parseInt(e[Na]);if(isNaN(c)&&(c=Vn.zhStringToNumber(e[Na])),c>=60)return null;i.end.assign("second",c)}if(a=parseInt(e[Cc]),isNaN(a)&&(a=Vn.zhStringToNumber(e[Cc])),e[Bn]?e[Bn]=="\u534A"?o=30:e[Bn]=="\u6B63"||e[Bn]=="\u6574"?o=0:(o=parseInt(e[Bn]),isNaN(o)&&(o=Vn.zhStringToNumber(e[Bn]))):a>100&&(o=a%100,a=Math.floor(a/100)),o>=60||a>24)return null;if(a>=12&&(l=1),e[Mc]){if(a>12)return null;let c=e[Mc][0].toLowerCase();c=="a"&&(l=0,a==12&&(a=0)),c=="p"&&(l=1,a!=12&&(a+=12)),i.start.isCertain("meridiem")||(l==0?(i.start.imply("meridiem",0),i.start.get("hour")==12&&i.start.assign("hour",0)):(i.start.imply("meridiem",1),i.start.get("hour")!=12&&i.start.assign("hour",i.start.get("hour")+12)))}else if(e[Ec]){let d=e[Ec][0];d=="\u65E9"?(l=0,a==12&&(a=0)):d=="\u665A"&&(l=1,a!=12&&(a+=12))}else if(e[Dc]){let d=e[Dc][0];d=="\u4E0A"||d=="\u65E9"||d=="\u51CC"?(l=0,a==12&&(a=0)):(d=="\u4E0B"||d=="\u665A")&&(l=1,a!=12&&(a+=12))}else if(e[Oc]){let d=e[Oc][0];d=="\u4E0A"||d=="\u65E9"||d=="\u51CC"?(l=0,a==12&&(a=0)):(d=="\u4E0B"||d=="\u665A")&&(l=1,a!=12&&(a+=12))}return i.text=i.text+e[0],i.end.assign("hour",a),i.end.assign("minute",o),l>=0?i.end.assign("meridiem",l):i.start.isCertain("meridiem")&&i.start.get("meridiem")==1&&i.start.get("hour")>a?i.end.imply("meridiem",0):a>12&&i.end.imply("meridiem",1),i.end.date().getTime()<i.start.date().getTime()&&i.end.imply("day",i.end.get("day")+1),i}};Il.default=rg});var Kw=x(Fl=>{"use strict";var CI=Fl&&Fl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Fl,"__esModule",{value:!0});var MI=CI(Ue()),RI=re(),zw=Pa(),AI=new RegExp("(?:\u661F\u671F|\u793C\u62DC|\u5468)(?<weekday>"+Object.keys(zw.WEEKDAY_OFFSET).join("|")+")"),ig=class extends RI.AbstractParserWithWordBoundaryChecking{innerPattern(){return AI}innerExtract(t,e){let r=t.createParsingResult(e.index,e[0]),i=e.groups.weekday,s=zw.WEEKDAY_OFFSET[i];if(s===void 0)return null;let a=MI.default(t.refDate),o=!1,l=a.day();return Math.abs(s-7-l)<Math.abs(s-l)?a=a.day(s-7):Math.abs(s+7-l)<Math.abs(s-l)?a=a.day(s+7):a=a.day(s),r.start.assign("weekday",s),o?(r.start.assign("day",a.date()),r.start.assign("month",a.month()+1),r.start.assign("year",a.year())):(r.start.imply("day",a.date()),r.start.imply("month",a.month()+1),r.start.imply("year",a.year())),r}};Fl.default=ig});var Qw=x(Ll=>{"use strict";var PI=Ll&&Ll.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ll,"__esModule",{value:!0});var NI=PI(Wr()),sg=class extends NI.default{patternBetween(){return/^\s*(至|到|-|~|～|－|ー)\s*$/i}};Ll.default=sg});var Xw=x(Ul=>{"use strict";var II=Ul&&Ul.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ul,"__esModule",{value:!0});var FI=II(si()),ag=class extends FI.default{patternBetween(){return/^\s*$/i}};Ul.default=ag});var Zw=x(ut=>{"use strict";var fi=ut&&ut.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ut,"__esModule",{value:!0});ut.createConfiguration=ut.createCasualConfiguration=ut.parseDate=ut.parse=ut.strict=ut.casual=ut.hans=void 0;var og=yr(),LI=fi(Ju()),UI=ai(),jI=fi(Ww()),WI=fi(qw()),$I=fi(Hw()),qI=fi(Bw()),YI=fi(Vw()),HI=fi(Kw()),GI=fi(Qw()),BI=fi(Xw());ut.hans=new og.Chrono(lg());ut.casual=new og.Chrono(lg());ut.strict=new og.Chrono(ug());function VI(n,t,e){return ut.casual.parse(n,t,e)}ut.parse=VI;function zI(n,t,e){return ut.casual.parseDate(n,t,e)}ut.parseDate=zI;function lg(){let n=ug();return n.parsers.unshift(new jI.default),n}ut.createCasualConfiguration=lg;function ug(){let n=UI.includeCommonConfiguration({parsers:[new WI.default,new qI.default,new HI.default,new YI.default,new $I.default],refiners:[new GI.default,new BI.default]});return n.refiners=n.refiners.filter(t=>!(t instanceof LI.default)),n}ut.createConfiguration=ug});var ek=x(Sn=>{"use strict";var Jw=Sn&&Sn.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),KI=Sn&&Sn.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),QI=Sn&&Sn.__exportStar||function(n,t){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&Jw(t,n,e)},XI=Sn&&Sn.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&Jw(t,n,e);return KI(t,n),t};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.hans=void 0;QI(Fw(),Sn);Sn.hans=XI(Zw())});var dn=x(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.parseTimeUnits=Se.TIME_UNITS_PATTERN=Se.parseYear=Se.YEAR_PATTERN=Se.parseOrdinalNumberPattern=Se.ORDINAL_NUMBER_PATTERN=Se.parseNumberPattern=Se.NUMBER_PATTERN=Se.TIME_UNIT_DICTIONARY=Se.ORDINAL_WORD_DICTIONARY=Se.INTEGER_WORD_DICTIONARY=Se.MONTH_DICTIONARY=Se.FULL_MONTH_NAME_DICTIONARY=Se.WEEKDAY_DICTIONARY=Se.REGEX_PARTS=void 0;var Rc=Ke(),ZI=Ct();Se.REGEX_PARTS={leftBoundary:"([^\\p{L}\\p{N}_]|^)",rightBoundary:"(?=[^\\p{L}\\p{N}_]|$)",flags:"iu"};Se.WEEKDAY_DICTIONARY={\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435:0,\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u044F:0,\u0432\u0441\u043A:0,"\u0432\u0441\u043A.":0,\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A:1,\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A\u0430:1,\u043F\u043D:1,"\u043F\u043D.":1,\u0432\u0442\u043E\u0440\u043D\u0438\u043A:2,\u0432\u0442\u043E\u0440\u043D\u0438\u043A\u0430:2,\u0432\u0442:2,"\u0432\u0442.":2,\u0441\u0440\u0435\u0434\u0430:3,\u0441\u0440\u0435\u0434\u044B:3,\u0441\u0440\u0435\u0434\u0443:3,\u0441\u0440:3,"\u0441\u0440.":3,\u0447\u0435\u0442\u0432\u0435\u0440\u0433:4,\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430:4,\u0447\u0442:4,"\u0447\u0442.":4,\u043F\u044F\u0442\u043D\u0438\u0446\u0430:5,\u043F\u044F\u0442\u043D\u0438\u0446\u0443:5,\u043F\u044F\u0442\u043D\u0438\u0446\u044B:5,\u043F\u0442:5,"\u043F\u0442.":5,\u0441\u0443\u0431\u0431\u043E\u0442\u0430:6,\u0441\u0443\u0431\u0431\u043E\u0442\u0443:6,\u0441\u0443\u0431\u0431\u043E\u0442\u044B:6,\u0441\u0431:6,"\u0441\u0431.":6};Se.FULL_MONTH_NAME_DICTIONARY={\u044F\u043D\u0432\u0430\u0440\u044C:1,\u044F\u043D\u0432\u0430\u0440\u044F:1,\u044F\u043D\u0432\u0430\u0440\u0435:1,\u0444\u0435\u0432\u0440\u044F\u043B\u044C:2,\u0444\u0435\u0432\u0440\u044F\u043B\u044F:2,\u0444\u0435\u0432\u0440\u044F\u043B\u0435:2,\u043C\u0430\u0440\u0442:3,\u043C\u0430\u0440\u0442\u0430:3,\u043C\u0430\u0440\u0442\u0435:3,\u0430\u043F\u0440\u0435\u043B\u044C:4,\u0430\u043F\u0440\u0435\u043B\u044F:4,\u0430\u043F\u0440\u0435\u043B\u0435:4,\u043C\u0430\u0439:5,\u043C\u0430\u044F:5,\u043C\u0430\u0435:5,\u0438\u044E\u043D\u044C:6,\u0438\u044E\u043D\u044F:6,\u0438\u044E\u043D\u0435:6,\u0438\u044E\u043B\u044C:7,\u0438\u044E\u043B\u044F:7,\u0438\u044E\u043B\u0435:7,\u0430\u0432\u0433\u0443\u0441\u0442:8,\u0430\u0432\u0433\u0443\u0441\u0442\u0430:8,\u0430\u0432\u0433\u0443\u0441\u0442\u0435:8,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C:9,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F:9,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u0435:9,\u043E\u043A\u0442\u044F\u0431\u0440\u044C:10,\u043E\u043A\u0442\u044F\u0431\u0440\u044F:10,\u043E\u043A\u0442\u044F\u0431\u0440\u0435:10,\u043D\u043E\u044F\u0431\u0440\u044C:11,\u043D\u043E\u044F\u0431\u0440\u044F:11,\u043D\u043E\u044F\u0431\u0440\u0435:11,\u0434\u0435\u043A\u0430\u0431\u0440\u044C:12,\u0434\u0435\u043A\u0430\u0431\u0440\u044F:12,\u0434\u0435\u043A\u0430\u0431\u0440\u0435:12};Se.MONTH_DICTIONARY=Object.assign(Object.assign({},Se.FULL_MONTH_NAME_DICTIONARY),{\u044F\u043D\u0432:1,"\u044F\u043D\u0432.":1,\u0444\u0435\u0432:2,"\u0444\u0435\u0432.":2,\u043C\u0430\u0440:3,"\u043C\u0430\u0440.":3,\u0430\u043F\u0440:4,"\u0430\u043F\u0440.":4,\u0430\u0432\u0433:8,"\u0430\u0432\u0433.":8,\u0441\u0435\u043D:9,"\u0441\u0435\u043D.":9,\u043E\u043A\u0442:10,"\u043E\u043A\u0442.":10,\u043D\u043E\u044F:11,"\u043D\u043E\u044F.":11,\u0434\u0435\u043A:12,"\u0434\u0435\u043A.":12});Se.INTEGER_WORD_DICTIONARY={\u043E\u0434\u0438\u043D:1,\u043E\u0434\u043D\u0430:1,\u043E\u0434\u043D\u043E\u0439:1,\u043E\u0434\u043D\u0443:1,\u0434\u0432\u0435:2,\u0434\u0432\u0430:2,\u0434\u0432\u0443\u0445:2,\u0442\u0440\u0438:3,\u0442\u0440\u0435\u0445:3,\u0442\u0440\u0451\u0445:3,\u0447\u0435\u0442\u044B\u0440\u0435:4,\u0447\u0435\u0442\u044B\u0440\u0435\u0445:4,\u0447\u0435\u0442\u044B\u0440\u0451\u0445:4,\u043F\u044F\u0442\u044C:5,\u043F\u044F\u0442\u0438:5,\u0448\u0435\u0441\u0442\u044C:6,\u0448\u0435\u0441\u0442\u0438:6,\u0441\u0435\u043C\u044C:7,\u0441\u0435\u043C\u0438:7,\u0432\u043E\u0441\u0435\u043C\u044C:8,\u0432\u043E\u0441\u0435\u043C\u044C\u043C\u0438:8,\u0434\u0435\u0432\u044F\u0442\u044C:9,\u0434\u0435\u0432\u044F\u0442\u0438:9,\u0434\u0435\u0441\u044F\u0442\u044C:10,\u0434\u0435\u0441\u044F\u0442\u0438:10,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u044C:11,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u0438:11,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u044C:12,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u0438:12};Se.ORDINAL_WORD_DICTIONARY={\u043F\u0435\u0440\u0432\u043E\u0435:1,\u043F\u0435\u0440\u0432\u043E\u0433\u043E:1,\u0432\u0442\u043E\u0440\u043E\u0435:2,\u0432\u0442\u043E\u0440\u043E\u0433\u043E:2,\u0442\u0440\u0435\u0442\u044C\u0435:3,\u0442\u0440\u0435\u0442\u044C\u0435\u0433\u043E:3,\u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0435:4,\u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0433\u043E:4,\u043F\u044F\u0442\u043E\u0435:5,\u043F\u044F\u0442\u043E\u0433\u043E:5,\u0448\u0435\u0441\u0442\u043E\u0435:6,\u0448\u0435\u0441\u0442\u043E\u0433\u043E:6,\u0441\u0435\u0434\u044C\u043C\u043E\u0435:7,\u0441\u0435\u0434\u044C\u043C\u043E\u0433\u043E:7,\u0432\u043E\u0441\u044C\u043C\u043E\u0435:8,\u0432\u043E\u0441\u044C\u043C\u043E\u0433\u043E:8,\u0434\u0435\u0432\u044F\u0442\u043E\u0435:9,\u0434\u0435\u0432\u044F\u0442\u043E\u0433\u043E:9,\u0434\u0435\u0441\u044F\u0442\u043E\u0435:10,\u0434\u0435\u0441\u044F\u0442\u043E\u0433\u043E:10,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:11,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:11,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:12,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:12,\u0442\u0440\u0438\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:13,\u0442\u0440\u0438\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:13,\u0447\u0435\u0442\u044B\u0440\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:14,\u0447\u0435\u0442\u044B\u0440\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:14,\u043F\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:15,\u043F\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:15,\u0448\u0435\u0441\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:16,\u0448\u0435\u0441\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:16,\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:17,\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:17,\u0432\u043E\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:18,\u0432\u043E\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:18,\u0434\u0435\u0432\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:19,\u0434\u0435\u0432\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:19,\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u043E\u0435:20,\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:20,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0435":21,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0433\u043E":21,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u0442\u043E\u0440\u043E\u0435":22,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u0442\u043E\u0440\u043E\u0433\u043E":22,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0442\u0440\u0435\u0442\u044C\u0435":23,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0442\u0440\u0435\u0442\u044C\u0435\u0433\u043E":23,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0435":24,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0433\u043E":24,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u044F\u0442\u043E\u0435":25,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u044F\u0442\u043E\u0433\u043E":25,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0448\u0435\u0441\u0442\u043E\u0435":26,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0448\u0435\u0441\u0442\u043E\u0433\u043E":26,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0441\u0435\u0434\u044C\u043C\u043E\u0435":27,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0441\u0435\u0434\u044C\u043C\u043E\u0433\u043E":27,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u043E\u0441\u044C\u043C\u043E\u0435":28,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u043E\u0441\u044C\u043C\u043E\u0433\u043E":28,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0434\u0435\u0432\u044F\u0442\u043E\u0435":29,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0434\u0435\u0432\u044F\u0442\u043E\u0433\u043E":29,\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u043E\u0435:30,\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u043E\u0433\u043E:30,"\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0435":31,"\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0433\u043E":31};Se.TIME_UNIT_DICTIONARY={\u0441\u0435\u043A:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u0430:"second",\u0441\u0435\u043A\u0443\u043D\u0434:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u044B:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u0443:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0430:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0438:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u0435\u043A:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0443:"second",\u043C\u0438\u043D:"minute",\u043C\u0438\u043D\u0443\u0442\u0430:"minute",\u043C\u0438\u043D\u0443\u0442:"minute",\u043C\u0438\u043D\u0443\u0442\u044B:"minute",\u043C\u0438\u043D\u0443\u0442\u0443:"minute",\u043C\u0438\u043D\u0443\u0442\u043E\u043A:"minute",\u043C\u0438\u043D\u0443\u0442\u043A\u0438:"minute",\u043C\u0438\u043D\u0443\u0442\u043A\u0443:"minute",\u0447\u0430\u0441:"hour",\u0447\u0430\u0441\u043E\u0432:"hour",\u0447\u0430\u0441\u0430:"hour",\u0447\u0430\u0441\u0443:"hour",\u0447\u0430\u0441\u0438\u043A\u043E\u0432:"hour",\u0447\u0430\u0441\u0438\u043A\u0430:"hour",\u0447\u0430\u0441\u0438\u043A\u0435:"hour",\u0447\u0430\u0441\u0438\u043A:"hour",\u0434\u0435\u043D\u044C:"d",\u0434\u043D\u044F:"d",\u0434\u043D\u0435\u0439:"d",\u0441\u0443\u0442\u043E\u043A:"d",\u0441\u0443\u0442\u043A\u0438:"d",\u043D\u0435\u0434\u0435\u043B\u044F:"week",\u043D\u0435\u0434\u0435\u043B\u0435:"week",\u043D\u0435\u0434\u0435\u043B\u0438:"week",\u043D\u0435\u0434\u0435\u043B\u044E:"week",\u043D\u0435\u0434\u0435\u043B\u044C:"week",\u043D\u0435\u0434\u0435\u043B\u044C\u043A\u0435:"week",\u043D\u0435\u0434\u0435\u043B\u044C\u043A\u0438:"week",\u043D\u0435\u0434\u0435\u043B\u0435\u043A:"week",\u043C\u0435\u0441\u044F\u0446:"month",\u043C\u0435\u0441\u044F\u0446\u0435:"month",\u043C\u0435\u0441\u044F\u0446\u0435\u0432:"month",\u043C\u0435\u0441\u044F\u0446\u0430:"month",\u043A\u0432\u0430\u0440\u0442\u0430\u043B:"quarter",\u043A\u0432\u0430\u0440\u0442\u0430\u043B\u0435:"quarter",\u043A\u0432\u0430\u0440\u0442\u0430\u043B\u043E\u0432:"quarter",\u0433\u043E\u0434:"year",\u0433\u043E\u0434\u0430:"year",\u0433\u043E\u0434\u0443:"year",\u0433\u043E\u0434\u043E\u0432:"year",\u043B\u0435\u0442:"year",\u0433\u043E\u0434\u0438\u043A:"year",\u0433\u043E\u0434\u0438\u043A\u0430:"year",\u0433\u043E\u0434\u0438\u043A\u043E\u0432:"year"};Se.NUMBER_PATTERN=`(?:${Rc.matchAnyPattern(Se.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|\u043F\u043E\u043B|\u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E|\u043F\u0430\u0440(?:\u044B|\u0443)|\\s{0,3})`;function nk(n){let t=n.toLowerCase();return Se.INTEGER_WORD_DICTIONARY[t]!==void 0?Se.INTEGER_WORD_DICTIONARY[t]:t.match(/несколько/)?3:t.match(/пол/)?.5:t.match(/пар/)?2:t===""?1:parseFloat(t)}Se.parseNumberPattern=nk;Se.ORDINAL_NUMBER_PATTERN=`(?:${Rc.matchAnyPattern(Se.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:\u0433\u043E|\u043E\u0433\u043E|\u0435|\u043E\u0435)?)`;function JI(n){let t=n.toLowerCase();return Se.ORDINAL_WORD_DICTIONARY[t]!==void 0?Se.ORDINAL_WORD_DICTIONARY[t]:(t=t.replace(/(?:st|nd|rd|th)$/i,""),parseInt(t))}Se.parseOrdinalNumberPattern=JI;var cg="(?:\\s+(?:\u0433\u043E\u0434\u0443|\u0433\u043E\u0434\u0430|\u0433\u043E\u0434|\u0433|\u0433.))?";Se.YEAR_PATTERN=`(?:[1-9][0-9]{0,3}${cg}\\s*(?:\u043D.\u044D.|\u0434\u043E \u043D.\u044D.|\u043D. \u044D.|\u0434\u043E \u043D. \u044D.)|[1-2][0-9]{3}${cg}|[5-9][0-9]${cg})`;function eF(n){if(/(год|года|г|г.)/i.test(n)&&(n=n.replace(/(год|года|г|г.)/i,"")),/(до н.э.|до н. э.)/i.test(n))return n=n.replace(/(до н.э.|до н. э.)/i,""),-parseInt(n);if(/(н. э.|н.э.)/i.test(n))return n=n.replace(/(н. э.|н.э.)/i,""),parseInt(n);let t=parseInt(n);return ZI.findMostLikelyADYear(t)}Se.parseYear=eF;var rk=`(${Se.NUMBER_PATTERN})\\s{0,3}(${Rc.matchAnyPattern(Se.TIME_UNIT_DICTIONARY)})`,tk=new RegExp(rk,"i");Se.TIME_UNITS_PATTERN=Rc.repeatedTimeunitPattern("(?:(?:\u043E\u043A\u043E\u043B\u043E|\u043F\u0440\u0438\u043C\u0435\u0440\u043D\u043E)\\s{0,3})?",rk);function tF(n){let t={},e=n,r=tk.exec(e);for(;r;)nF(t,r),e=e.substring(r[0].length).trim(),r=tk.exec(e);return t}Se.parseTimeUnits=tF;function nF(n,t){let e=nk(t[1]),r=Se.TIME_UNIT_DICTIONARY[t[2].toLowerCase()];n[r]=e}});var sk=x(fg=>{"use strict";Object.defineProperty(fg,"__esModule",{value:!0});var jl=dn(),rF=nt(),iF=re(),ik=`(?:(?:\u043E\u043A\u043E\u043B\u043E|\u043F\u0440\u0438\u043C\u0435\u0440\u043D\u043E)\\s*(?:~\\s*)?)?(${jl.TIME_UNITS_PATTERN})${jl.REGEX_PARTS.rightBoundary}`,sF=new RegExp(`(?:\u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0435|\u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0438)\\s*${ik}`,jl.REGEX_PARTS.flags),aF=new RegExp(ik,"i"),dg=class extends iF.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return jl.REGEX_PARTS.leftBoundary}innerPattern(t){return t.option.forwardDate?aF:sF}innerExtract(t,e){let r=jl.parseTimeUnits(e[1]);return rF.ParsingComponents.createRelativeFromReference(t.reference,r)}};fg.default=dg});var ck=x(mg=>{"use strict";Object.defineProperty(mg,"__esModule",{value:!0});var oF=Ct(),Wl=dn(),uk=dn(),Ac=dn(),lF=Ke(),uF=re(),cF=new RegExp(`(?:\u0441)?\\s*(${Ac.ORDINAL_NUMBER_PATTERN})(?:\\s{0,3}(?:\u043F\u043E|-|\u2013|\u0434\u043E)?\\s{0,3}(${Ac.ORDINAL_NUMBER_PATTERN}))?(?:-|\\/|\\s{0,3}(?:of)?\\s{0,3})(${lF.matchAnyPattern(Wl.MONTH_DICTIONARY)})(?:(?:-|\\/|,?\\s{0,3})(${uk.YEAR_PATTERN}(?![^\\s]\\d)))?${Wl.REGEX_PARTS.rightBoundary}`,Wl.REGEX_PARTS.flags),ak=1,ok=2,dF=3,lk=4,pg=class extends uF.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Wl.REGEX_PARTS.leftBoundary}innerPattern(){return cF}innerExtract(t,e){let r=t.createParsingResult(e.index,e[0]),i=Wl.MONTH_DICTIONARY[e[dF].toLowerCase()],s=Ac.parseOrdinalNumberPattern(e[ak]);if(s>31)return e.index=e.index+e[ak].length,null;if(r.start.assign("month",i),r.start.assign("day",s),e[lk]){let a=uk.parseYear(e[lk]);r.start.assign("year",a)}else{let a=oF.findYearClosestToRef(t.refDate,s,i);r.start.imply("year",a)}if(e[ok]){let a=Ac.parseOrdinalNumberPattern(e[ok]);r.end=r.start.clone(),r.end.assign("day",a)}return r}};mg.default=pg});var pk=x(gg=>{"use strict";Object.defineProperty(gg,"__esModule",{value:!0});var $l=dn(),fF=Ct(),pF=Ke(),fk=dn(),mF=re(),hF=new RegExp(`((?:\u0432)\\s*)?(${pF.matchAnyPattern($l.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${fk.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,$l.REGEX_PARTS.flags),gF=2,dk=3,hg=class extends mF.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return $l.REGEX_PARTS.leftBoundary}innerPattern(){return hF}innerExtract(t,e){let r=e[gF].toLowerCase();if(e[0].length<=3&&!$l.FULL_MONTH_NAME_DICTIONARY[r])return null;let i=t.createParsingResult(e.index,e.index+e[0].length);i.start.imply("day",1);let s=$l.MONTH_DICTIONARY[r];if(i.start.assign("month",s),e[dk]){let a=fk.parseYear(e[dk]);i.start.assign("year",a)}else{let a=fF.findYearClosestToRef(t.refDate,1,s);i.start.imply("year",a)}return i}};gg.default=hg});var hk=x(bg=>{"use strict";Object.defineProperty(bg,"__esModule",{value:!0});var Pc=ht(),yF=Ts(),mk=dn(),yg=class extends yF.AbstractTimeExpressionParser{constructor(t){super(t)}patternFlags(){return mk.REGEX_PARTS.flags}primaryPatternLeftBoundary(){return"(^|\\s|T|(?:[^\\p{L}\\p{N}_]))"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|\u0434\u043E|\u0438|\u043F\u043E|\\?)\\s*"}primaryPrefix(){return"(?:(?:\u0432|\u0441)\\s*)??"}primarySuffix(){return`(?:\\s*(?:\u0443\u0442\u0440\u0430|\u0432\u0435\u0447\u0435\u0440\u0430|\u043F\u043E\u0441\u043B\u0435 \u043F\u043E\u043B\u0443\u0434\u043D\u044F))?(?!\\/)${mk.REGEX_PARTS.rightBoundary}`}extractPrimaryTimeComponents(t,e){let r=super.extractPrimaryTimeComponents(t,e);if(r){if(e[0].endsWith("\u0432\u0435\u0447\u0435\u0440\u0430")){let i=r.get("hour");i>=6&&i<12?(r.assign("hour",r.get("hour")+12),r.assign("meridiem",Pc.Meridiem.PM)):i<6&&r.assign("meridiem",Pc.Meridiem.AM)}if(e[0].endsWith("\u043F\u043E\u0441\u043B\u0435 \u043F\u043E\u043B\u0443\u0434\u043D\u044F")){r.assign("meridiem",Pc.Meridiem.PM);let i=r.get("hour");i>=0&&i<=6&&r.assign("hour",r.get("hour")+12)}e[0].endsWith("\u0443\u0442\u0440\u0430")&&(r.assign("meridiem",Pc.Meridiem.AM),r.get("hour")<12&&r.assign("hour",r.get("hour")))}return r}};bg.default=yg});var gk=x(_g=>{"use strict";Object.defineProperty(_g,"__esModule",{value:!0});var Nc=dn(),bF=nt(),TF=re(),_F=qn(),vF=new RegExp(`(${Nc.TIME_UNITS_PATTERN})\\s{0,5}\u043D\u0430\u0437\u0430\u0434(?=(?:\\W|$))`,Nc.REGEX_PARTS.flags),Tg=class extends TF.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Nc.REGEX_PARTS.leftBoundary}innerPattern(){return vF}innerExtract(t,e){let r=Nc.parseTimeUnits(e[1]),i=_F.reverseTimeUnits(r);return bF.ParsingComponents.createRelativeFromReference(t.reference,i)}};_g.default=Tg});var yk=x(ql=>{"use strict";var wF=ql&&ql.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ql,"__esModule",{value:!0});var kF=wF(Wr()),vg=class extends kF.default{patternBetween(){return/^\s*(и до|и по|до|по|-)\s*$/i}};ql.default=vg});var bk=x(Yl=>{"use strict";var SF=Yl&&Yl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Yl,"__esModule",{value:!0});var EF=SF(si()),wg=class extends EF.default{patternBetween(){return new RegExp("^\\s*(T|\u0432|,|-)?\\s*$")}};Yl.default=wg});var Tk=x(pi=>{"use strict";var DF=pi&&pi.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),xF=pi&&pi.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),OF=pi&&pi.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&DF(t,n,e);return xF(t,n),t};Object.defineProperty(pi,"__esModule",{value:!0});var CF=re(),Hl=OF(li()),kg=dn(),MF=new RegExp(`(?:\u0441|\u0441\u043E)?\\s*(\u0441\u0435\u0433\u043E\u0434\u043D\u044F|\u0432\u0447\u0435\u0440\u0430|\u0437\u0430\u0432\u0442\u0440\u0430|\u043F\u043E\u0441\u043B\u0435\u0437\u0430\u0432\u0442\u0440\u0430|\u043F\u043E\u0437\u0430\u0432\u0447\u0435\u0440\u0430)${kg.REGEX_PARTS.rightBoundary}`,kg.REGEX_PARTS.flags),Sg=class extends CF.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return kg.REGEX_PARTS.leftBoundary}innerPattern(t){return MF}innerExtract(t,e){let r=e[1].toLowerCase(),i=t.createParsingComponents();switch(r){case"\u0441\u0435\u0433\u043E\u0434\u043D\u044F":return Hl.today(t.reference);case"\u0432\u0447\u0435\u0440\u0430":return Hl.yesterday(t.reference);case"\u0437\u0430\u0432\u0442\u0440\u0430":return Hl.tomorrow(t.reference);case"\u043F\u043E\u0441\u043B\u0435\u0437\u0430\u0432\u0442\u0440\u0430":return Hl.theDayAfter(t.reference,2);case"\u043F\u043E\u0437\u0430\u0432\u0447\u0435\u0440\u0430":return Hl.theDayBefore(t.reference,2)}return i}};pi.default=Sg});var _k=x(wr=>{"use strict";var RF=wr&&wr.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),AF=wr&&wr.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),PF=wr&&wr.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&RF(t,n,e);return AF(t,n),t},NF=wr&&wr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(wr,"__esModule",{value:!0});var IF=re(),xs=PF(li()),FF=$n(),LF=NF(Ue()),Eg=dn(),UF=new RegExp(`(\u0441\u0435\u0439\u0447\u0430\u0441|\u043F\u0440\u043E\u0448\u043B\u044B\u043C\\s*\u0432\u0435\u0447\u0435\u0440\u043E\u043C|\u043F\u0440\u043E\u0448\u043B\u043E\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u0441\u0435\u0433\u043E\u0434\u043D\u044F\\s*\u043D\u043E\u0447\u044C\u044E|\u044D\u0442\u043E\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u043D\u043E\u0447\u044C\u044E|\u044D\u0442\u0438\u043C \u0443\u0442\u0440\u043E\u043C|\u0443\u0442\u0440\u043E\u043C|\u0443\u0442\u0440\u0430|\u0432\\s*\u043F\u043E\u043B\u0434\u0435\u043D\u044C|\u0432\u0435\u0447\u0435\u0440\u043E\u043C|\u0432\u0435\u0447\u0435\u0440\u0430|\u0432\\s*\u043F\u043E\u043B\u043D\u043E\u0447\u044C)${Eg.REGEX_PARTS.rightBoundary}`,Eg.REGEX_PARTS.flags),Dg=class extends IF.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Eg.REGEX_PARTS.leftBoundary}innerPattern(){return UF}innerExtract(t,e){let r=LF.default(t.refDate),i=e[0].toLowerCase(),s=t.createParsingComponents();if(i==="\u0441\u0435\u0439\u0447\u0430\u0441")return xs.now(t.reference);if(i==="\u0432\u0435\u0447\u0435\u0440\u043E\u043C"||i==="\u0432\u0435\u0447\u0435\u0440\u0430")return xs.evening(t.reference);if(i.endsWith("\u0443\u0442\u0440\u043E\u043C")||i.endsWith("\u0443\u0442\u0440\u0430"))return xs.morning(t.reference);if(i.match(/в\s*полдень/))return xs.noon(t.reference);if(i.match(/прошлой\s*ночью/))return xs.lastNight(t.reference);if(i.match(/прошлым\s*вечером/))return xs.yesterdayEvening(t.reference);if(i.match(/следующей\s*ночью/)){let a=r.hour()<22?1:2;r=r.add(a,"day"),FF.assignSimilarDate(s,r),s.imply("hour",0)}return i.match(/в\s*полночь/)||i.endsWith("\u043D\u043E\u0447\u044C\u044E")?xs.midnight(t.reference):s}};wr.default=Dg});var vk=x(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});var Gl=dn(),jF=Ke(),WF=re(),$F=vs(),qF=new RegExp(`(?:(?:,|\\(|\uFF08)\\s*)?(?:\u0432\\s*?)?(?:(\u044D\u0442\u0443|\u044D\u0442\u043E\u0442|\u043F\u0440\u043E\u0448\u043B\u044B\u0439|\u043F\u0440\u043E\u0448\u043B\u0443\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0443\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0433\u043E)\\s*)?(${jF.matchAnyPattern(Gl.WEEKDAY_DICTIONARY)})(?:\\s*(?:,|\\)|\uFF09))?(?:\\s*\u043D\u0430\\s*(\u044D\u0442\u043E\u0439|\u043F\u0440\u043E\u0448\u043B\u043E\u0439|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439)\\s*\u043D\u0435\u0434\u0435\u043B\u0435)?${Gl.REGEX_PARTS.rightBoundary}`,Gl.REGEX_PARTS.flags),YF=1,HF=2,GF=3,xg=class extends WF.AbstractParserWithWordBoundaryChecking{innerPattern(){return qF}patternLeftBoundary(){return Gl.REGEX_PARTS.leftBoundary}innerExtract(t,e){let r=e[HF].toLowerCase(),i=Gl.WEEKDAY_DICTIONARY[r],s=e[YF],a=e[GF],o=s||a;o=o||"",o=o.toLowerCase();let l=null;o=="\u043F\u0440\u043E\u0448\u043B\u044B\u0439"||o=="\u043F\u0440\u043E\u0448\u043B\u0443\u044E"||o=="\u043F\u0440\u043E\u0448\u043B\u043E\u0439"?l="last":o=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439"||o=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0443\u044E"||o=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439"||o=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0433\u043E"?l="next":(o=="\u044D\u0442\u043E\u0442"||o=="\u044D\u0442\u0443"||o=="\u044D\u0442\u043E\u0439")&&(l="this");let u=$F.toDayJSWeekday(t.refDate,i,l);return t.createParsingComponents().assign("weekday",i).imply("day",u.date()).imply("month",u.month()+1).imply("year",u.year())}};Og.default=xg});var kk=x(Vl=>{"use strict";var BF=Vl&&Vl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Vl,"__esModule",{value:!0});var Bl=dn(),wk=nt(),VF=BF(Ue()),zF=re(),KF=Ke(),QF=new RegExp(`(\u0432 \u043F\u0440\u043E\u0448\u043B\u043E\u043C|\u043D\u0430 \u043F\u0440\u043E\u0448\u043B\u043E\u0439|\u043D\u0430 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439|\u0432 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u043C|\u043D\u0430 \u044D\u0442\u043E\u0439|\u0432 \u044D\u0442\u043E\u043C)\\s*(${KF.matchAnyPattern(Bl.TIME_UNIT_DICTIONARY)})(?=\\s*)${Bl.REGEX_PARTS.rightBoundary}`,Bl.REGEX_PARTS.flags),XF=1,ZF=2,Cg=class extends zF.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Bl.REGEX_PARTS.leftBoundary}innerPattern(){return QF}innerExtract(t,e){let r=e[XF].toLowerCase(),i=e[ZF].toLowerCase(),s=Bl.TIME_UNIT_DICTIONARY[i];if(r=="\u043D\u0430 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439"||r=="\u0432 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u043C"){let l={};return l[s]=1,wk.ParsingComponents.createRelativeFromReference(t.reference,l)}if(r=="\u0432 \u043F\u0440\u043E\u0448\u043B\u043E\u043C"||r=="\u043D\u0430 \u043F\u0440\u043E\u0448\u043B\u043E\u0439"){let l={};return l[s]=-1,wk.ParsingComponents.createRelativeFromReference(t.reference,l)}let a=t.createParsingComponents(),o=VF.default(t.reference.instant);return s.match(/week/i)?(o=o.add(-o.get("d"),"d"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.imply("year",o.year())):s.match(/month/i)?(o=o.add(-o.date()+1,"d"),a.imply("day",o.date()),a.assign("year",o.year()),a.assign("month",o.month()+1)):s.match(/year/i)&&(o=o.add(-o.date()+1,"d"),o=o.add(-o.month(),"month"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.assign("year",o.year())),a}};Vl.default=Cg});var Sk=x(Rg=>{"use strict";Object.defineProperty(Rg,"__esModule",{value:!0});var zl=dn(),JF=nt(),eL=re(),tL=qn(),nL=new RegExp(`(\u044D\u0442\u0438|\u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435|\u043F\u0440\u043E\u0448\u043B\u044B\u0435|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0435|\u043F\u043E\u0441\u043B\u0435|\u0447\u0435\u0440\u0435\u0437|\\+|-)\\s*(${zl.TIME_UNITS_PATTERN})${zl.REGEX_PARTS.rightBoundary}`,zl.REGEX_PARTS.flags),Mg=class extends eL.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return zl.REGEX_PARTS.leftBoundary}innerPattern(){return nL}innerExtract(t,e){let r=e[1].toLowerCase(),i=zl.parseTimeUnits(e[2]);switch(r){case"\u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435":case"\u043F\u0440\u043E\u0448\u043B\u044B\u0435":case"-":i=tL.reverseTimeUnits(i);break}return JF.ParsingComponents.createRelativeFromReference(t.reference,i)}};Rg.default=Mg});var xk=x(St=>{"use strict";var En=St&&St.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(St,"__esModule",{value:!0});St.createConfiguration=St.createCasualConfiguration=St.parseDate=St.parse=St.strict=St.casual=void 0;var rL=En(sk()),iL=En(ck()),sL=En(pk()),aL=En(hk()),oL=En(gk()),lL=En(yk()),uL=En(bk()),cL=ai(),dL=En(Tk()),fL=En(_k()),pL=En(vk()),mL=En(kk()),Ek=yr(),hL=En(ws()),gL=En(Sk());St.casual=new Ek.Chrono(Dk());St.strict=new Ek.Chrono(Ag(!0));function yL(n,t,e){return St.casual.parse(n,t,e)}St.parse=yL;function bL(n,t,e){return St.casual.parseDate(n,t,e)}St.parseDate=bL;function Dk(){let n=Ag(!1);return n.parsers.unshift(new dL.default),n.parsers.unshift(new fL.default),n.parsers.unshift(new sL.default),n.parsers.unshift(new mL.default),n.parsers.unshift(new gL.default),n}St.createCasualConfiguration=Dk;function Ag(n=!0){return cL.includeCommonConfiguration({parsers:[new hL.default(!0),new rL.default,new iL.default,new pL.default,new aL.default(n),new oL.default],refiners:[new uL.default,new lL.default]},n)}St.createConfiguration=Ag});var ht=x(Re=>{"use strict";var TL=Re&&Re.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),_L=Re&&Re.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),Wi=Re&&Re.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&TL(t,n,e);return _L(t,n),t};Object.defineProperty(Re,"__esModule",{value:!0});Re.parseDate=Re.parse=Re.casual=Re.strict=Re.ru=Re.zh=Re.nl=Re.pt=Re.ja=Re.fr=Re.de=Re.Meridiem=Re.Chrono=Re.en=void 0;var Pg=Wi(Qp());Re.en=Pg;var vL=yr();Object.defineProperty(Re,"Chrono",{enumerable:!0,get:function(){return vL.Chrono}});var wL;(function(n){n[n.AM=0]="AM",n[n.PM=1]="PM"})(wL=Re.Meridiem||(Re.Meridiem={}));var kL=Wi(F_());Re.de=kL;var SL=Wi(dv());Re.fr=SL;var EL=Wi(_v());Re.ja=EL;var DL=Wi(Fv());Re.pt=DL;var xL=Wi(_w());Re.nl=xL;var OL=Wi(ek());Re.zh=OL;var CL=Wi(xk());Re.ru=CL;Re.strict=Pg.strict;Re.casual=Pg.casual;function ML(n,t,e){return Re.casual.parse(n,t,e)}Re.parse=ML;function RL(n,t,e){return Re.casual.parseDate(n,t,e)}Re.parseDate=RL});var Jt,Ng=te(()=>{"use strict";Jt=class{constructor(t,e){this.start=t,this.end=e,e.isBefore(t)&&(this.start=e,this.end=t),this.start=this.start.startOf("day"),this.end=this.end.startOf("day")}static buildRelative(t){let e=t==="week"?"isoWeek":t;return new Jt(window.moment().startOf(e).startOf("day"),window.moment().endOf(e).startOf("day"))}static buildInvalid(){return new Jt(window.moment.invalid(),window.moment.invalid())}isValid(){return this.start.isValid()&&this.end.isValid()}moveToPrevious(t){let e=window.moment.duration(1,t);this.start.subtract(e),this.end.subtract(e),(t==="month"||t==="quarter")&&(this.end=this.end.endOf(t).startOf("day"))}moveToNext(t){let e=window.moment.duration(1,t);this.start.add(e),this.end.add(e),(t==="month"||t==="quarter")&&(this.end=this.end.endOf(t).startOf("day"))}}});var Ic,Dn,Ig=te(()=>{"use strict";Ic=Yo(ht());Ng();Dn=class{static parseDate(t,e=!1){return window.moment(Ic.parseDate(t,void 0,{forwardDate:e})).startOf("day")}static parseDateRange(t,e=!1){let r=[Dn.parseRelativeDateRange,Dn.parseNumberedDateRange,Dn.parseAbsoluteDateRange];for(let i of r){let s=i(t,e);if(s.isValid())return s}return Jt.buildInvalid()}static parseAbsoluteDateRange(t,e){let r=Ic.parse(t,void 0,{forwardDate:e});if(r.length===0)return Jt.buildInvalid();let i=r[0].start,s=r[1]&&r[1].start?r[1].start:i,a=window.moment(i.date()),o=window.moment(s.date());return new Jt(a,o)}static parseRelativeDateRange(t,e){let r=/(last|this|next) (week|month|quarter|year)/,i=t.match(r);if(i&&i.length===3){let s=i[1],a=i[2],o=Jt.buildRelative(a);switch(s){case"last":o.moveToPrevious(a);break;case"next":o.moveToNext(a);break}return o}return Jt.buildInvalid()}static parseNumberedDateRange(t,e){let r=[[/^\s*[0-9]{4}\s*$/,"YYYY","year"],[/^\s*[0-9]{4}-Q[1-4]\s*$/,"YYYY-Q","quarter"],[/^\s*[0-9]{4}-[0-9]{2}\s*$/,"YYYY-MM","month"],[/^\s*[0-9]{4}-W[0-9]{2}\s*$/,"YYYY-WW","isoWeek"]];for(let[i,s,a]of r){let o=t.match(i);if(o){let l=o[0].trim();return new Jt(window.moment(l,s).startOf(a),window.moment(l,s).endOf(a))}}return Jt.buildInvalid()}}});function Fc(n){for(let[t,e]of Object.entries(AL))n=n.replace(RegExp(`\\b${t}\\s`,"i"),e);return n}var AL,Fg=te(()=>{"use strict";AL={td:"today",tm:"tomorrow",yd:"yesterday",tw:"this week",nw:"next week",weekend:"sat",we:"sat"}});function zn(n,t){return n!==null&&t===null?-1:n===null&&t!==null?1:n!==null&&t!==null?n.isValid()&&!t.isValid()?1:!n.isValid()&&t.isValid()?-1:n.isAfter(t)?1:n.isBefore(t)?-1:0:0}function PL(n,t,e=void 0){if(!t)return`<i>no ${n} date</i>`;let r=Lg.parseDate(t,e,{forwardDate:e!=null});return r!==null?window.moment(r).format("YYYY-MM-DD"):`<i>invalid ${n} date</i>`}function Ok(n,t,e){return PL(n,t,e?new Date:void 0)}function Os(n,t){let e=null,r=Lg.parseDate(n,new Date,{forwardDate:t});return r!==null&&(e=window.moment(r)),e}var Lg,Cs=te(()=>{"use strict";Lg=Yo(ht())});var Kn,Lc=te(()=>{"use strict";Cs();Kn=class{constructor({startDate:t=null,scheduledDate:e=null,dueDate:r=null}){this.startDate=t!=null?t:null,this.scheduledDate=e!=null?e:null,this.dueDate=r!=null?r:null,this.referenceDate=this.getReferenceDate()}getReferenceDate(){return this.dueDate?window.moment(this.dueDate):this.scheduledDate?window.moment(this.scheduledDate):this.startDate?window.moment(this.startDate):null}isIdenticalTo(t){return!(zn(this.startDate,t.startDate)!==0||zn(this.scheduledDate,t.scheduledDate)!==0||zn(this.dueDate,t.dueDate)!==0)}next(t){return this.referenceDate===null?new Kn({startDate:null,scheduledDate:null,dueDate:null}):new Kn({startDate:this.nextOccurrenceDate(this.startDate,t),scheduledDate:this.nextOccurrenceDate(this.scheduledDate,t),dueDate:this.nextOccurrenceDate(this.dueDate,t)})}nextOccurrenceDate(t,e){if(t===null)return null;let r=window.moment.duration(t.diff(this.referenceDate)),i=window.moment(e);return i.add(Math.round(r.asDays()),"days"),i}}});var Uc,ct,Ms=te(()=>{Uc=["MO","TU","WE","TH","FR","SA","SU"],ct=function(){function n(t,e){if(e===0)throw new Error("Can't create weekday with n == 0");this.weekday=t,this.n=e}return n.fromStr=function(t){return new n(Uc.indexOf(t))},n.prototype.nth=function(t){return this.n===t?this:new n(this.weekday,t)},n.prototype.equals=function(t){return this.weekday===t.weekday&&this.n===t.n},n.prototype.toString=function(){var t=Uc[this.weekday];return this.n&&(t=(this.n>0?"+":"")+String(this.n)+t),t},n.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},n}()});function Rs(n,t,e){e===void 0&&(e=" ");var r=String(n);return t=t>>0,r.length>t?String(r):(t=t-r.length,t>e.length&&(e+=Ne(e,t/e.length)),e.slice(0,t)+String(r))}var Je,xn,Ug,At,Qn,Ne,Ck,Mk,$t,jc,On,st,Ie,en=te(()=>{Ms();Je=function(n){return n!=null},xn=function(n){return typeof n=="number"},Ug=function(n){return typeof n=="string"&&Uc.includes(n)},At=Array.isArray,Qn=function(n,t){t===void 0&&(t=n),arguments.length===1&&(t=n,n=0);for(var e=[],r=n;r<t;r++)e.push(r);return e},Ne=function(n,t){var e=0,r=[];if(At(n))for(;e<t;e++)r[e]=[].concat(n);else for(;e<t;e++)r[e]=n;return r},Ck=function(n){return At(n)?n:[n]};Mk=function(n,t,e){var r=n.split(t);return e?r.slice(0,e).concat([r.slice(e).join(t)]):r},$t=function(n,t){var e=n%t;return e*t<0?e+t:e},jc=function(n,t){return{div:Math.floor(n/t),mod:$t(n,t)}},On=function(n){return!Je(n)||n.length===0},st=function(n){return!On(n)},Ie=function(n,t){return st(n)&&n.indexOf(t)!==-1}});var Yr,NL,Pk,Wc,Nk,IL,Ia,jg,As,Rk,FL,Kl,$c,LL,mi,Wg,qc,Yc,$g,hi,Fa,Ql,Ak,Ik,qt=te(()=>{en();Yr=function(n,t,e,r,i,s){return r===void 0&&(r=0),i===void 0&&(i=0),s===void 0&&(s=0),new Date(Date.UTC(n,t-1,e,r,i,s))},NL=[31,28,31,30,31,30,31,31,30,31,30,31],Pk=1e3*60*60*24,Wc=9999,Nk=Yr(1970,1,1),IL=[6,0,1,2,3,4,5],Ia=function(n){return n%4===0&&n%100!==0||n%400===0},jg=function(n){return n instanceof Date},As=function(n){return jg(n)&&!isNaN(n.getTime())},Rk=function(n){return n.getTimezoneOffset()*60*1e3},FL=function(n,t){var e=n.getTime()-Rk(n),r=t.getTime()-Rk(t),i=e-r;return Math.round(i/Pk)},Kl=function(n){return FL(n,Nk)},$c=function(n){return new Date(Nk.getTime()+n*Pk)},LL=function(n){var t=n.getUTCMonth();return t===1&&Ia(n.getUTCFullYear())?29:NL[t]},mi=function(n){return IL[n.getUTCDay()]},Wg=function(n,t){var e=Yr(n,t+1,1);return[mi(e),LL(e)]},qc=function(n,t){return t=t||n,new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))},Yc=function(n){var t=new Date(n.getTime());return t},$g=function(n){for(var t=[],e=0;e<n.length;e++)t.push(Yc(n[e]));return t},hi=function(n){n.sort(function(t,e){return t.getTime()-e.getTime()})},Fa=function(n,t){t===void 0&&(t=!0);var e=new Date(n);return[Rs(e.getUTCFullYear().toString(),4,"0"),Rs(e.getUTCMonth()+1,2,"0"),Rs(e.getUTCDate(),2,"0"),"T",Rs(e.getUTCHours(),2,"0"),Rs(e.getUTCMinutes(),2,"0"),Rs(e.getUTCSeconds(),2,"0"),t?"Z":""].join("")},Ql=function(n){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,e=t.exec(n);if(!e)throw new Error("Invalid UNTIL value: ".concat(n));return new Date(Date.UTC(parseInt(e[1],10),parseInt(e[2],10)-1,parseInt(e[3],10),parseInt(e[5],10)||0,parseInt(e[6],10)||0,parseInt(e[7],10)||0))},Ak=function(n,t){var e=n.toLocaleString("sv-SE",{timeZone:t});return e.replace(" ","T")+"Z"},Ik=function(n,t){var e=Intl.DateTimeFormat().resolvedOptions().timeZone,r=new Date(Ak(n,e)),i=new Date(Ak(n,t!=null?t:"UTC")),s=i.getTime()-r.getTime();return new Date(n.getTime()-s)}});var UL,gi,Hc=te(()=>{UL=function(){function n(t,e){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=t,this.args=e,t==="between"?(this.maxDate=e.inc?e.before:new Date(e.before.getTime()-1),this.minDate=e.inc?e.after:new Date(e.after.getTime()+1)):t==="before"?this.maxDate=e.inc?e.dt:new Date(e.dt.getTime()-1):t==="after"&&(this.minDate=e.inc?e.dt:new Date(e.dt.getTime()+1))}return n.prototype.accept=function(t){++this.total;var e=this.minDate&&t<this.minDate,r=this.maxDate&&t>this.maxDate;if(this.method==="between"){if(e)return!0;if(r)return!1}else if(this.method==="before"){if(r)return!1}else if(this.method==="after")return e?!0:(this.add(t),!1);return this.add(t)},n.prototype.add=function(t){return this._result.push(t),!0},n.prototype.getValue=function(){var t=this._result;switch(this.method){case"all":case"between":return t;case"before":case"after":default:return t.length?t[t.length-1]:null}},n.prototype.clone=function(){return new n(this.method,this.args)},n}(),gi=UL});function La(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");qg(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function Q(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return n.concat(s||Array.prototype.slice.call(t))}var qg,Pt,yi=te(()=>{qg=function(n,t){return qg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},qg(n,t)};Pt=function(){return Pt=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Pt.apply(this,arguments)}});var jL,Yg,Fk=te(()=>{yi();Hc();jL=function(n){La(t,n);function t(e,r,i){var s=n.call(this,e,r)||this;return s.iterator=i,s}return t.prototype.add=function(e){return this.iterator(e,this._result.length)?(this._result.push(e),!0):!1},t}(gi),Yg=jL});var WL,Ps,Gc=te(()=>{WL={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},Ps=WL});var Lk,$L,qL,YL,Hr,Uk=te(()=>{Gc();Xn();en();Lk=function(n,t){return n.indexOf(t)!==-1},$L=function(n){return n.toString()},qL=function(n,t,e){return"".concat(t," ").concat(e,", ").concat(n)},YL=function(){function n(t,e,r,i){if(e===void 0&&(e=$L),r===void 0&&(r=Ps),i===void 0&&(i=qL),this.text=[],this.language=r||Ps,this.gettext=e,this.dateFormatter=i,this.rrule=t,this.options=t.options,this.origOptions=t.origOptions,this.origOptions.bymonthday){var s=[].concat(this.options.bymonthday),a=[].concat(this.options.bynmonthday);s.sort(function(c,d){return c-d}),a.sort(function(c,d){return d-c}),this.bymonthday=s.concat(a),this.bymonthday.length||(this.bymonthday=null)}if(Je(this.origOptions.byweekday)){var o=At(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],l=String(o);this.byweekday={allWeeks:o.filter(function(c){return!c.n}),someWeeks:o.filter(function(c){return Boolean(c.n)}),isWeekdays:l.indexOf("MO")!==-1&&l.indexOf("TU")!==-1&&l.indexOf("WE")!==-1&&l.indexOf("TH")!==-1&&l.indexOf("FR")!==-1&&l.indexOf("SA")===-1&&l.indexOf("SU")===-1,isEveryDay:l.indexOf("MO")!==-1&&l.indexOf("TU")!==-1&&l.indexOf("WE")!==-1&&l.indexOf("TH")!==-1&&l.indexOf("FR")!==-1&&l.indexOf("SA")!==-1&&l.indexOf("SU")!==-1};var u=function(c,d){return c.weekday-d.weekday};this.byweekday.allWeeks.sort(u),this.byweekday.someWeeks.sort(u),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return n.isFullyConvertible=function(t){var e=!0;if(!(t.options.freq in n.IMPLEMENTED)||t.origOptions.until&&t.origOptions.count)return!1;for(var r in t.origOptions){if(Lk(["dtstart","wkst","freq"],r))return!0;if(!Lk(n.IMPLEMENTED[t.options.freq],r))return!1}return e},n.prototype.isFullyConvertible=function(){return n.isFullyConvertible(this.rrule)},n.prototype.toString=function(){var t=this.gettext;if(!(this.options.freq in n.IMPLEMENTED))return t("RRule error: Unable to fully convert this rrule to text");if(this.text=[t("every")],this[ae.FREQUENCIES[this.options.freq]](),this.options.until){this.add(t("until"));var e=this.options.until;this.add(this.dateFormatter(e.getUTCFullYear(),this.language.monthNames[e.getUTCMonth()],e.getUTCDate()))}else this.options.count&&this.add(t("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?t("times"):t("time"));return this.isFullyConvertible()||this.add(t("(~ approximate)")),this.text.join("")},n.prototype.HOURLY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("hours"):t("hour"))},n.prototype.MINUTELY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("minutes"):t("minute"))},n.prototype.DAILY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?t("weekdays"):t("weekday")):this.add(this.plural(this.options.interval)?t("days"):t("day")),this.origOptions.bymonth&&(this.add(t("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},n.prototype.WEEKLY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?t("weeks"):t("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?t("weekdays"):t("weekday")):this.add(t("on")).add(t("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?t("days"):t("day")):(this.options.interval===1&&this.add(t("week")),this.origOptions.bymonth&&(this.add(t("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday())},n.prototype.MONTHLY=function(){var t=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(t("months")),this.plural(this.options.interval)&&this.add(t("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("months"):t("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(t("on")).add(t("weekdays")):this.byweekday&&this._byweekday()},n.prototype.YEARLY=function(){var t=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(t("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("years"):t("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(t("on the")).add(this.list(this.options.byyearday,this.nth,t("and"))).add(t("day")),this.options.byweekno&&this.add(t("in")).add(this.plural(this.options.byweekno.length)?t("weeks"):t("week")).add(this.list(this.options.byweekno,void 0,t("and")))},n.prototype._bymonthday=function(){var t=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(t("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,t("or"))).add(t("the")).add(this.list(this.bymonthday,this.nth,t("or"))):this.add(t("on the")).add(this.list(this.bymonthday,this.nth,t("and")))},n.prototype._byweekday=function(){var t=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(t("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(t("and")),this.add(t("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,t("and"))))},n.prototype._byhour=function(){var t=this.gettext;this.add(t("at")).add(this.list(this.origOptions.byhour,void 0,t("and")))},n.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},n.prototype.nth=function(t){t=parseInt(t.toString(),10);var e,r=this.gettext;if(t===-1)return r("last");var i=Math.abs(t);switch(i){case 1:case 21:case 31:e=i+r("st");break;case 2:case 22:e=i+r("nd");break;case 3:case 23:e=i+r("rd");break;default:e=i+r("th")}return t<0?e+" "+r("last"):e},n.prototype.monthtext=function(t){return this.language.monthNames[t-1]},n.prototype.weekdaytext=function(t){var e=xn(t)?(t+1)%7:t.getJsWeekday();return(t.n?this.nth(t.n)+" ":"")+this.language.dayNames[e]},n.prototype.plural=function(t){return t%100!==1},n.prototype.add=function(t){return this.text.push(" "),this.text.push(t),this},n.prototype.list=function(t,e,r,i){var s=this;i===void 0&&(i=","),At(t)||(t=[t]);var a=function(l,u,c){for(var d="",f=0;f<l.length;f++)f!==0&&(f===l.length-1?d+=" "+c+" ":d+=u+" "),d+=l[f];return d};e=e||function(l){return l.toString()};var o=function(l){return e&&e.call(s,l)};return r?a(t.map(o),i,r):t.map(o).join(i+" ")},n}(),Hr=YL});function Xl(n,t){t===void 0&&(t=Ps);var e={},r=new HL(t.tokens);if(!r.start(n))return null;return i(),e;function i(){r.expect("every");var f=r.acceptNumber();if(f&&(e.interval=parseInt(f[0],10)),r.isDone())throw new Error("Unexpected end");switch(r.symbol){case"day(s)":e.freq=ae.DAILY,r.nextSymbol()&&(a(),d());break;case"weekday(s)":e.freq=ae.WEEKLY,e.byweekday=[ae.MO,ae.TU,ae.WE,ae.TH,ae.FR],r.nextSymbol(),d();break;case"week(s)":e.freq=ae.WEEKLY,r.nextSymbol()&&(s(),d());break;case"hour(s)":e.freq=ae.HOURLY,r.nextSymbol()&&(s(),d());break;case"minute(s)":e.freq=ae.MINUTELY,r.nextSymbol()&&(s(),d());break;case"month(s)":e.freq=ae.MONTHLY,r.nextSymbol()&&(s(),d());break;case"year(s)":e.freq=ae.YEARLY,r.nextSymbol()&&(s(),d());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":e.freq=ae.WEEKLY;var p=r.symbol.substr(0,2).toUpperCase();if(e.byweekday=[ae[p]],!r.nextSymbol())return;for(;r.accept("comma");){if(r.isDone())throw new Error("Unexpected end");var b=l();if(!b)throw new Error("Unexpected symbol "+r.symbol+", expected weekday");e.byweekday.push(ae[b]),r.nextSymbol()}c(),d();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(e.freq=ae.YEARLY,e.bymonth=[o()],!r.nextSymbol())return;for(;r.accept("comma");){if(r.isDone())throw new Error("Unexpected end");var T=o();if(!T)throw new Error("Unexpected symbol "+r.symbol+", expected month");e.bymonth.push(T),r.nextSymbol()}s(),d();break;default:throw new Error("Unknown symbol")}}function s(){var f=r.accept("on"),p=r.accept("the");if(!!(f||p))do{var b=u(),T=l(),_=o();if(b)T?(r.nextSymbol(),e.byweekday||(e.byweekday=[]),e.byweekday.push(ae[T].nth(b))):(e.bymonthday||(e.bymonthday=[]),e.bymonthday.push(b),r.accept("day(s)"));else if(T)r.nextSymbol(),e.byweekday||(e.byweekday=[]),e.byweekday.push(ae[T]);else if(r.symbol==="weekday(s)")r.nextSymbol(),e.byweekday||(e.byweekday=[ae.MO,ae.TU,ae.WE,ae.TH,ae.FR]);else if(r.symbol==="week(s)"){r.nextSymbol();var O=r.acceptNumber();if(!O)throw new Error("Unexpected symbol "+r.symbol+", expected week number");for(e.byweekno=[parseInt(O[0],10)];r.accept("comma");){if(O=r.acceptNumber(),!O)throw new Error("Unexpected symbol "+r.symbol+"; expected monthday");e.byweekno.push(parseInt(O[0],10))}}else if(_)r.nextSymbol(),e.bymonth||(e.bymonth=[]),e.bymonth.push(_);else return}while(r.accept("comma")||r.accept("the")||r.accept("on"))}function a(){var f=r.accept("at");if(!!f)do{var p=r.acceptNumber();if(!p)throw new Error("Unexpected symbol "+r.symbol+", expected hour");for(e.byhour=[parseInt(p[0],10)];r.accept("comma");){if(p=r.acceptNumber(),!p)throw new Error("Unexpected symbol "+r.symbol+"; expected hour");e.byhour.push(parseInt(p[0],10))}}while(r.accept("comma")||r.accept("at"))}function o(){switch(r.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function l(){switch(r.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return r.symbol.substr(0,2).toUpperCase();default:return!1}}function u(){switch(r.symbol){case"last":return r.nextSymbol(),-1;case"first":return r.nextSymbol(),1;case"second":return r.nextSymbol(),r.accept("last")?-2:2;case"third":return r.nextSymbol(),r.accept("last")?-3:3;case"nth":var f=parseInt(r.value[1],10);if(f<-366||f>366)throw new Error("Nth out of range: "+f);return r.nextSymbol(),r.accept("last")?-f:f;default:return!1}}function c(){r.accept("on"),r.accept("the");var f=u();if(!!f)for(e.bymonthday=[f],r.nextSymbol();r.accept("comma");){if(f=u(),!f)throw new Error("Unexpected symbol "+r.symbol+"; expected monthday");e.bymonthday.push(f),r.nextSymbol()}}function d(){if(r.symbol==="until"){var f=Date.parse(r.text);if(!f)throw new Error("Cannot parse until date:"+r.text);e.until=new Date(f)}else r.accept("for")&&(e.count=parseInt(r.value[0],10),r.expect("number"))}}var HL,jk=te(()=>{Gc();Xn();HL=function(){function n(t){this.done=!0,this.rules=t}return n.prototype.start=function(t){return this.text=t,this.done=!1,this.nextSymbol()},n.prototype.isDone=function(){return this.done&&this.symbol===null},n.prototype.nextSymbol=function(){var t,e;this.symbol=null,this.value=null;do{if(this.done)return!1;var r=void 0;t=null;for(var i in this.rules){r=this.rules[i];var s=r.exec(this.text);s&&(t===null||s[0].length>t[0].length)&&(t=s,e=i)}if(t!=null&&(this.text=this.text.substr(t[0].length),this.text===""&&(this.done=!0)),t==null){this.done=!0,this.symbol=null,this.value=null;return}}while(e==="SKIP");return this.symbol=e,this.value=t,!0},n.prototype.accept=function(t){if(this.symbol===t){if(this.value){var e=this.value;return this.nextSymbol(),e}return this.nextSymbol(),!0}return!1},n.prototype.acceptNumber=function(){return this.accept("number")},n.prototype.expect=function(t){if(this.accept(t))return!0;throw new Error("expected "+t+" but found "+this.symbol)},n}()});function Zl(n){return n<Ae.HOURLY}var Ae,bi=te(()=>{(function(n){n[n.YEARLY=0]="YEARLY",n[n.MONTHLY=1]="MONTHLY",n[n.WEEKLY=2]="WEEKLY",n[n.DAILY=3]="DAILY",n[n.HOURLY=4]="HOURLY",n[n.MINUTELY=5]="MINUTELY",n[n.SECONDLY=6]="SECONDLY"})(Ae||(Ae={}))});var Wk,Ua,$k,qk,Yk=te(()=>{Uk();jk();Xn();bi();Gc();Wk=function(n,t){return t===void 0&&(t=Ps),new ae(Xl(n,t)||void 0)},Ua=["count","until","interval","byweekday","bymonthday","bymonth"];Hr.IMPLEMENTED=[];Hr.IMPLEMENTED[Ae.HOURLY]=Ua;Hr.IMPLEMENTED[Ae.MINUTELY]=Ua;Hr.IMPLEMENTED[Ae.DAILY]=["byhour"].concat(Ua);Hr.IMPLEMENTED[Ae.WEEKLY]=Ua;Hr.IMPLEMENTED[Ae.MONTHLY]=Ua;Hr.IMPLEMENTED[Ae.YEARLY]=["byweekno","byyearday"].concat(Ua);$k=function(n,t,e,r){return new Hr(n,t,e,r).toString()},qk=Hr.isFullyConvertible});var ja,Hk,Bc=te(()=>{yi();bi();en();qt();ja=function(){function n(t,e,r,i){this.hour=t,this.minute=e,this.second=r,this.millisecond=i||0}return n.prototype.getHours=function(){return this.hour},n.prototype.getMinutes=function(){return this.minute},n.prototype.getSeconds=function(){return this.second},n.prototype.getMilliseconds=function(){return this.millisecond},n.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},n}(),Hk=function(n){La(t,n);function t(e,r,i,s,a,o,l){var u=n.call(this,s,a,o,l)||this;return u.year=e,u.month=r,u.day=i,u}return t.fromDate=function(e){return new this(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.valueOf()%1e3)},t.prototype.getWeekday=function(){return mi(new Date(this.getTime()))},t.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},t.prototype.getDay=function(){return this.day},t.prototype.getMonth=function(){return this.month},t.prototype.getYear=function(){return this.year},t.prototype.addYears=function(e){this.year+=e},t.prototype.addMonths=function(e){if(this.month+=e,this.month>12){var r=Math.floor(this.month/12),i=$t(this.month,12);this.month=i,this.year+=r,this.month===0&&(this.month=12,--this.year)}},t.prototype.addWeekly=function(e,r){r>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-r))+e*7:this.day+=-(this.getWeekday()-r)+e*7,this.fixDay()},t.prototype.addDaily=function(e){this.day+=e,this.fixDay()},t.prototype.addHours=function(e,r,i){for(r&&(this.hour+=Math.floor((23-this.hour)/e)*e);;){this.hour+=e;var s=jc(this.hour,24),a=s.div,o=s.mod;if(a&&(this.hour=o,this.addDaily(a)),On(i)||Ie(i,this.hour))break}},t.prototype.addMinutes=function(e,r,i,s){for(r&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/e)*e);;){this.minute+=e;var a=jc(this.minute,60),o=a.div,l=a.mod;if(o&&(this.minute=l,this.addHours(o,!1,i)),(On(i)||Ie(i,this.hour))&&(On(s)||Ie(s,this.minute)))break}},t.prototype.addSeconds=function(e,r,i,s,a){for(r&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/e)*e);;){this.second+=e;var o=jc(this.second,60),l=o.div,u=o.mod;if(l&&(this.second=u,this.addMinutes(l,!1,i,s)),(On(i)||Ie(i,this.hour))&&(On(s)||Ie(s,this.minute))&&(On(a)||Ie(a,this.second)))break}},t.prototype.fixDay=function(){if(!(this.day<=28)){var e=Wg(this.year,this.month-1)[1];if(!(this.day<=e))for(;this.day>e;){if(this.day-=e,++this.month,this.month===13&&(this.month=1,++this.year,this.year>Wc))return;e=Wg(this.year,this.month-1)[1]}}},t.prototype.add=function(e,r){var i=e.freq,s=e.interval,a=e.wkst,o=e.byhour,l=e.byminute,u=e.bysecond;switch(i){case Ae.YEARLY:return this.addYears(s);case Ae.MONTHLY:return this.addMonths(s);case Ae.WEEKLY:return this.addWeekly(s,a);case Ae.DAILY:return this.addDaily(s);case Ae.HOURLY:return this.addHours(s,r,o);case Ae.MINUTELY:return this.addMinutes(s,r,o,l);case Ae.SECONDLY:return this.addSeconds(s,r,o,l,u)}},t}(ja)});function Hg(n){for(var t=[],e=Object.keys(n),r=0,i=e;r<i.length;r++){var s=i[r];Ie(Vk,s)||t.push(s),jg(n[s])&&!As(n[s])&&t.push(s)}if(t.length)throw new Error("Invalid options: "+t.join(", "));return Pt({},n)}function Gk(n){var t=Pt(Pt({},Jl),Hg(n));if(Je(t.byeaster)&&(t.freq=ae.YEARLY),!(Je(t.freq)&&ae.FREQUENCIES[t.freq]))throw new Error("Invalid frequency: ".concat(t.freq," ").concat(n.freq));if(t.dtstart||(t.dtstart=new Date(new Date().setMilliseconds(0))),Je(t.wkst)?xn(t.wkst)||(t.wkst=t.wkst.weekday):t.wkst=ae.MO.weekday,Je(t.bysetpos)){xn(t.bysetpos)&&(t.bysetpos=[t.bysetpos]);for(var e=0;e<t.bysetpos.length;e++){var r=t.bysetpos[e];if(r===0||!(r>=-366&&r<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(Boolean(t.byweekno)||st(t.byweekno)||st(t.byyearday)||Boolean(t.bymonthday)||st(t.bymonthday)||Je(t.byweekday)||Je(t.byeaster)))switch(t.freq){case ae.YEARLY:t.bymonth||(t.bymonth=t.dtstart.getUTCMonth()+1),t.bymonthday=t.dtstart.getUTCDate();break;case ae.MONTHLY:t.bymonthday=t.dtstart.getUTCDate();break;case ae.WEEKLY:t.byweekday=[mi(t.dtstart)];break}if(Je(t.bymonth)&&!At(t.bymonth)&&(t.bymonth=[t.bymonth]),Je(t.byyearday)&&!At(t.byyearday)&&xn(t.byyearday)&&(t.byyearday=[t.byyearday]),!Je(t.bymonthday))t.bymonthday=[],t.bynmonthday=[];else if(At(t.bymonthday)){for(var i=[],s=[],e=0;e<t.bymonthday.length;e++){var r=t.bymonthday[e];r>0?i.push(r):r<0&&s.push(r)}t.bymonthday=i,t.bynmonthday=s}else t.bymonthday<0?(t.bynmonthday=[t.bymonthday],t.bymonthday=[]):(t.bynmonthday=[],t.bymonthday=[t.bymonthday]);if(Je(t.byweekno)&&!At(t.byweekno)&&(t.byweekno=[t.byweekno]),!Je(t.byweekday))t.bynweekday=null;else if(xn(t.byweekday))t.byweekday=[t.byweekday],t.bynweekday=null;else if(Ug(t.byweekday))t.byweekday=[ct.fromStr(t.byweekday).weekday],t.bynweekday=null;else if(t.byweekday instanceof ct)!t.byweekday.n||t.freq>ae.MONTHLY?(t.byweekday=[t.byweekday.weekday],t.bynweekday=null):(t.bynweekday=[[t.byweekday.weekday,t.byweekday.n]],t.byweekday=null);else{for(var a=[],o=[],e=0;e<t.byweekday.length;e++){var l=t.byweekday[e];if(xn(l)){a.push(l);continue}else if(Ug(l)){a.push(ct.fromStr(l).weekday);continue}!l.n||t.freq>ae.MONTHLY?a.push(l.weekday):o.push([l.weekday,l.n])}t.byweekday=st(a)?a:null,t.bynweekday=st(o)?o:null}return Je(t.byhour)?xn(t.byhour)&&(t.byhour=[t.byhour]):t.byhour=t.freq<ae.HOURLY?[t.dtstart.getUTCHours()]:null,Je(t.byminute)?xn(t.byminute)&&(t.byminute=[t.byminute]):t.byminute=t.freq<ae.MINUTELY?[t.dtstart.getUTCMinutes()]:null,Je(t.bysecond)?xn(t.bysecond)&&(t.bysecond=[t.bysecond]):t.bysecond=t.freq<ae.SECONDLY?[t.dtstart.getUTCSeconds()]:null,{parsedOptions:t}}function Bk(n){var t=n.dtstart.getTime()%1e3;if(!Zl(n.freq))return[];var e=[];return n.byhour.forEach(function(r){n.byminute.forEach(function(i){n.bysecond.forEach(function(s){e.push(new ja(r,i,s,t))})})}),e}var Gg=te(()=>{yi();bi();en();Xn();qt();Ms();Bc()});function tu(n){var t=n.split(`
`).map(GL).filter(function(e){return e!==null});return Pt(Pt({},t[0]),t[1])}function eu(n){var t={},e=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(n);if(!e)return t;var r=e[1],i=e[2];return r&&(t.tzid=r),t.dtstart=Ql(i),t}function GL(n){if(n=n.replace(/^\s+|\s+$/,""),!n.length)return null;var t=/^([A-Z]+?)[:;]/.exec(n.toUpperCase());if(!t)return zk(n);var e=t[1];switch(e.toUpperCase()){case"RRULE":case"EXRULE":return zk(n);case"DTSTART":return eu(n);default:throw new Error("Unsupported RFC prop ".concat(e," in ").concat(n))}}function zk(n){var t=n.replace(/^RRULE:/i,""),e=eu(t),r=n.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return r.forEach(function(i){var s=i.split("="),a=s[0],o=s[1];switch(a.toUpperCase()){case"FREQ":e.freq=Ae[o.toUpperCase()];break;case"WKST":e.wkst=Zn[o.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var l=BL(o),u=a.toLowerCase();e[u]=l;break;case"BYWEEKDAY":case"BYDAY":e.byweekday=VL(o);break;case"DTSTART":case"TZID":var c=eu(n);e.tzid=c.tzid,e.dtstart=c.dtstart;break;case"UNTIL":e.until=Ql(o);break;case"BYEASTER":e.byeaster=Number(o);break;default:throw new Error("Unknown RRULE property '"+a+"'")}}),e}function BL(n){if(n.indexOf(",")!==-1){var t=n.split(",");return t.map(Kk)}return Kk(n)}function Kk(n){return/^[+-]?\d+$/.test(n)?Number(n):n}function VL(n){var t=n.split(",");return t.map(function(e){if(e.length===2)return Zn[e];var r=e.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!r||r.length<3)throw new SyntaxError("Invalid weekday string: ".concat(e));var i=Number(r[1]),s=r[2],a=Zn[s].weekday;return new ct(a,i)})}var Bg=te(()=>{yi();bi();Ms();qt();Xn()});var Ns,Vc=te(()=>{qt();Ns=function(){function n(t,e){if(isNaN(t.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=t,this.tzid=e}return Object.defineProperty(n.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!1,configurable:!0}),n.prototype.toString=function(){var t=Fa(this.date.getTime(),this.isUTC);return this.isUTC?":".concat(t):";TZID=".concat(this.tzid,":").concat(t)},n.prototype.getTime=function(){return this.date.getTime()},n.prototype.rezonedDate=function(){return this.isUTC?this.date:Ik(this.date,this.tzid)},n}()});function nu(n){for(var t=[],e="",r=Object.keys(n),i=Object.keys(Jl),s=0;s<r.length;s++)if(r[s]!=="tzid"&&!!Ie(i,r[s])){var a=r[s].toUpperCase(),o=n[r[s]],l="";if(!(!Je(o)||At(o)&&!o.length)){switch(a){case"FREQ":l=ae.FREQUENCIES[n.freq];break;case"WKST":xn(o)?l=new ct(o).toString():l=o.toString();break;case"BYWEEKDAY":a="BYDAY",l=Ck(o).map(function(p){return p instanceof ct?p:At(p)?new ct(p[0],p[1]):new ct(p)}).toString();break;case"DTSTART":e=zL(o,n.tzid);break;case"UNTIL":l=Fa(o,!n.tzid);break;default:if(At(o)){for(var u=[],c=0;c<o.length;c++)u[c]=String(o[c]);l=u.toString()}else l=String(o)}l&&t.push([a,l])}}var d=t.map(function(p){var b=p[0],T=p[1];return"".concat(b,"=").concat(T.toString())}).join(";"),f="";return d!==""&&(f="RRULE:".concat(d)),[e,f].filter(function(p){return!!p}).join(`
`)}function zL(n,t){return n?"DTSTART"+new Ns(new Date(n),t).toString():""}var Vg=te(()=>{Xn();en();Ms();qt();Vc()});function KL(n,t){return Array.isArray(n)?!Array.isArray(t)||n.length!==t.length?!1:n.every(function(e,r){return e.getTime()===t[r].getTime()}):n instanceof Date?t instanceof Date&&n.getTime()===t.getTime():n===t}var Qk,Xk=te(()=>{Hc();qt();en();Qk=function(){function n(){this.all=!1,this.before=[],this.after=[],this.between=[]}return n.prototype._cacheAdd=function(t,e,r){e&&(e=e instanceof Date?Yc(e):$g(e)),t==="all"?this.all=e:(r._value=e,this[t].push(r))},n.prototype._cacheGet=function(t,e){var r=!1,i=e?Object.keys(e):[],s=function(c){for(var d=0;d<i.length;d++){var f=i[d];if(!KL(e[f],c[f]))return!0}return!1},a=this[t];if(t==="all")r=this.all;else if(At(a))for(var o=0;o<a.length;o++){var l=a[o];if(!(i.length&&s(l))){r=l._value;break}}if(!r&&this.all){for(var u=new gi(t,e),o=0;o<this.all.length&&u.accept(this.all[o]);o++);r=u.getValue(),this._cacheAdd(t,r,e)}return At(r)?$g(r):r instanceof Date?Yc(r):r},n}()});var Zk,Jk,QL,XL,$i,Yt,eS,tS,ZL,JL,qi,Ht,nS,rS,iS,sS,zg,aS=te(()=>{yi();en();Zk=Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q([],Ne(1,31),!0),Ne(2,28),!0),Ne(3,31),!0),Ne(4,30),!0),Ne(5,31),!0),Ne(6,30),!0),Ne(7,31),!0),Ne(8,31),!0),Ne(9,30),!0),Ne(10,31),!0),Ne(11,30),!0),Ne(12,31),!0),Ne(1,7),!0),Jk=Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q([],Ne(1,31),!0),Ne(2,29),!0),Ne(3,31),!0),Ne(4,30),!0),Ne(5,31),!0),Ne(6,30),!0),Ne(7,31),!0),Ne(8,31),!0),Ne(9,30),!0),Ne(10,31),!0),Ne(11,30),!0),Ne(12,31),!0),Ne(1,7),!0),QL=Qn(1,29),XL=Qn(1,30),$i=Qn(1,31),Yt=Qn(1,32),eS=Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q([],Yt,!0),XL,!0),Yt,!0),$i,!0),Yt,!0),$i,!0),Yt,!0),Yt,!0),$i,!0),Yt,!0),$i,!0),Yt,!0),Yt.slice(0,7),!0),tS=Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q([],Yt,!0),QL,!0),Yt,!0),$i,!0),Yt,!0),$i,!0),Yt,!0),Yt,!0),$i,!0),Yt,!0),$i,!0),Yt,!0),Yt.slice(0,7),!0),ZL=Qn(-28,0),JL=Qn(-29,0),qi=Qn(-30,0),Ht=Qn(-31,0),nS=Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q([],Ht,!0),JL,!0),Ht,!0),qi,!0),Ht,!0),qi,!0),Ht,!0),Ht,!0),qi,!0),Ht,!0),qi,!0),Ht,!0),Ht.slice(0,7),!0),rS=Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q([],Ht,!0),ZL,!0),Ht,!0),qi,!0),Ht,!0),qi,!0),Ht,!0),Ht,!0),qi,!0),Ht,!0),qi,!0),Ht,!0),Ht.slice(0,7),!0),iS=[0,31,60,91,121,152,182,213,244,274,305,335,366],sS=[0,31,59,90,120,151,181,212,243,273,304,334,365],zg=function(){for(var n=[],t=0;t<55;t++)n=n.concat(Qn(7));return n}()});function oS(n,t){var e=Yr(n,1,1),r=Ia(n)?366:365,i=Ia(n+1)?366:365,s=Kl(e),a=mi(e),o=Pt(Pt({yearlen:r,nextyearlen:i,yearordinal:s,yearweekday:a},e2(n)),{wnomask:null});if(On(t.byweekno))return o;o.wnomask=Ne(0,r+7);var l,u,c=l=$t(7-a+t.wkst,7);c>=4?(c=0,u=o.yearlen+$t(a-t.wkst,7)):u=r-c;for(var d=Math.floor(u/7),f=$t(u,7),p=Math.floor(d+f/4),b=0;b<t.byweekno.length;b++){var T=t.byweekno[b];if(T<0&&(T+=p+1),T>0&&T<=p){var _=void 0;T>1?(_=c+(T-1)*7,c!==l&&(_-=7-l)):_=c;for(var O=0;O<7&&(o.wnomask[_]=1,_++,o.wdaymask[_]!==t.wkst);O++);}}if(Ie(t.byweekno,1)){var _=c+p*7;if(c!==l&&(_-=7-l),_<r)for(var b=0;b<7&&(o.wnomask[_]=1,_+=1,o.wdaymask[_]!==t.wkst);b++);}if(c){var D=void 0;if(Ie(t.byweekno,-1))D=-1;else{var A=mi(Yr(n-1,1,1)),j=$t(7-A.valueOf()+t.wkst,7),Y=Ia(n-1)?366:365,se=void 0;j>=4?(j=0,se=Y+$t(A-t.wkst,7)):se=r-c,D=Math.floor(52+$t(se,7)/4)}if(Ie(t.byweekno,D))for(var _=0;_<c;_++)o.wnomask[_]=1}return o}function e2(n){var t=Ia(n)?366:365,e=Yr(n,1,1),r=mi(e);return t===365?{mmask:Zk,mdaymask:tS,nmdaymask:rS,wdaymask:zg.slice(r),mrange:sS}:{mmask:Jk,mdaymask:eS,nmdaymask:nS,wdaymask:zg.slice(r),mrange:iS}}var lS=te(()=>{yi();qt();en();aS()});function uS(n,t,e,r,i,s){var a={lastyear:n,lastmonth:t,nwdaymask:[]},o=[];if(s.freq===ae.YEARLY)if(On(s.bymonth))o=[[0,e]];else for(var l=0;l<s.bymonth.length;l++)t=s.bymonth[l],o.push(r.slice(t-1,t+1));else s.freq===ae.MONTHLY&&(o=[r.slice(t-1,t+1)]);if(On(o))return a;a.nwdaymask=Ne(0,e);for(var l=0;l<o.length;l++)for(var u=o[l],c=u[0],d=u[1]-1,f=0;f<s.bynweekday.length;f++){var p=void 0,b=s.bynweekday[f],T=b[0],_=b[1];_<0?(p=d+(_+1)*7,p-=$t(i[p]-T,7)):(p=c+(_-1)*7,p+=$t(7-i[p]+T,7)),c<=p&&p<=d&&(a.nwdaymask[p]=1)}return a}var cS=te(()=>{Xn();en()});function dS(n,t){t===void 0&&(t=0);var e=n%19,r=Math.floor(n/100),i=n%100,s=Math.floor(r/4),a=r%4,o=Math.floor((r+8)/25),l=Math.floor((r-o+1)/3),u=Math.floor(19*e+r-s-l+15)%30,c=Math.floor(i/4),d=i%4,f=Math.floor(32+2*a+2*c-u-d)%7,p=Math.floor((e+11*u+22*f)/451),b=Math.floor((u+f-7*p+114)/31),T=(u+f-7*p+114)%31+1,_=Date.UTC(n,b-1,T+t),O=Date.UTC(n,0,1);return[Math.ceil((_-O)/(1e3*60*60*24))]}var fS=te(()=>{});var t2,pS,mS=te(()=>{en();bi();lS();cS();fS();Bc();qt();t2=function(){function n(t){this.options=t}return n.prototype.rebuild=function(t,e){var r=this.options;if(t!==this.lastyear&&(this.yearinfo=oS(t,r)),st(r.bynweekday)&&(e!==this.lastmonth||t!==this.lastyear)){var i=this.yearinfo,s=i.yearlen,a=i.mrange,o=i.wdaymask;this.monthinfo=uS(t,e,s,a,o,r)}Je(r.byeaster)&&(this.eastermask=dS(t,r.byeaster))},Object.defineProperty(n.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!1,configurable:!0}),n.prototype.ydayset=function(){return[Qn(this.yearlen),0,this.yearlen]},n.prototype.mdayset=function(t,e){for(var r=this.mrange[e-1],i=this.mrange[e],s=Ne(null,this.yearlen),a=r;a<i;a++)s[a]=a;return[s,r,i]},n.prototype.wdayset=function(t,e,r){for(var i=Ne(null,this.yearlen+7),s=Kl(Yr(t,e,r))-this.yearordinal,a=s,o=0;o<7&&(i[s]=s,++s,this.wdaymask[s]!==this.options.wkst);o++);return[i,a,s]},n.prototype.ddayset=function(t,e,r){var i=Ne(null,this.yearlen),s=Kl(Yr(t,e,r))-this.yearordinal;return i[s]=s,[i,s,s+1]},n.prototype.htimeset=function(t,e,r,i){var s=this,a=[];return this.options.byminute.forEach(function(o){a=a.concat(s.mtimeset(t,o,r,i))}),hi(a),a},n.prototype.mtimeset=function(t,e,r,i){var s=this.options.bysecond.map(function(a){return new ja(t,e,a,i)});return hi(s),s},n.prototype.stimeset=function(t,e,r,i){return[new ja(t,e,r,i)]},n.prototype.getdayset=function(t){switch(t){case Ae.YEARLY:return this.ydayset.bind(this);case Ae.MONTHLY:return this.mdayset.bind(this);case Ae.WEEKLY:return this.wdayset.bind(this);case Ae.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},n.prototype.gettimeset=function(t){switch(t){case Ae.HOURLY:return this.htimeset.bind(this);case Ae.MINUTELY:return this.mtimeset.bind(this);case Ae.SECONDLY:return this.stimeset.bind(this)}},n}(),pS=t2});function hS(n,t,e,r,i,s){for(var a=[],o=0;o<n.length;o++){var l=void 0,u=void 0,c=n[o];c<0?(l=Math.floor(c/t.length),u=$t(c,t.length)):(l=Math.floor((c-1)/t.length),u=$t(c-1,t.length));for(var d=[],f=e;f<r;f++){var p=s[f];!Je(p)||d.push(p)}var b=void 0;l<0?b=d.slice(l)[0]:b=d[l];var T=t[u],_=$c(i.yearordinal+b),O=qc(_,T);Ie(a,O)||a.push(O)}return hi(a),a}var gS=te(()=>{qt();en()});function zc(n,t){var e=t.dtstart,r=t.freq,i=t.interval,s=t.until,a=t.bysetpos,o=t.count;if(o===0||i===0)return Ti(n);var l=Hk.fromDate(e),u=new pS(t);u.rebuild(l.year,l.month);for(var c=i2(u,l,t);;){var d=u.getdayset(r)(l.year,l.month,l.day),f=d[0],p=d[1],b=d[2],T=r2(f,p,b,u,t);if(st(a))for(var _=hS(a,c,p,b,u,f),O=0;O<_.length;O++){var D=_[O];if(s&&D>s)return Ti(n);if(D>=e){var A=yS(D,t);if(!n.accept(A)||o&&(--o,!o))return Ti(n)}}else for(var O=p;O<b;O++){var j=f[O];if(!!Je(j))for(var Y=$c(u.yearordinal+j),se=0;se<c.length;se++){var H=c[se],D=qc(Y,H);if(s&&D>s)return Ti(n);if(D>=e){var A=yS(D,t);if(!n.accept(A)||o&&(--o,!o))return Ti(n)}}}if(t.interval===0||(l.add(t,T),l.year>Wc))return Ti(n);Zl(r)||(c=u.gettimeset(r)(l.hour,l.minute,l.second,0)),u.rebuild(l.year,l.month)}}function n2(n,t,e){var r=e.bymonth,i=e.byweekno,s=e.byweekday,a=e.byeaster,o=e.bymonthday,l=e.bynmonthday,u=e.byyearday;return st(r)&&!Ie(r,n.mmask[t])||st(i)&&!n.wnomask[t]||st(s)&&!Ie(s,n.wdaymask[t])||st(n.nwdaymask)&&!n.nwdaymask[t]||a!==null&&!Ie(n.eastermask,t)||(st(o)||st(l))&&!Ie(o,n.mdaymask[t])&&!Ie(l,n.nmdaymask[t])||st(u)&&(t<n.yearlen&&!Ie(u,t+1)&&!Ie(u,-n.yearlen+t)||t>=n.yearlen&&!Ie(u,t+1-n.yearlen)&&!Ie(u,-n.nextyearlen+t-n.yearlen))}function yS(n,t){return new Ns(n,t.tzid).rezonedDate()}function Ti(n){return n.getValue()}function r2(n,t,e,r,i){for(var s=!1,a=t;a<e;a++){var o=n[a];s=n2(r,o,i),s&&(n[o]=null)}return s}function i2(n,t,e){var r=e.freq,i=e.byhour,s=e.byminute,a=e.bysecond;return Zl(r)?Bk(e):r>=ae.HOURLY&&st(i)&&!Ie(i,t.hour)||r>=ae.MINUTELY&&st(s)&&!Ie(s,t.minute)||r>=ae.SECONDLY&&st(a)&&!Ie(a,t.second)?[]:n.gettimeset(r)(t.hour,t.minute,t.second,t.millisecond)}var Kg=te(()=>{bi();qt();mS();Xn();Gg();en();Vc();gS();Bc()});var Zn,Jl,Vk,ae,Xn=te(()=>{qt();Hc();Fk();Yk();bi();Gg();Bg();Vg();Xk();Ms();Kg();Zn={MO:new ct(0),TU:new ct(1),WE:new ct(2),TH:new ct(3),FR:new ct(4),SA:new ct(5),SU:new ct(6)},Jl={freq:Ae.YEARLY,dtstart:null,interval:1,wkst:Zn.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},Vk=Object.keys(Jl),ae=function(){function n(t,e){t===void 0&&(t={}),e===void 0&&(e=!1),this._cache=e?null:new Qk,this.origOptions=Hg(t);var r=Gk(t).parsedOptions;this.options=r}return n.parseText=function(t,e){return Xl(t,e)},n.fromText=function(t,e){return Wk(t,e)},n.fromString=function(t){return new n(n.parseString(t)||void 0)},n.prototype._iter=function(t){return zc(t,this.options)},n.prototype._cacheGet=function(t,e){return this._cache?this._cache._cacheGet(t,e):!1},n.prototype._cacheAdd=function(t,e,r){if(!!this._cache)return this._cache._cacheAdd(t,e,r)},n.prototype.all=function(t){if(t)return this._iter(new Yg("all",{},t));var e=this._cacheGet("all");return e===!1&&(e=this._iter(new gi("all",{})),this._cacheAdd("all",e)),e},n.prototype.between=function(t,e,r,i){if(r===void 0&&(r=!1),!As(t)||!As(e))throw new Error("Invalid date passed in to RRule.between");var s={before:e,after:t,inc:r};if(i)return this._iter(new Yg("between",s,i));var a=this._cacheGet("between",s);return a===!1&&(a=this._iter(new gi("between",s)),this._cacheAdd("between",a,s)),a},n.prototype.before=function(t,e){if(e===void 0&&(e=!1),!As(t))throw new Error("Invalid date passed in to RRule.before");var r={dt:t,inc:e},i=this._cacheGet("before",r);return i===!1&&(i=this._iter(new gi("before",r)),this._cacheAdd("before",i,r)),i},n.prototype.after=function(t,e){if(e===void 0&&(e=!1),!As(t))throw new Error("Invalid date passed in to RRule.after");var r={dt:t,inc:e},i=this._cacheGet("after",r);return i===!1&&(i=this._iter(new gi("after",r)),this._cacheAdd("after",i,r)),i},n.prototype.count=function(){return this.all().length},n.prototype.toString=function(){return nu(this.origOptions)},n.prototype.toText=function(t,e,r){return $k(this,t,e,r)},n.prototype.isFullyConvertibleToText=function(){return qk(this)},n.prototype.clone=function(){return new n(this.origOptions)},n.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],n.YEARLY=Ae.YEARLY,n.MONTHLY=Ae.MONTHLY,n.WEEKLY=Ae.WEEKLY,n.DAILY=Ae.DAILY,n.HOURLY=Ae.HOURLY,n.MINUTELY=Ae.MINUTELY,n.SECONDLY=Ae.SECONDLY,n.MO=Zn.MO,n.TU=Zn.TU,n.WE=Zn.WE,n.TH=Zn.TH,n.FR=Zn.FR,n.SA=Zn.SA,n.SU=Zn.SU,n.parseString=tu,n.optionsToString=nu,n}()});function bS(n,t,e,r,i,s){var a={},o=n.accept;function l(f,p){e.forEach(function(b){b.between(f,p,!0).forEach(function(T){a[Number(T)]=!0})})}i.forEach(function(f){var p=new Ns(f,s).rezonedDate();a[Number(p)]=!0}),n.accept=function(f){var p=Number(f);return isNaN(p)?o.call(this,f):!a[p]&&(l(new Date(p-1),new Date(p+1)),!a[p])?(a[p]=!0,o.call(this,f)):!0},n.method==="between"&&(l(n.args.after,n.args.before),n.accept=function(f){var p=Number(f);return a[p]?!0:(a[p]=!0,o.call(this,f))});for(var u=0;u<r.length;u++){var c=new Ns(r[u],s).rezonedDate();if(!n.accept(new Date(c.getTime())))break}t.forEach(function(f){zc(n,f.options)});var d=n._result;switch(hi(d),n.method){case"all":case"between":return d;case"before":return d.length&&d[d.length-1]||null;case"after":default:return d.length&&d[0]||null}}var TS=te(()=>{Vc();Kg();qt()});function s2(n,t){var e=[],r=[],i=[],s=[],a=eu(n),o=a.dtstart,l=a.tzid,u=c2(n,t.unfold);return u.forEach(function(c){var d;if(!!c){var f=u2(c),p=f.name,b=f.parms,T=f.value;switch(p.toUpperCase()){case"RRULE":if(b.length)throw new Error("unsupported RRULE parm: ".concat(b.join(",")));e.push(tu(c));break;case"RDATE":var _=(d=/RDATE(?:;TZID=([^:=]+))?/i.exec(c))!==null&&d!==void 0?d:[],O=_[1];O&&!l&&(l=O),r=r.concat(vS(T,b));break;case"EXRULE":if(b.length)throw new Error("unsupported EXRULE parm: ".concat(b.join(",")));i.push(tu(T));break;case"EXDATE":s=s.concat(vS(T,b));break;case"DTSTART":break;default:throw new Error("unsupported property: "+p)}}}),{dtstart:o,tzid:l,rrulevals:e,rdatevals:r,exrulevals:i,exdatevals:s}}function a2(n,t){var e=s2(n,t),r=e.rrulevals,i=e.rdatevals,s=e.exrulevals,a=e.exdatevals,o=e.dtstart,l=e.tzid,u=t.cache===!1;if(t.compatible&&(t.forceset=!0,t.unfold=!0),t.forceset||r.length>1||i.length||s.length||a.length){var c=new Zg(u);return c.dtstart(o),c.tzid(l||void 0),r.forEach(function(f){c.rrule(new ae(Qg(f,o,l),u))}),i.forEach(function(f){c.rdate(f)}),s.forEach(function(f){c.exrule(new ae(Qg(f,o,l),u))}),a.forEach(function(f){c.exdate(f)}),t.compatible&&t.dtstart&&c.rdate(o),c}var d=r[0]||{};return new ae(Qg(d,d.dtstart||t.dtstart||o,d.tzid||t.tzid||l),u)}function Kc(n,t){return t===void 0&&(t={}),a2(n,o2(t))}function Qg(n,t,e){return Pt(Pt({},n),{dtstart:t,tzid:e})}function o2(n){var t=[],e=Object.keys(n),r=Object.keys(_S);if(e.forEach(function(i){Ie(r,i)||t.push(i)}),t.length)throw new Error("Invalid options: "+t.join(", "));return Pt(Pt({},_S),n)}function l2(n){if(n.indexOf(":")===-1)return{name:"RRULE",value:n};var t=Mk(n,":",1),e=t[0],r=t[1];return{name:e,value:r}}function u2(n){var t=l2(n),e=t.name,r=t.value,i=e.split(";");if(!i)throw new Error("empty property name");return{name:i[0].toUpperCase(),parms:i.slice(1),value:r}}function c2(n,t){if(t===void 0&&(t=!1),n=n&&n.trim(),!n)throw new Error("Invalid empty string");if(!t)return n.split(/\s/);for(var e=n.split(`
`),r=0;r<e.length;){var i=e[r]=e[r].replace(/\s+$/g,"");i?r>0&&i[0]===" "?(e[r-1]+=i.slice(1),e.splice(r,1)):r+=1:e.splice(r,1)}return e}function d2(n){n.forEach(function(t){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(t))throw new Error("unsupported RDATE/EXDATE parm: "+t)})}function vS(n,t){return d2(t),n.split(",").map(function(e){return Ql(e)})}var _S,Xg=te(()=>{yi();Xn();Jg();qt();en();Bg();_S={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null}});function wS(n){var t=this;return function(e){if(e!==void 0&&(t["_".concat(n)]=e),t["_".concat(n)]!==void 0)return t["_".concat(n)];for(var r=0;r<t._rrule.length;r++){var i=t._rrule[r].origOptions[n];if(i)return i}}}function kS(n,t){if(!(n instanceof ae))throw new TypeError(String(n)+" is not RRule instance");Ie(t.map(String),String(n))||t.push(n)}function SS(n,t){if(!(n instanceof Date))throw new TypeError(String(n)+" is not Date instance");Ie(t.map(Number),Number(n))||(t.push(n),hi(t))}function ES(n,t,e){var r=!e||e.toUpperCase()==="UTC",i=r?"".concat(n,":"):"".concat(n,";TZID=").concat(e,":"),s=t.map(function(a){return Fa(a.valueOf(),r)}).join(",");return"".concat(i).concat(s)}var Zg,Jg=te(()=>{yi();Xn();qt();en();TS();Xg();Vg();Zg=function(n){La(t,n);function t(e){e===void 0&&(e=!1);var r=n.call(this,{},e)||this;return r.dtstart=wS.apply(r,["dtstart"]),r.tzid=wS.apply(r,["tzid"]),r._rrule=[],r._rdate=[],r._exrule=[],r._exdate=[],r}return t.prototype._iter=function(e){return bS(e,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},t.prototype.rrule=function(e){kS(e,this._rrule)},t.prototype.exrule=function(e){kS(e,this._exrule)},t.prototype.rdate=function(e){SS(e,this._rdate)},t.prototype.exdate=function(e){SS(e,this._exdate)},t.prototype.rrules=function(){return this._rrule.map(function(e){return Kc(e.toString())})},t.prototype.exrules=function(){return this._exrule.map(function(e){return Kc(e.toString())})},t.prototype.rdates=function(){return this._rdate.map(function(e){return new Date(e.getTime())})},t.prototype.exdates=function(){return this._exdate.map(function(e){return new Date(e.getTime())})},t.prototype.valueOf=function(){var e=[];return!this._rrule.length&&this._dtstart&&(e=e.concat(nu({dtstart:this._dtstart}))),this._rrule.forEach(function(r){e=e.concat(r.toString().split(`
`))}),this._exrule.forEach(function(r){e=e.concat(r.toString().split(`
`).map(function(i){return i.replace(/^RRULE:/,"EXRULE:")}).filter(function(i){return!/^DTSTART/.test(i)}))}),this._rdate.length&&e.push(ES("RDATE",this._rdate,this.tzid())),this._exdate.length&&e.push(ES("EXDATE",this._exdate,this.tzid())),e},t.prototype.toString=function(){return this.valueOf().join(`
`)},t.prototype.clone=function(){var e=new t(!!this._cache);return this._rrule.forEach(function(r){return e.rrule(r.clone())}),this._exrule.forEach(function(r){return e.exrule(r.clone())}),this._rdate.forEach(function(r){return e.rdate(new Date(r.getTime()))}),this._exdate.forEach(function(r){return e.exdate(new Date(r.getTime()))}),e},t}(ae)});var DS=te(()=>{Xn();Jg();Xg();bi();Ms();qt()});var Et,Qc=te(()=>{"use strict";DS();Et=class{constructor({rrule:t,baseOnToday:e,occurrence:r}){this.rrule=t,this.baseOnToday=e,this.occurrence=r}static fromText({recurrenceRuleText:t,occurrence:e}){try{let r=t.match(/^([a-zA-Z0-9, !]+?)( when done)?$/i);if(r==null)return null;let i=r[1].trim(),s=r[2]!==void 0,a=ae.parseText(i);if(a!==null){let o=e.referenceDate;!s&&o!==null?a.dtstart=window.moment(o).startOf("day").utc(!0).toDate():a.dtstart=window.moment().startOf("day").utc(!0).toDate();let l=new ae(a);return new Et({rrule:l,baseOnToday:s,occurrence:e})}}catch(r){r instanceof Error&&console.log(r.message)}return null}toText(){let t=this.rrule.toText();return this.baseOnToday&&(t+=" when done"),t}next(t=window.moment()){let e=this.nextReferenceDate(t);return e===null?null:this.occurrence.next(e)}identicalTo(t){return this.baseOnToday!==t.baseOnToday||!this.occurrence.isIdenticalTo(t.occurrence)?!1:this.toText()===t.toText()}nextReferenceDate(t){return this.baseOnToday?this.nextReferenceDateFromToday(t.clone()).toDate():this.nextReferenceDateFromOriginalReferenceDate().toDate()}nextReferenceDateFromToday(t){let e=new ae(me(U({},this.rrule.origOptions),{dtstart:t.startOf("day").utc(!0).toDate()}));return this.nextAfter(t.endOf("day"),e)}nextReferenceDateFromOriginalReferenceDate(){var e;let t=window.moment((e=this.occurrence.referenceDate)!=null?e:void 0).endOf("day");return this.nextAfter(t,this.rrule)}nextAfter(t,e){t.utc(!0);let r=window.moment.utc(e.after(t.toDate())),i=this.toText(),s=i.match(/every( \d+)? month(s)?(.*)?/);s!==null&&(i.includes(" on ")||(r=Et.nextAfterMonths(t,r,e,s[1])));let a=i.match(/every( \d+)? year(s)?(.*)?/);return a!==null&&(r=Et.nextAfterYears(t,r,e,a[1])),Et.addTimezone(r)}static nextAfterMonths(t,e,r,i){let s=1;for(i!==void 0&&(s=Number.parseInt(i.trim(),10));Et.isSkippingTooManyMonths(t,e,s);)e=Et.fromOneDayEarlier(t,r);return e}static isSkippingTooManyMonths(t,e,r){let i=e.month()-t.month();return i+=(e.year()-t.year())*12,i>r}static nextAfterYears(t,e,r,i){let s=1;for(i!==void 0&&(s=Number.parseInt(i.trim(),10));Et.isSkippingTooManyYears(t,e,s);)e=Et.fromOneDayEarlier(t,r);return e}static isSkippingTooManyYears(t,e,r){return e.year()-t.year()>r}static fromOneDayEarlier(t,e){t.subtract(1,"days").endOf("day");let r=e.origOptions;return r.dtstart=t.startOf("day").toDate(),e=new ae(r),window.moment.utc(e.after(t.toDate()))}static addTimezone(t){return window.moment.utc(t).set({hour:12,minute:0,second:0,millisecond:0}).local(!0).startOf("day")}}});function xS(n,t,e){let r=new Map([["cancelled date","cancelledDate"],["created date","createdDate"],["depends on","dependsOn"],["done date","doneDate"],["due date","dueDate"],["id","id"],["on completion","onCompletion"],["priority","priority"],["recurrence rule","recurrenceRule"],["scheduled date","scheduledDate"],["start date","startDate"]]);for(let[i,s]of r.entries())if(t.startsWith(i))return n.setVisibility(s,e),!0;return t.startsWith("tags")?(n.setTagsVisibility(e),!0):!1}var ru,Xc,Gr,Is=te(()=>{"use strict";ru=(p=>(p.Description="description",p.Id="id",p.DependsOn="dependsOn",p.Priority="priority",p.RecurrenceRule="recurrenceRule",p.OnCompletion="onCompletion",p.CreatedDate="createdDate",p.StartDate="startDate",p.ScheduledDate="scheduledDate",p.DueDate="dueDate",p.CancelledDate="cancelledDate",p.DoneDate="doneDate",p.BlockLink="blockLink",p))(ru||{}),Xc=Object.values(ru),Gr=class{constructor(){this.visible={};this.tagsVisible=!0;Xc.forEach(t=>{this.visible[t]=!0})}isShown(t){return this.visible[t]}areTagsShown(){return this.tagsVisible}hide(t){this.visible[t]=!1}setVisibility(t,e){this.visible[t]=e}setTagsVisibility(t){this.tagsVisible=t}get shownComponents(){return Xc.filter(t=>this.visible[t])}get hiddenComponents(){return Xc.filter(t=>!this.visible[t])}get toggleableComponents(){return Xc.filter(t=>t!=="description"&&t!=="blockLink")}toggleVisibilityExceptDescriptionAndBlockLink(){this.toggleableComponents.forEach(t=>{this.visible[t]=!this.visible[t]}),this.setTagsVisibility(!this.areTagsShown())}}});var tn,gt,Jn=te(()=>{"use strict";tn=(a=>(a.TODO="TODO",a.DONE="DONE",a.IN_PROGRESS="IN_PROGRESS",a.CANCELLED="CANCELLED",a.NON_TASK="NON_TASK",a.EMPTY="EMPTY",a))(tn||{}),gt=class{constructor(t,e,r,i,s="TODO"){this.symbol=t,this.name=e,this.nextStatusSymbol=r,this.availableAsCommand=i,this.type=s}}});function OS(n){let t=n.trim().toLowerCase();return t==="delete"?"delete":t==="keep"?"keep":""}function f2(n,t){return n.filter(e=>e!==t)}function p2(n,t){let e=n.status,r=t.status,i=r.type===e.type;return r.type!=="DONE"||i}function CS(n,t){let e=t.length;if(n.onCompletion===""||n.onCompletion==="keep"||e===0)return t;let r=t[e-1];if(p2(n,r))return t;let s=n.onCompletion;return s==="delete"?f2(t,r):(console.log(`OnCompletion action ${s} not yet implemented.`),t)}var Zc=te(()=>{"use strict";Jn()});var Wa=te(()=>{"use strict"});function $a(n){return Ya(n,"(\\d{4}-\\d{2}-\\d{2})")}function Ya(n,t){let e=n+"\uFE0F?";return t!==""&&(e+=" *"+t),e+="$",new RegExp(e,"u")}function Jc(n,t,e){return e?n?" "+t:` ${t} ${e}`:""}function qa(n,t,e){return e?n?" "+t:` ${t} ${e.format(de.dateFormat)}`:""}function MS(){let n=[];return Object.values(iu.prioritySymbols).forEach(t=>{t.length>0&&n.push(t)}),Object.values(iu).forEach(t=>{typeof t=="string"&&n.push(t)}),n}var Fs,ey,iu,Ls,su=te(()=>{"use strict";Is();Zc();Lc();Qc();Nt();Wa();ii();Fs=/[a-zA-Z0-9-_]+/,ey=new RegExp(Fs.source+"( *, *"+Fs.source+" *)*");iu={prioritySymbols:{Highest:"\u{1F53A}",High:"\u23EB",Medium:"\u{1F53C}",Low:"\u{1F53D}",Lowest:"\u23EC",None:""},startDateSymbol:"\u{1F6EB}",createdDateSymbol:"\u2795",scheduledDateSymbol:"\u23F3",dueDateSymbol:"\u{1F4C5}",doneDateSymbol:"\u2705",cancelledDateSymbol:"\u274C",recurrenceSymbol:"\u{1F501}",onCompletionSymbol:"\u{1F3C1}",dependsOnSymbol:"\u26D4",idSymbol:"\u{1F194}",TaskFormatRegularExpressions:{priorityRegex:Ya("([\u{1F53A}\u23EB\u{1F53C}\u{1F53D}\u23EC])",""),startDateRegex:$a("\u{1F6EB}"),createdDateRegex:$a("\u2795"),scheduledDateRegex:$a("[\u23F3\u231B]"),dueDateRegex:$a("[\u{1F4C5}\u{1F4C6}\u{1F5D3}]"),doneDateRegex:$a("\u2705"),cancelledDateRegex:$a("\u274C"),recurrenceRegex:Ya("\u{1F501}","([a-zA-Z0-9, !]+)"),onCompletionRegex:Ya("\u{1F3C1}","([a-zA-Z]+)"),dependsOnRegex:Ya("\u26D4","("+ey.source+")"),idRegex:Ya("\u{1F194}","("+Fs.source+")")}};Ls=class{constructor(t){this.symbols=t}serialize(t){let e=new Gr,r="",i=!1;for(let s of e.shownComponents)r+=this.componentToString(t,i,s);return r}componentToString(t,e,r){var T;let{prioritySymbols:i,startDateSymbol:s,createdDateSymbol:a,scheduledDateSymbol:o,doneDateSymbol:l,cancelledDateSymbol:u,recurrenceSymbol:c,onCompletionSymbol:d,dueDateSymbol:f,dependsOnSymbol:p,idSymbol:b}=this.symbols;switch(r){case"description":return t.description;case"priority":{let _="";return t.priority==="0"?_=" "+i.Highest:t.priority==="1"?_=" "+i.High:t.priority==="2"?_=" "+i.Medium:t.priority==="4"?_=" "+i.Low:t.priority==="5"&&(_=" "+i.Lowest),_}case"startDate":return qa(e,s,t.startDate);case"createdDate":return qa(e,a,t.createdDate);case"scheduledDate":return t.scheduledDateIsInferred?"":qa(e,o,t.scheduledDate);case"doneDate":return qa(e,l,t.doneDate);case"cancelledDate":return qa(e,u,t.cancelledDate);case"dueDate":return qa(e,f,t.dueDate);case"recurrenceRule":return t.recurrence?Jc(e,c,t.recurrence.toText()):"";case"onCompletion":return t.onCompletion===""?"":Jc(e,d,t.onCompletion);case"dependsOn":return t.dependsOn.length===0?"":Jc(e,p,t.dependsOn.join(","));case"id":return Jc(e,b,t.id);case"blockLink":return(T=t.blockLink)!=null?T:"";default:throw new Error(`Don't know how to render task component of type '${r}'`)}}parsePriority(t){let{prioritySymbols:e}=this.symbols;switch(t){case e.Lowest:return"5";case e.Low:return"4";case e.Medium:return"2";case e.High:return"1";case e.Highest:return"0";default:return"3"}}deserialize(t){let{TaskFormatRegularExpressions:e}=this.symbols,r,i="3",s=null,a=null,o=null,l=null,u=null,c=null,d="",f=null,p="",b="",T=[],_="",O=20,D=0;do{r=!1;let A=t.match(e.priorityRegex);A!==null&&(i=this.parsePriority(A[1]),t=t.replace(e.priorityRegex,"").trim(),r=!0);let j=t.match(e.doneDateRegex);j!==null&&(l=window.moment(j[1],de.dateFormat),t=t.replace(e.doneDateRegex,"").trim(),r=!0);let Y=t.match(e.cancelledDateRegex);Y!==null&&(u=window.moment(Y[1],de.dateFormat),t=t.replace(e.cancelledDateRegex,"").trim(),r=!0);let se=t.match(e.dueDateRegex);se!==null&&(o=window.moment(se[1],de.dateFormat),t=t.replace(e.dueDateRegex,"").trim(),r=!0);let H=t.match(e.scheduledDateRegex);H!==null&&(a=window.moment(H[1],de.dateFormat),t=t.replace(e.scheduledDateRegex,"").trim(),r=!0);let Z=t.match(e.startDateRegex);Z!==null&&(s=window.moment(Z[1],de.dateFormat),t=t.replace(e.startDateRegex,"").trim(),r=!0);let ye=t.match(e.createdDateRegex);ye!==null&&(c=window.moment(ye[1],de.dateFormat),t=t.replace(e.createdDateRegex,"").trim(),r=!0);let we=t.match(e.recurrenceRegex);we!==null&&(d=we[1].trim(),t=t.replace(e.recurrenceRegex,"").trim(),r=!0);let V=t.match(e.onCompletionRegex);if(V!=null){t=t.replace(e.onCompletionRegex,"").trim();let q=V[1];p=OS(q),r=!0}let K=t.match(de.hashTagsFromEnd);if(K!=null){t=t.replace(de.hashTagsFromEnd,"").trim(),r=!0;let q=K[0].trim();_=_.length>0?[q,_].join(" "):q}let C=t.match(e.idRegex);C!=null&&(t=t.replace(e.idRegex,"").trim(),b=C[1].trim(),r=!0);let J=t.match(e.dependsOnRegex);J!=null&&(t=t.replace(e.dependsOnRegex,"").trim(),T=J[1].replace(/ /g,"").split(",").filter(q=>q!==""),r=!0),D++}while(r&&D<=O);return d.length>0&&(f=Et.fromText({recurrenceRuleText:d,occurrence:new Kn({startDate:s,scheduledDate:a,dueDate:o})})),_.length>0&&(t+=" "+_),{description:t,priority:i,startDate:s,createdDate:c,scheduledDate:a,dueDate:o,doneDate:l,cancelledDate:u,recurrence:f,onCompletion:p,id:b,dependsOn:T,tags:fe.extractHashtags(t)}}}});function au(n){let t="",e=!0;for(;e;)t=Math.random().toString(36).substring(2,6+2),n.includes(t)||(e=!1);return t}function td(n,t){return n.id!==""?n:new fe(me(U({},n),{id:au(t)}))}function RS(n,t){let e=n;if(!n.dependsOn.includes(t.id)){let r=[...n.dependsOn,t.id];e=new fe(me(U({},n),{dependsOn:r}))}return e}function AS(n,t){let e=n;if(n.dependsOn.includes(t.id)){let r=n.dependsOn.filter(i=>i!==t.id);e=new fe(me(U({},n),{dependsOn:r}))}return e}var nd=te(()=>{"use strict";Nt()});function Yi(n){return n.replace(/([.*+?^${}()|[\]/\\])/g,"\\$1")}var ou=te(()=>{"use strict"});var Hi,Fe,Cn=te(()=>{"use strict";ou();Hi=class{constructor(){this._globalFilter="";this._removeGlobalFilter=!1}static getInstance(){return Hi.instance||(Hi.instance=new Hi),Hi.instance}get(){return this._globalFilter}set(t){this._globalFilter=t}reset(){this.set(Hi.empty)}isEmpty(){return this.get()===Hi.empty}equals(t){return this.get()===t}includedIn(t){let e=this.get();return t.includes(e)}prependTo(t){return this.get()+" "+t}removeAsWordFromDependingOnSettings(t){return this.getRemoveGlobalFilter()?this.removeAsWordFrom(t):t}getRemoveGlobalFilter(){return this._removeGlobalFilter}setRemoveGlobalFilter(t){this._removeGlobalFilter=t}removeAsWordFrom(t){if(this.isEmpty())return t;let e=RegExp("(^|\\s)"+Yi(this.get())+"($|\\s)","ug");return t.search(e)>-1&&(t=t.replace(e,"$1$2").replace("  "," ").trim()),t}removeAsSubstringFrom(t){let e=this.get();return t.replace(e,"").trim()}},Fe=Hi;Fe.empty=""});function Us(n){return Fe.getInstance().removeAsWordFrom(n.description)}function g2(n,t){if(n==="")return t;let e=(0,NS.prepareSimpleSearch)(n),r=-4;return t.map(a=>{let o=e(Us(a));return o&&o.score>r?{item:a,match:o}:null}).filter(Boolean).sort((a,o)=>o.match.score-a.match.score).map(a=>a.item)}function rd(n,t,e,r,i){let s=g2(n,t);return s=s.filter(a=>!(a.isDone||a.description.includes("<%")&&a.description.includes("%>")||a.description===(e==null?void 0:e.description)&&a.taskLocation.path===(e==null?void 0:e.taskLocation.path)&&a.originalMarkdown===(e==null?void 0:e.originalMarkdown)||(r==null?void 0:r.includes(a))||(i==null?void 0:i.includes(a)))),e&&s.sort((a,o)=>{let l=a.taskLocation.path===e.taskLocation.path,u=o.taskLocation.path===e.taskLocation.path;return l&&u?Math.abs(a.taskLocation.lineNumber-e.taskLocation.lineNumber)-Math.abs(o.taskLocation.lineNumber-e.taskLocation.lineNumber):l?-1:u?1:0}),s.slice(0,h2)}var NS,h2,ty=te(()=>{"use strict";NS=require("obsidian");Cn();h2=20});function IS(n){return globalThis.SHOW_DEPENDENCY_SUGGESTIONS&&n}function ry(n,t,e){let r=[n.startDateSymbol,n.scheduledDateSymbol,n.dueDateSymbol].join("|");return(i,s,a,o,l,u)=>{let c=[],{postfix:d,insertSkip:f}=b2(e,i,s),p={line:i,cursorPos:s,settings:a,dataviewMode:e,postfix:d,insertSkip:f};return c=c.concat(S2(r,t,p)),c=c.concat(E2(n.recurrenceSymbol,p)),IS(l)&&(c=c.concat(x2(n.idSymbol,o,p)),c=c.concat(O2(n.dependsOnSymbol,o,p,u))),c=c.concat(D2(n.onCompletionSymbol,t,p)),c=c.concat(T2(n,l,p)),c.length>0&&!c.some(b=>b.suggestionType==="match")&&(e||c.unshift({suggestionType:"empty",displayText:"\u23CE",appendText:`
`})),c=c.slice(0,a.autoSuggestMaxItems),c}}function b2(n,t,e){let r=M2(t.substring(0,e),[["(",")"],["[","]"]])=="("?")":"]",i=n?r+" ":" ",s=n&&t.length>e&&t.charAt(e)===r?1:0;return{postfix:i,insertSkip:s}}function T2(n,t,e){let r=[],i=e.line;js(r,i,n.dueDateSymbol,"due date"),js(r,i,n.startDateSymbol,"start date"),js(r,i,n.scheduledDateSymbol,"scheduled date"),_2(r,n,e),js(r,i,n.recurrenceSymbol,"recurring (repeat)"),v2(r,n,e),IS(t)&&(js(r,i,n.idSymbol,"id"),js(r,i,n.dependsOnSymbol,"depends on id")),js(r,i,n.onCompletionSymbol,"on completion");let s=w2(r,e);return s.length===0&&e.settings.autoSuggestMinMatch===0?r:s}function js(n,t,e,r){t.includes(e)||n.push({displayText:`${e} ${r}`,appendText:`${e} `})}function _2(n,t,e){if(!(i=>Object.values(t.prioritySymbols).some(s=>s.length>0&&i.includes(s)))(e.line)){let i=t.prioritySymbols,s=["High","Medium","Low","Highest","Lowest"];for(let a of s){let o=i[a];n.push({displayText:e.dataviewMode?`${o} priority`:`${o} ${a.toLowerCase()} priority`,appendText:`${o}${e.postfix}`,insertSkip:e.dataviewMode?e.insertSkip:void 0})}}}function v2(n,t,e){if(!e.line.includes(t.createdDateSymbol)){let i=Dn.parseDate("today",!0).format(de.dateFormat);n.push({textToMatch:`${t.createdDateSymbol} created`,displayText:`${t.createdDateSymbol} created today (${i})`,appendText:`${t.createdDateSymbol} ${i}`+e.postfix,insertSkip:e.dataviewMode?e.insertSkip:void 0})}}function w2(n,t){let e=Ha(/([a-zA-Z'_-]*)/g,t),r=[];if(e&&e.length>0){let i=e[0];if(i.length>=Math.max(1,t.settings.autoSuggestMinMatch)){let s=n.filter(a=>{var l;return((l=a.textToMatch)!=null?l:a.displayText).toLowerCase().includes(i.toLowerCase())});for(let a of s){let o=t.dataviewMode&&(a.displayText.includes("priority")||a.displayText.includes("created"))?i.length+t.insertSkip:i.length;r.push({suggestionType:"match",displayText:a.displayText,appendText:a.appendText,insertAt:e.index,insertSkip:o})}}}return r}function FS(n,t){let e=`${t}`,r=`${n} ${t}`;return{displayText:e,appendText:r}}function k2(n,t){let r=`${Dn.parseDate(t,!0).format(de.dateFormat)}`,i=`${t} (${r})`,s=`${n} ${r}`;return{displayText:i,appendText:s}}function S2(n,t,e){let r=["today","tomorrow","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","next week","next month","next year"],i=[],s=new RegExp(`(${n})\\s*([0-9a-zA-Z ]*)`,"ug"),a=Ha(s,e);if(a&&a.length>=2){let o=a[2];if(o.length<e.settings.autoSuggestMinMatch)return[];let l=o&&o.length>1?Dn.parseDate(Fc(o),!0):null;if(l!=null&&l.isValid()){let c=l.format(de.dateFormat);id(e,a,[c],FS,i)}let u=iy(r,o,t,!0);id(e,a,u,k2,i)}return i}function E2(n,t){var a;let e=["every","every day","every week","every month","every month on the","every year","every week on Sunday","every week on Monday","every week on Tuesday","every week on Wednesday","every week on Thursday","every week on Friday","every week on Saturday"],r=[],i=new RegExp(`(${n})\\s*([0-9a-zA-Z ]*)`,"ug"),s=Ha(i,t);if(s&&s.length>=2){let o=s[1],l=s[2];if(l.length<t.settings.autoSuggestMinMatch)return[];if(l.length>0){let f=(a=Et.fromText({recurrenceRuleText:l,occurrence:new Kn({startDate:null,scheduledDate:null,dueDate:null})}))==null?void 0:a.toText();if(f){let p=`${o} ${f}`+t.postfix;if(r.push({suggestionType:"match",displayText:`\u2705 ${f}`,appendText:p,insertAt:s.index,insertSkip:sy(s[0],t)}),s[0]==p)return[]}}let u=t.settings.autoSuggestMaxItems/2,c=iy(e,l,u,!1);c.length===0&&l.trim().length===0&&(c=e.slice(0,u)),id(t,s,c,(f,p)=>{let b=`${p}`,T=`${f} ${p}`;return{displayText:b,appendText:T}},r)}return r}function D2(n,t,e){let r=["delete","keep"],i=[],s=new RegExp(`(${n})\\s*([0-9a-zA-Z ]*)`,"ug"),a=Ha(s,e);if(a&&a.length>=2){let o=a[2];if(o.length<e.settings.autoSuggestMinMatch)return[];let l=iy(r,o,t,!0);id(e,a,l,FS,i)}return i}function x2(n,t,e){let r=[],i=new RegExp(`(${n})\\s*(${Fs.source})?`,"ug"),s=Ha(i,e);if(s&&s[0].trim().length<=n.length){let a=au(t.map(o=>o.id));r.push({suggestionType:"match",displayText:"generate unique id",appendText:`${n} ${a}`+e.postfix,insertAt:s.index,insertSkip:sy(s[0],e)})}return r}function O2(n,t,e,r){let i=[],s=e.dataviewMode?Yi("()[]"):MS(),a=new RegExp(`(${n})([0-9a-zA-Z-_ ^,]*,)*([^,${s}]*)`,"ug"),o=Ha(a,e);if(o&&o.length>=1){let l=o[2]||"",u=o[3],c=[];if(l){let d=l.split(",").map(f=>f.trim());c=t.filter(f=>f.id&&d.includes(f.id))}if(u.length>=e.settings.autoSuggestMinMatch){let d=rd(u.trim(),t,r,[],c);for(let f of d)i.push({suggestionType:"match",displayText:`${f.descriptionWithoutTags} - From: ${f.filename}.md`,appendText:`${n}${l}`,insertAt:o.index,insertSkip:n.length+l.length+u.length,taskItDependsOn:f})}}return i}function iy(n,t,e,r){let s=n.filter(a=>t&&t.length>=1&&a.toLowerCase().includes(t.toLowerCase())).slice(0,e);return r&&s.length===0&&(s=n.slice(0,e)),s}function id(n,t,e,r,i){let s=t[1];for(let a of e){let{displayText:o,appendText:l}=r(s,a);i.push({suggestionType:"match",displayText:o,appendText:l+n.postfix,insertAt:t.index,insertSkip:sy(t[0],n)})}}function Ha(n,t){let e=t.line.matchAll(n),r=t.cursorPos;for(let i of e)if((i==null?void 0:i.index)&&i.index<r&&r<=i.index+i[0].length)return i}function C2(n,t){if(t.length===0)return!1;let e=Object.fromEntries(t.map(([i,s])=>[i,0])),r=Object.fromEntries(t.map(([i,s])=>[s,i]));for(let i of n)i in e?e[i]++:i in r&&(e[r[i]]=Math.max(0,e[r[i]]-1));return Object.values(e).some(i=>i>0)}function M2(n,t){if(t.length===0)return null;let e=Object.fromEntries(t.map(([s,a])=>[s,0])),r=Object.fromEntries(t.map(([s,a])=>[a,s])),i=[];for(let s=0;s<n.length;s++){let a=n[s];if(a in e)e[a]++,i.push({bracket:a,idx:s});else if(a in r){if(e[r[a]]>=1){for(let o=i.length-1;o>=0;o--)if(i[o].bracket==r[a]){i.splice(o,1);break}}e[r[a]]=Math.max(0,e[r[a]]-1)}}return i.length>0?i[i.length-1].bracket:null}function LS(n,t){return(e,r,i,s,a)=>C2(e.slice(0,r),t)?n(e,r,i,s,a):[]}function US(n,t,e){let r=Fe.getInstance().includedIn(n),i=R2(e,t,r);return typeof i=="boolean"?i:r&&A2(n,t.ch)}function R2(n,t,e){var r,i;return(i=(r=n==null?void 0:n.editorComponent)==null?void 0:r.showTasksPluginAutoSuggest)==null?void 0:i.call(r,t,n,e)}function A2(n,t){if(n.length===0)return!1;let e=fe.extractTaskComponents(n);if(!e)return!1;let r=e.indentation+e.listMarker+" ["+e.status.symbol+"] ";return t>=r.length}function sy(n,t){return t.dataviewMode?n.length+t.insertSkip:n.length}var ny,y2,ay=te(()=>{"use strict";Ig();Fg();Lc();Qc();su();Nt();nd();Cn();ii();ty();ou();ny=5,y2=!0;globalThis.SHOW_DEPENDENCY_SUGGESTIONS=y2});var Mn,lu=te(()=>{"use strict";Wa();Mn=class{static priorityNameUsingNone(t){let e="ERROR";switch(t){case"1":e="High";break;case"0":e="Highest";break;case"2":e="Medium";break;case"3":e="None";break;case"4":e="Low";break;case"5":e="Lowest";break}return e}static priorityNameUsingNormal(t){return Mn.priorityNameUsingNone(t).replace("None","Normal")}static priorityValue(t){switch(t.toLowerCase()){case"lowest":return"5";case"low":return"4";case"medium":return"2";case"high":return"1";case"highest":return"0";default:return"3"}}}});function kr(n){let t=["(?:",/(?=[^\]]+\])\[/,"|",/(?=[^)]+\))\(/,")",/ */,n,/ */,/[)\]]/,/(?: *,)?/,/$/].map(e=>e instanceof RegExp?e.source:e).join("");return new RegExp(t,n.flags)}var oy,sd,ly=te(()=>{"use strict";Is();lu();su();oy={prioritySymbols:{Highest:"priority:: highest",High:"priority:: high",Medium:"priority:: medium",Low:"priority:: low",Lowest:"priority:: lowest",None:""},startDateSymbol:"start::",createdDateSymbol:"created::",scheduledDateSymbol:"scheduled::",dueDateSymbol:"due::",doneDateSymbol:"completion::",cancelledDateSymbol:"cancelled::",recurrenceSymbol:"repeat::",onCompletionSymbol:"onCompletion::",idSymbol:"id::",dependsOnSymbol:"dependsOn::",TaskFormatRegularExpressions:{priorityRegex:kr(/priority:: *(highest|high|medium|low|lowest)/),startDateRegex:kr(/start:: *(\d{4}-\d{2}-\d{2})/),createdDateRegex:kr(/created:: *(\d{4}-\d{2}-\d{2})/),scheduledDateRegex:kr(/scheduled:: *(\d{4}-\d{2}-\d{2})/),dueDateRegex:kr(/due:: *(\d{4}-\d{2}-\d{2})/),doneDateRegex:kr(/completion:: *(\d{4}-\d{2}-\d{2})/),cancelledDateRegex:kr(/cancelled:: *(\d{4}-\d{2}-\d{2})/),recurrenceRegex:kr(/repeat:: *([a-zA-Z0-9, !]+)/),onCompletionRegex:kr(/onCompletion:: *([a-zA-Z]+)/),dependsOnRegex:kr(new RegExp("dependsOn:: *("+ey.source+")")),idRegex:kr(new RegExp("id:: *("+Fs.source+")"))}},sd=class extends Ls{constructor(){super(oy)}parsePriority(t){return Mn.priorityValue(t)}componentToString(t,e,r){let i=super.componentToString(t,e,r),s=["blockLink","description"];return i!==""&&!s.includes(r)?`  [${i.trim()}]`:i}}});var er,ge,Sr=te(()=>{"use strict";Jn();er=class{get symbol(){return this.configuration.symbol}get name(){return this.configuration.name}get nextStatusSymbol(){return this.configuration.nextStatusSymbol}get nextSymbol(){return this.configuration.nextStatusSymbol}get availableAsCommand(){return this.configuration.availableAsCommand}get type(){return this.configuration.type}get typeGroupText(){let t=this.type,e;switch(t){case"IN_PROGRESS":e="1";break;case"TODO":e="2";break;case"DONE":e="3";break;case"CANCELLED":e="4";break;case"NON_TASK":e="5";break;case"EMPTY":e="6";break}return`%%${e}%%${t}`}constructor(t){this.configuration=t}static getTypeForUnknownSymbol(t){switch(t){case"x":case"X":return"DONE";case"/":return"IN_PROGRESS";case"-":return"CANCELLED";case"":return"EMPTY";case" ":default:return"TODO"}}static getTypeFromStatusTypeString(t){return tn[t]||"TODO"}static createUnknownStatus(t){return new er(new gt(t,"Unknown","x",!1,"TODO"))}static createFromImportedValue(t){let e=t[0],r=er.getTypeFromStatusTypeString(t[3]);return new er(new gt(e,t[1],t[2],!1,r))}isCompleted(){return this.type==="DONE"}isCancelled(){return this.type==="CANCELLED"}identicalTo(t){let e=["symbol","name","nextStatusSymbol","availableAsCommand","type"];for(let r of e)if(this[r]!==t[r])return!1;return!0}previewText(){let t="";return er.tasksPluginCanCreateCommandsForStatuses()&&this.availableAsCommand&&(t=" Available as a command."),`- [${this.symbol}] => [${this.nextStatusSymbol}], name: '${this.name}', type: '${this.configuration.type}'.${t}`}static tasksPluginCanCreateCommandsForStatuses(){return!1}},ge=er;ge.DONE=new er(new gt("x","Done"," ",!0,"DONE")),ge.EMPTY=new er(new gt("","EMPTY","",!0,"EMPTY")),ge.TODO=new er(new gt(" ","Todo","x",!0,"TODO")),ge.CANCELLED=new er(new gt("-","Cancelled"," ",!0,"CANCELLED")),ge.IN_PROGRESS=new er(new gt("/","In Progress","x",!0,"IN_PROGRESS")),ge.NON_TASK=new er(new gt("Q","Non-Task","A",!0,"NON_TASK"))});var jS=te(()=>{"use strict";su()});var ad,WS=te(()=>{"use strict";ad=class{constructor(t=!1,e=!1,r=!1){this.ignoreSortInstructions=t,this.showTaskHiddenData=e,this.recordTimings=r}}});var et,Ga=te(()=>{"use strict";Sr();et=class{constructor(){this.coreStatuses=[ge.TODO.configuration,ge.DONE.configuration],this.customStatuses=[ge.IN_PROGRESS.configuration,ge.CANCELLED.configuration]}static addStatus(t,e){t.push(e)}static replaceStatus(t,e,r){let i=this.findStatusIndex(e,t);return i<=-1?!1:(t.splice(i,1,r),!0)}static findStatusIndex(t,e){let r=new ge(t);return e.findIndex(i=>new ge(i).previewText()==r.previewText())}static deleteStatus(t,e){let r=this.findStatusIndex(e,t);return r<=-1?!1:(t.splice(r,1),!0)}static deleteAllCustomStatuses(t){t.customStatuses.splice(0)}static resetAllCustomStatuses(t){et.deleteAllCustomStatuses(t),new et().customStatuses.forEach(r=>{et.addStatus(t.customStatuses,r)})}static bulkAddStatusCollection(t,e){let r=[];return e.forEach(i=>{t.customStatuses.find(a=>a.symbol==i[0]&&a.name==i[1]&&a.nextStatusSymbol==i[2])?r.push(`The status ${i[1]} (${i[0]}) is already added.`):et.addStatus(t.customStatuses,ge.createFromImportedValue(i))}),r}static allStatuses(t){return t.coreStatuses.concat(t.customStatuses)}static applyToStatusRegistry(t,e){e.clearStatuses(),et.allStatuses(t).forEach(r=>{e.add(r)})}}});var qS,$S=te(()=>{qS=[{index:9999,internalName:"INTERNAL_TESTING_ENABLED_BY_DEFAULT",displayName:"Test Item. Used to validate the Feature Framework.",description:"Description",enabledByDefault:!0,stable:!1}]});var _i,YS=te(()=>{"use strict";$S();_i=class{constructor(t,e,r,i,s,a){this.internalName=t;this.index=e;this.description=r;this.displayName=i;this.enabledByDefault=s;this.stable=a}static get values(){let t=[];return qS.forEach(e=>{t=[...t,new _i(e.internalName,e.index,e.description,e.displayName,e.enabledByDefault,e.stable)]}),t}static get settingsFlags(){let t={};return _i.values.forEach(e=>{t[e.internalName]=e.enabledByDefault}),t}static fromString(t){for(let e of _i.values)if(t===e.internalName)return e;throw new RangeError(`Illegal argument passed to fromString(): ${t} does not correspond to any available Feature ${this.prototype.constructor.name}`)}}});function uy(n,t){for(let e in n)t[e]===void 0&&(t[e]=n[e])}function uu(){return Er[le().taskFormat]}var Er,cy,vi,le,dt,Ws,HS,nn=te(()=>{"use strict";ay();su();ly();Jn();Sr();jS();ly();gs();WS();Ga();YS();Er={tasksPluginEmoji:{getDisplayName:()=>N.t("settings.format.displayName.tasksEmojiFormat"),taskSerializer:new Ls(iu),buildSuggestions:ry(iu,ny,!1)},dataview:{getDisplayName:()=>N.t("settings.format.displayName.dataview"),taskSerializer:new sd,buildSuggestions:LS(ry(oy,ny,!0),[["(",")"],["[","]"]])}},cy={globalQuery:"",globalFilter:"",removeGlobalFilter:!1,taskFormat:"tasksPluginEmoji",setCreatedDate:!1,setDoneDate:!0,setCancelledDate:!0,autoSuggestInEditor:!0,autoSuggestMinMatch:0,autoSuggestMaxItems:20,provideAccessKeys:!0,useFilenameAsScheduledDate:!1,filenameAsScheduledDateFormat:"",filenameAsDateFolders:[],recurrenceOnNextLine:!1,statusSettings:new et,features:_i.settingsFlags,generalSettings:{},headingOpened:{},debugSettings:new ad,loggingOptions:{minLevels:{"":"info",tasks:"info","tasks.Cache":"info","tasks.Events":"info","tasks.File":"info","tasks.Query":"info","tasks.Task":"info"}}},vi=U({},cy);le=()=>(uy(_i.settingsFlags,vi.features),uy(cy.loggingOptions.minLevels,vi.loggingOptions.minLevels),uy(cy.debugSettings,vi.debugSettings),vi.statusSettings.customStatuses.forEach((n,t,e)=>{var i,s;let r=ge.getTypeFromStatusTypeString(n.type);e[t]=new gt((i=n.symbol)!=null?i:" ",n.name,(s=n.nextStatusSymbol)!=null?s:"x",n.availableAsCommand,r)}),U({},vi)),dt=n=>(vi=U(U({},vi),n),le()),Ws=(n,t)=>(vi.generalSettings[n]=t,le()),HS=n=>{var t;return(t=vi.features[n])!=null?t:!1}});function od(n){let e={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[n];return e!==void 0?e:n}function GS(n){let t=[...n],e="";return t.forEach(r=>{e+=od(r)}),e}var BS=te(()=>{"use strict"});var Be,wi=te(()=>{"use strict";BS();Sr();Jn();Be=class{constructor(){this._registeredStatuses=[];this.addDefaultStatusTypes()}set(t){this.clearStatuses(),t.forEach(e=>{this.add(e)})}get registeredStatuses(){return this._registeredStatuses.filter(({symbol:t})=>t!==ge.EMPTY.symbol)}static getInstance(){return Be.instance||(Be.instance=new Be),Be.instance}add(t){this.hasSymbol(t.symbol)||(t instanceof ge?this._registeredStatuses.push(t):this._registeredStatuses.push(new ge(t)))}bySymbol(t){return this.hasSymbol(t)?this.getSymbol(t):ge.EMPTY}bySymbolOrCreate(t){return this.hasSymbol(t)?this.getSymbol(t):ge.createUnknownStatus(t)}byName(t){return this._registeredStatuses.filter(({name:e})=>e===t).length>0?this._registeredStatuses.filter(({name:e})=>e===t)[0]:ge.EMPTY}resetToDefaultStatuses(){this.clearStatuses(),this.addDefaultStatusTypes()}clearStatuses(){this._registeredStatuses=[]}getNextStatus(t){if(t.nextStatusSymbol!==""){let e=this.bySymbol(t.nextStatusSymbol);if(e!==null)return e}return ge.EMPTY}getNextStatusOrCreate(t){let e=this.getNextStatus(t);return e.type!=="EMPTY"?e:ge.createUnknownStatus(t.nextStatusSymbol)}getNextRecurrenceStatusOrCreate(t){let e=this.getNextStatusOrCreate(t),r=this.getNextRecurrenceStatusOfType(e,"TODO");if(r)return r;let i=this.getNextRecurrenceStatusOfType(e,"IN_PROGRESS");return i||this.bySymbolOrCreate(" ")}getNextRecurrenceStatusOfType(t,e){if(t.type===e)return t;let r=t;for(let i=0;i<this.registeredStatuses.length-1;i++)if(r=this.getNextStatusOrCreate(r),r.type===e)return r}findUnknownStatuses(t){let e=t.filter(s=>!this.hasSymbol(s.symbol)),r=new Be,i=[];return e.forEach(s=>{if(r.hasSymbol(s.symbol))return;let a=Be.copyStatusWithNewName(s,`Unknown (${s.symbol})`);i.push(a),r.add(a)}),i.sort((s,a)=>s.symbol.localeCompare(a.symbol,void 0,{numeric:!0}))}static copyStatusWithNewName(t,e){let r=new gt(t.symbol,e,t.nextStatusSymbol,t.availableAsCommand,t.type);return new ge(r)}getSymbol(t){return this._registeredStatuses.filter(({symbol:e})=>e===t)[0]}hasSymbol(t){return this._registeredStatuses.find(e=>e.symbol===t)!==void 0}addDefaultStatusTypes(){[ge.TODO,ge.IN_PROGRESS,ge.DONE,ge.CANCELLED].forEach(e=>{this.add(e)})}mermaidDiagram(t=!1){let e=this.registeredStatuses,r="mermaid",i=[],s=[];return e.forEach((a,o)=>{let l=this.getMermaidNodeLabel(a,t);i.push(`${o+1}${l}`);let u=this.getNextStatus(a);if(this.addEdgeIfNotToInternal(e,u,s,o,!1),a.type==="DONE"){let c=this.getNextRecurrenceStatusOrCreate(a);c.symbol!==u.symbol&&this.addEdgeIfNotToInternal(e,c,s,o,!0)}}),`
\`\`\`${r}
flowchart LR

classDef TODO        stroke:#f33,stroke-width:3px;
classDef DONE        stroke:#0c0,stroke-width:3px;
classDef IN_PROGRESS stroke:#fa0,stroke-width:3px;
classDef CANCELLED   stroke:#ddd,stroke-width:3px;
classDef NON_TASK    stroke:#99e,stroke-width:3px;

${i.join(`
`)}
${s.join(`
`)}

linkStyle default stroke:gray
\`\`\`
`}addEdgeIfNotToInternal(t,e,r,i,s){let a=t.findIndex(u=>u.symbol===e.symbol),o=a!==-1,l=e.type!=="EMPTY";if(o&&l){let u;s?u='-. "\u{1F501}" .-> ':u=" --> ";let c=`${i+1}${u}${a+1}`;r.push(c)}}getMermaidNodeLabel(t,e){let r=GS(t.name),i=t.type;if(e){let s=od(t.symbol),a=od(t.nextStatusSymbol),o=`[${s}] -> [${a}]`,l=`'${r}'`,u=`(${i})`;return`["${l}<br>${o}<br>${u}"]:::${i}`}else return`["${r}"]:::${i}`}}});var Br,VS=te(()=>{"use strict";Br=class{constructor(t,e){this.name=t,this.sortOrder=e}get groupText(){return this.name!==""?`%%${this.sortOrder}%% ${this.name}`:""}}});var zS,It,ld=te(()=>{"use strict";zS=require("obsidian");VS();ii();It=class{constructor(t){this._date=null;this._date=t}get moment(){return this._date}formatAsDate(t=""){return this.format(de.dateFormat,t)}formatAsDateAndTime(t=""){return this.format(de.dateTimeFormat,t)}format(t,e=""){return this._date?this._date.format(t):e}toISOString(t){return this._date?this._date.toISOString(t):""}get category(){let t=window.moment(),e=this.moment;return e?e.isBefore(t,"day")?new Br("Overdue",1):e.isSame(t,"day")?new Br("Today",2):e.isValid()?new Br("Future",3):new Br("Invalid date",0):new Br("Undated",4)}get fromNow(){let t=this.moment;if(!t)return new Br("",0);let e=this.fromNowOrder(t);return new Br(t.fromNow(),e)}fromNowOrder(t){if(!t.isValid())return 0;let e=window.moment(),r=t.isSameOrBefore(e,"day"),i=this.fromNowStartDateOfGroup(t,r,e);return Number((r?1:3)+i.format("YYYYMMDD"))}fromNowStartDateOfGroup(t,e,r){let i=t.fromNow(!0).split(" "),s,a=Number(i[0]);isNaN(a)?s=1:s=a;let o=i[1];return e?r.subtract(s,o):r.add(s,o)}postpone(t="days",e=1){if(!this._date)throw new zS.Notice("Cannot postpone a null date");let r=window.moment().startOf("day");return this._date.isSameOrAfter(r,"day")?this._date.clone().add(e,t):r.add(e,t)}}});var XS=x((KS,QS)=>{(function(n){var t=Object.hasOwnProperty,e=Array.isArray?Array.isArray:function(y){return Object.prototype.toString.call(y)==="[object Array]"},r=10,i=typeof process=="object"&&typeof process.nextTick=="function",s=typeof Symbol=="function",a=typeof Reflect=="object",o=typeof setImmediate=="function",l=o?setImmediate:setTimeout,u=s?a&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(m){var y=Object.getOwnPropertyNames(m);return y.push.apply(y,Object.getOwnPropertySymbols(m)),y}:Object.keys;function c(){this._events={},this._conf&&d.call(this,this._conf)}function d(m){m&&(this._conf=m,m.delimiter&&(this.delimiter=m.delimiter),m.maxListeners!==n&&(this._maxListeners=m.maxListeners),m.wildcard&&(this.wildcard=m.wildcard),m.newListener&&(this._newListener=m.newListener),m.removeListener&&(this._removeListener=m.removeListener),m.verboseMemoryLeak&&(this.verboseMemoryLeak=m.verboseMemoryLeak),m.ignoreErrors&&(this.ignoreErrors=m.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function f(m,y){var v="(node) warning: possible EventEmitter memory leak detected. "+m+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(v+=" Event name: "+y+"."),typeof process!="undefined"&&process.emitWarning){var w=new Error(v);w.name="MaxListenersExceededWarning",w.emitter=this,w.count=m,process.emitWarning(w)}else console.error(v),console.trace&&console.trace()}var p=function(m,y,v){var w=arguments.length;switch(w){case 0:return[];case 1:return[m];case 2:return[m,y];case 3:return[m,y,v];default:for(var S=new Array(w);w--;)S[w]=arguments[w];return S}};function b(m,y){for(var v={},w,S=m.length,M=y?y.length:0,I=0;I<S;I++)w=m[I],v[w]=I<M?y[I]:n;return v}function T(m,y,v){this._emitter=m,this._target=y,this._listeners={},this._listenersCount=0;var w,S;if((v.on||v.off)&&(w=v.on,S=v.off),y.addEventListener?(w=y.addEventListener,S=y.removeEventListener):y.addListener?(w=y.addListener,S=y.removeListener):y.on&&(w=y.on,S=y.off),!w&&!S)throw Error("target does not implement any known event API");if(typeof w!="function")throw TypeError("on method must be a function");if(typeof S!="function")throw TypeError("off method must be a function");this._on=w,this._off=S;var M=m._observers;M?M.push(this):m._observers=[this]}Object.assign(T.prototype,{subscribe:function(m,y,v){var w=this,S=this._target,M=this._emitter,I=this._listeners,W=function(){var E=p.apply(null,arguments),P={data:E,name:y,original:m};if(v){var $=v.call(S,P);$!==!1&&M.emit.apply(M,[P.name].concat(E));return}M.emit.apply(M,[y].concat(E))};if(I[m])throw Error("Event '"+m+"' is already listening");this._listenersCount++,M._newListener&&M._removeListener&&!w._onNewListener?(this._onNewListener=function(E){E===y&&I[m]===null&&(I[m]=W,w._on.call(S,m,W))},M.on("newListener",this._onNewListener),this._onRemoveListener=function(E){E===y&&!M.hasListeners(E)&&I[m]&&(I[m]=null,w._off.call(S,m,W))},I[m]=null,M.on("removeListener",this._onRemoveListener)):(I[m]=W,w._on.call(S,m,W))},unsubscribe:function(m){var y=this,v=this._listeners,w=this._emitter,S,M,I=this._off,W=this._target,E;if(m&&typeof m!="string")throw TypeError("event must be a string");function P(){y._onNewListener&&(w.off("newListener",y._onNewListener),w.off("removeListener",y._onRemoveListener),y._onNewListener=null,y._onRemoveListener=null);var $=se.call(w,y);w._observers.splice($,1)}if(m){if(S=v[m],!S)return;I.call(W,m,S),delete v[m],--this._listenersCount||P()}else{for(M=u(v),E=M.length;E-- >0;)m=M[E],I.call(W,m,v[m]);this._listeners={},this._listenersCount=0,P()}}});function _(m,y,v,w){var S=Object.assign({},y);if(!m)return S;if(typeof m!="object")throw TypeError("options must be an object");var M=Object.keys(m),I=M.length,W,E,P;function $(be){throw Error('Invalid "'+W+'" option value'+(be?". Reason: "+be:""))}for(var ce=0;ce<I;ce++){if(W=M[ce],!w&&!t.call(y,W))throw Error('Unknown "'+W+'" option');E=m[W],E!==n&&(P=v[W],S[W]=P?P(E,$):E)}return S}function O(m,y){return(typeof m!="function"||!m.hasOwnProperty("prototype"))&&y("value must be a constructor"),m}function D(m){var y="value must be type of "+m.join("|"),v=m.length,w=m[0],S=m[1];return v===1?function(M,I){if(typeof M===w)return M;I(y)}:v===2?function(M,I){var W=typeof M;if(W===w||W===S)return M;I(y)}:function(M,I){for(var W=typeof M,E=v;E-- >0;)if(W===m[E])return M;I(y)}}var A=D(["function"]),j=D(["object","function"]);function Y(m,y,v){var w,S,M=0,I,W=new m(function(E,P,$){v=_(v,{timeout:0,overload:!1},{timeout:function(He,Le){return He*=1,(typeof He!="number"||He<0||!Number.isFinite(He))&&Le("timeout must be a positive number"),He}}),w=!v.overload&&typeof m.prototype.cancel=="function"&&typeof $=="function";function ce(){S&&(S=null),M&&(clearTimeout(M),M=0)}var be=function(He){ce(),E(He)},xe=function(He){ce(),P(He)};w?y(be,xe,$):(S=[function(He){xe(He||Error("canceled"))}],y(be,xe,function(He){if(I)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof He!="function")throw TypeError("onCancel callback must be a function");S.push(He)}),I=!0),v.timeout>0&&(M=setTimeout(function(){var He=Error("timeout");He.code="ETIMEDOUT",M=0,W.cancel(He),P(He)},v.timeout))});return w||(W.cancel=function(E){if(!!S){for(var P=S.length,$=1;$<P;$++)S[$](E);S[0](E),S=null}}),W}function se(m){var y=this._observers;if(!y)return-1;for(var v=y.length,w=0;w<v;w++)if(y[w]._target===m)return w;return-1}function H(m,y,v,w,S){if(!v)return null;if(w===0){var M=typeof y;if(M==="string"){var I,W,E=0,P=0,$=this.delimiter,ce=$.length;if((W=y.indexOf($))!==-1){I=new Array(5);do I[E++]=y.slice(P,W),P=W+ce;while((W=y.indexOf($,P))!==-1);I[E++]=y.slice(P),y=I,S=E}else y=[y],S=1}else M==="object"?S=y.length:(y=[y],S=1)}var be=null,xe,He,Le,jt,fr,vn=y[w],ee=y[w+1],Wt,it;if(w===S)v._listeners&&(typeof v._listeners=="function"?(m&&m.push(v._listeners),be=[v]):(m&&m.push.apply(m,v._listeners),be=[v]));else if(vn==="*"){for(Wt=u(v),W=Wt.length;W-- >0;)xe=Wt[W],xe!=="_listeners"&&(it=H(m,y,v[xe],w+1,S),it&&(be?be.push.apply(be,it):be=it));return be}else if(vn==="**"){for(fr=w+1===S||w+2===S&&ee==="*",fr&&v._listeners&&(be=H(m,y,v,S,S)),Wt=u(v),W=Wt.length;W-- >0;)xe=Wt[W],xe!=="_listeners"&&(xe==="*"||xe==="**"?(v[xe]._listeners&&!fr&&(it=H(m,y,v[xe],S,S),it&&(be?be.push.apply(be,it):be=it)),it=H(m,y,v[xe],w,S)):xe===ee?it=H(m,y,v[xe],w+2,S):it=H(m,y,v[xe],w,S),it&&(be?be.push.apply(be,it):be=it));return be}else v[vn]&&(be=H(m,y,v[vn],w+1,S));if(He=v["*"],He&&H(m,y,He,w+1,S),Le=v["**"],Le)if(w<S)for(Le._listeners&&H(m,y,Le,S,S),Wt=u(Le),W=Wt.length;W-- >0;)xe=Wt[W],xe!=="_listeners"&&(xe===ee?H(m,y,Le[xe],w+2,S):xe===vn?H(m,y,Le[xe],w+1,S):(jt={},jt[xe]=Le[xe],H(m,y,{"**":jt},w+1,S)));else Le._listeners?H(m,y,Le,S,S):Le["*"]&&Le["*"]._listeners&&H(m,y,Le["*"],S,S);return be}function Z(m,y,v){var w=0,S=0,M,I=this.delimiter,W=I.length,E;if(typeof m=="string")if((M=m.indexOf(I))!==-1){E=new Array(5);do E[w++]=m.slice(S,M),S=M+W;while((M=m.indexOf(I,S))!==-1);E[w++]=m.slice(S)}else E=[m],w=1;else E=m,w=m.length;if(w>1){for(M=0;M+1<w;M++)if(E[M]==="**"&&E[M+1]==="**")return}var P=this.listenerTree,$;for(M=0;M<w;M++)if($=E[M],P=P[$]||(P[$]={}),M===w-1)return P._listeners?(typeof P._listeners=="function"&&(P._listeners=[P._listeners]),v?P._listeners.unshift(y):P._listeners.push(y),!P._listeners.warned&&this._maxListeners>0&&P._listeners.length>this._maxListeners&&(P._listeners.warned=!0,f.call(this,P._listeners.length,$))):P._listeners=y,!0;return!0}function ye(m,y,v,w){for(var S=u(m),M=S.length,I,W,E,P=m._listeners,$;M-- >0;)W=S[M],I=m[W],W==="_listeners"?E=v:E=v?v.concat(W):[W],$=w||typeof W=="symbol",P&&y.push($?E:E.join(this.delimiter)),typeof I=="object"&&ye.call(this,I,y,E,$);return y}function we(m){for(var y=u(m),v=y.length,w,S,M;v-- >0;)S=y[v],w=m[S],w&&(M=!0,S!=="_listeners"&&!we(w)&&delete m[S]);return M}function V(m,y,v){this.emitter=m,this.event=y,this.listener=v}V.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function K(m,y,v){if(v===!0)S=!0;else if(v===!1)w=!0;else{if(!v||typeof v!="object")throw TypeError("options should be an object or true");var w=v.async,S=v.promisify,M=v.nextTick,I=v.objectify}if(w||M||S){var W=y,E=y._origin||y;if(M&&!i)throw Error("process.nextTick is not supported");S===n&&(S=y.constructor.name==="AsyncFunction"),y=function(){var P=arguments,$=this,ce=this.event;return S?M?Promise.resolve():new Promise(function(be){l(be)}).then(function(){return $.event=ce,W.apply($,P)}):(M?process.nextTick:l)(function(){$.event=ce,W.apply($,P)})},y._async=!0,y._origin=E}return[y,I?new V(this,m,y):this]}function C(m){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,d.call(this,m)}C.EventEmitter2=C,C.prototype.listenTo=function(m,y,v){if(typeof m!="object")throw TypeError("target musts be an object");var w=this;v=_(v,{on:n,off:n,reducers:n},{on:A,off:A,reducers:j});function S(M){if(typeof M!="object")throw TypeError("events must be an object");var I=v.reducers,W=se.call(w,m),E;W===-1?E=new T(w,m,v):E=w._observers[W];for(var P=u(M),$=P.length,ce,be=typeof I=="function",xe=0;xe<$;xe++)ce=P[xe],E.subscribe(ce,M[ce]||ce,be?I:I&&I[ce])}return e(y)?S(b(y)):S(typeof y=="string"?b(y.split(/\s+/)):y),this},C.prototype.stopListeningTo=function(m,y){var v=this._observers;if(!v)return!1;var w=v.length,S,M=!1;if(m&&typeof m!="object")throw TypeError("target should be an object");for(;w-- >0;)S=v[w],(!m||S._target===m)&&(S.unsubscribe(y),M=!0);return M},C.prototype.delimiter=".",C.prototype.setMaxListeners=function(m){m!==n&&(this._maxListeners=m,this._conf||(this._conf={}),this._conf.maxListeners=m)},C.prototype.getMaxListeners=function(){return this._maxListeners},C.prototype.event="",C.prototype.once=function(m,y,v){return this._once(m,y,!1,v)},C.prototype.prependOnceListener=function(m,y,v){return this._once(m,y,!0,v)},C.prototype._once=function(m,y,v,w){return this._many(m,1,y,v,w)},C.prototype.many=function(m,y,v,w){return this._many(m,y,v,!1,w)},C.prototype.prependMany=function(m,y,v,w){return this._many(m,y,v,!0,w)},C.prototype._many=function(m,y,v,w,S){var M=this;if(typeof v!="function")throw new Error("many only accepts instances of Function");function I(){return--y===0&&M.off(m,I),v.apply(this,arguments)}return I._origin=v,this._on(m,I,w,S)},C.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||c.call(this);var m=arguments[0],y,v=this.wildcard,w,S,M,I,W;if(m==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(v&&(y=m,m!=="newListener"&&m!=="removeListener"&&typeof m=="object")){if(S=m.length,s){for(M=0;M<S;M++)if(typeof m[M]=="symbol"){W=!0;break}}W||(m=m.join(this.delimiter))}var E=arguments.length,P;if(this._all&&this._all.length)for(P=this._all.slice(),M=0,S=P.length;M<S;M++)switch(this.event=m,E){case 1:P[M].call(this,m);break;case 2:P[M].call(this,m,arguments[1]);break;case 3:P[M].call(this,m,arguments[1],arguments[2]);break;default:P[M].apply(this,arguments)}if(v)P=[],H.call(this,P,y,this.listenerTree,0,S);else if(P=this._events[m],typeof P=="function"){switch(this.event=m,E){case 1:P.call(this);break;case 2:P.call(this,arguments[1]);break;case 3:P.call(this,arguments[1],arguments[2]);break;default:for(w=new Array(E-1),I=1;I<E;I++)w[I-1]=arguments[I];P.apply(this,w)}return!0}else P&&(P=P.slice());if(P&&P.length){if(E>3)for(w=new Array(E-1),I=1;I<E;I++)w[I-1]=arguments[I];for(M=0,S=P.length;M<S;M++)switch(this.event=m,E){case 1:P[M].call(this);break;case 2:P[M].call(this,arguments[1]);break;case 3:P[M].call(this,arguments[1],arguments[2]);break;default:P[M].apply(this,w)}return!0}else if(!this.ignoreErrors&&!this._all&&m==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},C.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||c.call(this);var m=arguments[0],y=this.wildcard,v,w,S,M,I,W;if(m==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(y&&(v=m,m!=="newListener"&&m!=="removeListener"&&typeof m=="object")){if(M=m.length,s){for(I=0;I<M;I++)if(typeof m[I]=="symbol"){w=!0;break}}w||(m=m.join(this.delimiter))}var E=[],P=arguments.length,$;if(this._all)for(I=0,M=this._all.length;I<M;I++)switch(this.event=m,P){case 1:E.push(this._all[I].call(this,m));break;case 2:E.push(this._all[I].call(this,m,arguments[1]));break;case 3:E.push(this._all[I].call(this,m,arguments[1],arguments[2]));break;default:E.push(this._all[I].apply(this,arguments))}if(y?($=[],H.call(this,$,v,this.listenerTree,0)):$=this._events[m],typeof $=="function")switch(this.event=m,P){case 1:E.push($.call(this));break;case 2:E.push($.call(this,arguments[1]));break;case 3:E.push($.call(this,arguments[1],arguments[2]));break;default:for(S=new Array(P-1),W=1;W<P;W++)S[W-1]=arguments[W];E.push($.apply(this,S))}else if($&&$.length){if($=$.slice(),P>3)for(S=new Array(P-1),W=1;W<P;W++)S[W-1]=arguments[W];for(I=0,M=$.length;I<M;I++)switch(this.event=m,P){case 1:E.push($[I].call(this));break;case 2:E.push($[I].call(this,arguments[1]));break;case 3:E.push($[I].call(this,arguments[1],arguments[2]));break;default:E.push($[I].apply(this,S))}}else if(!this.ignoreErrors&&!this._all&&m==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(E)},C.prototype.on=function(m,y,v){return this._on(m,y,!1,v)},C.prototype.prependListener=function(m,y,v){return this._on(m,y,!0,v)},C.prototype.onAny=function(m){return this._onAny(m,!1)},C.prototype.prependAny=function(m){return this._onAny(m,!0)},C.prototype.addListener=C.prototype.on,C.prototype._onAny=function(m,y){if(typeof m!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),y?this._all.unshift(m):this._all.push(m),this},C.prototype._on=function(m,y,v,w){if(typeof m=="function")return this._onAny(m,y),this;if(typeof y!="function")throw new Error("on only accepts instances of Function");this._events||c.call(this);var S=this,M;return w!==n&&(M=K.call(this,m,y,w),y=M[0],S=M[1]),this._newListener&&this.emit("newListener",m,y),this.wildcard?(Z.call(this,m,y,v),S):(this._events[m]?(typeof this._events[m]=="function"&&(this._events[m]=[this._events[m]]),v?this._events[m].unshift(y):this._events[m].push(y),!this._events[m].warned&&this._maxListeners>0&&this._events[m].length>this._maxListeners&&(this._events[m].warned=!0,f.call(this,this._events[m].length,m))):this._events[m]=y,S)},C.prototype.off=function(m,y){if(typeof y!="function")throw new Error("removeListener only takes instances of Function");var v,w=[];if(this.wildcard){var S=typeof m=="string"?m.split(this.delimiter):m.slice();if(w=H.call(this,null,S,this.listenerTree,0),!w)return this}else{if(!this._events[m])return this;v=this._events[m],w.push({_listeners:v})}for(var M=0;M<w.length;M++){var I=w[M];if(v=I._listeners,e(v)){for(var W=-1,E=0,P=v.length;E<P;E++)if(v[E]===y||v[E].listener&&v[E].listener===y||v[E]._origin&&v[E]._origin===y){W=E;break}if(W<0)continue;return this.wildcard?I._listeners.splice(W,1):this._events[m].splice(W,1),v.length===0&&(this.wildcard?delete I._listeners:delete this._events[m]),this._removeListener&&this.emit("removeListener",m,y),this}else(v===y||v.listener&&v.listener===y||v._origin&&v._origin===y)&&(this.wildcard?delete I._listeners:delete this._events[m],this._removeListener&&this.emit("removeListener",m,y))}return this.listenerTree&&we(this.listenerTree),this},C.prototype.offAny=function(m){var y=0,v=0,w;if(m&&this._all&&this._all.length>0){for(w=this._all,y=0,v=w.length;y<v;y++)if(m===w[y])return w.splice(y,1),this._removeListener&&this.emit("removeListenerAny",m),this}else{if(w=this._all,this._removeListener)for(y=0,v=w.length;y<v;y++)this.emit("removeListenerAny",w[y]);this._all=[]}return this},C.prototype.removeListener=C.prototype.off,C.prototype.removeAllListeners=function(m){if(m===n)return!this._events||c.call(this),this;if(this.wildcard){var y=H.call(this,null,m,this.listenerTree,0),v,w;if(!y)return this;for(w=0;w<y.length;w++)v=y[w],v._listeners=null;this.listenerTree&&we(this.listenerTree)}else this._events&&(this._events[m]=null);return this},C.prototype.listeners=function(m){var y=this._events,v,w,S,M,I;if(m===n){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!y)return[];for(v=u(y),M=v.length,S=[];M-- >0;)w=y[v[M]],typeof w=="function"?S.push(w):S.push.apply(S,w);return S}else{if(this.wildcard){if(I=this.listenerTree,!I)return[];var W=[],E=typeof m=="string"?m.split(this.delimiter):m.slice();return H.call(this,W,E,I,0),W}return y?(w=y[m],w?typeof w=="function"?[w]:w:[]):[]}},C.prototype.eventNames=function(m){var y=this._events;return this.wildcard?ye.call(this,this.listenerTree,[],null,m):y?u(y):[]},C.prototype.listenerCount=function(m){return this.listeners(m).length},C.prototype.hasListeners=function(m){if(this.wildcard){var y=[],v=typeof m=="string"?m.split(this.delimiter):m.slice();return H.call(this,y,v,this.listenerTree,0),y.length>0}var w=this._events,S=this._all;return!!(S&&S.length||w&&(m===n?u(w).length:w[m]))},C.prototype.listenersAny=function(){return this._all?this._all:[]},C.prototype.waitFor=function(m,y){var v=this,w=typeof y;return w==="number"?y={timeout:y}:w==="function"&&(y={filter:y}),y=_(y,{timeout:0,filter:n,handleError:!1,Promise,overload:!1},{filter:A,Promise:O}),Y(y.Promise,function(S,M,I){function W(){var E=y.filter;if(!(E&&!E.apply(v,arguments)))if(v.off(m,W),y.handleError){var P=arguments[0];P?M(P):S(p.apply(null,arguments).slice(1))}else S(p.apply(null,arguments))}I(function(){v.off(m,W)}),v._on(m,W,!1)},{timeout:y.timeout,overload:y.overload})};function J(m,y,v){v=_(v,{Promise,timeout:0,overload:!1},{Promise:O});var w=v.Promise;return Y(w,function(S,M,I){var W;if(typeof m.addEventListener=="function"){W=function(){S(p.apply(null,arguments))},I(function(){m.removeEventListener(y,W)}),m.addEventListener(y,W,{once:!0});return}var E=function(){P&&m.removeListener("error",P),S(p.apply(null,arguments))},P;y!=="error"&&(P=function($){m.removeListener(y,E),M($)},m.once("error",P)),I(function(){P&&m.removeListener("error",P),m.removeListener(y,E)}),m.once(y,E)},{timeout:v.timeout,overload:v.overload})}var q=C.prototype;if(Object.defineProperties(C,{defaultMaxListeners:{get:function(){return q._maxListeners},set:function(m){if(typeof m!="number"||m<0||Number.isNaN(m))throw TypeError("n must be a non-negative number");q._maxListeners=m},enumerable:!0},once:{value:J,writable:!0,configurable:!0}}),Object.defineProperties(q,{_maxListeners:{value:r,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),typeof define=="function"&&define.amd)define(function(){return C});else if(typeof KS=="object")QS.exports=C;else{var oe=new Function("","return this")();oe.EventEmitter2=C}})()});function py(n,t){let e=rn.getLogger("tasks");switch(n){case"trace":e.trace(t);break;case"debug":e.debug(t);break;case"info":e.info(t);break;case"warn":e.warn(t);break;case"error":e.error(t);break;default:break}}var N2,ZS,dy,rn,fy,$s=te(()=>{"use strict";N2=require("obsidian"),ZS=Yo(XS()),dy=class extends ZS.EventEmitter2{constructor(){super(...arguments);this.options={minLevels:{"":"info",tasks:"info"}};this.consoleLoggerRegistered=!1;this.arrAvg=e=>e.reduce((r,i)=>r+i,0)/e.length}configure(e){return this.options=Object.assign({},this.options,e),this}getLogger(e){let r="none",i="";for(let s in this.options.minLevels)e.startsWith(s)&&s.length>=i.length&&(r=this.options.minLevels[s],i=s);return new fy(this,e,r)}onLogEntry(e){return this.on("log",e),this}registerConsoleLogger(){return this.consoleLoggerRegistered?this:(this.onLogEntry(e=>{let r=`[${window.moment().format("YYYY-MM-DD-HH:mm:ss.SSS")}][${e.level}][${e.module}]`;switch(e.traceId&&(r+=`[${e.traceId}]`),r+=` ${e.message}`,e.objects===void 0&&(e.objects=""),e.level){case"trace":console.trace(r,e.objects);break;case"debug":console.debug(r,e.objects);break;case"info":console.info(r,e.objects);break;case"warn":console.warn(r,e.objects);break;case"error":console.error(r,e.objects);break;default:console.log(`{${e.level}} ${r}`,e.objects)}}),this.consoleLoggerRegistered=!0,this)}},rn=new dy,fy=class{constructor(t,e,r){this.levels={trace:1,debug:2,info:3,warn:4,error:5};this.logManager=t,this.module=e,this.minLevel=this.levelToInt(r)}levelToInt(t){return t.toLowerCase()in this.levels?this.levels[t.toLowerCase()]:99}log(t,e,r){if(this.levelToInt(t)<this.minLevel)return;let s={level:t,module:this.module,message:e,objects:r,traceId:void 0};this.logManager.emit("log",s)}trace(t,e){this.log("trace",t,e)}debug(t,e){this.log("debug",t,e)}info(t,e){this.log("info",t,e)}warn(t,e){this.log("warn",t,e)}error(t,e){this.log("error",t,e)}logWithId(t,e,r,i){if(this.levelToInt(t)<this.minLevel)return;let a={level:t,module:this.module,message:r,objects:i,traceId:e};this.logManager.emit("log",a)}traceWithId(t,e,r){this.logWithId("trace",t,e,r)}debugWithId(t,e,r){this.logWithId("debug",t,e,r)}infoWithId(t,e,r){this.logWithId("info",t,e,r)}warnWithId(t,e,r){this.logWithId("warn",t,e,r)}errorWithId(t,e,r){this.logWithId("error",t,e,r)}}});function ud(n,t,e){n.debug(`${t}: task line number: ${e.taskLocation.lineNumber}. file path: "${e.path}"`),n.debug(`${t} original: ${e.originalMarkdown}`)}function cd(n,t,e){e.map((r,i)=>{n.debug(`${t} ==> ${i+1}   : ${r.toFileLineString()}`)})}var my=te(()=>{"use strict"});var Ft,Gi=te(()=>{"use strict";nn();Nt();Ft=class{static fromPath(t){let{useFilenameAsScheduledDate:e,filenameAsDateFolders:r}=le();return!e||!this.matchesAnyFolder(r,t)?null:this.extractDateFromPath(t)}static matchesAnyFolder(t,e){return t.length===0?!0:t.some(r=>e.startsWith(r+"/"))}static extractDateFromPath(t){let e=Math.max(0,t.lastIndexOf("/")+1),r=t.lastIndexOf("."),i=t.substring(e,r),{filenameAsScheduledDateFormat:s}=le();if(s!==""){let o=window.moment(i,s,!0);if(o.isValid())return o}let a=/(\d{4})-(\d{2})-(\d{2})/.exec(i);if(a||(a=/(\d{4})(\d{2})(\d{2})/.exec(i)),a){let o=window.moment([parseInt(a[1]),parseInt(a[2])-1,parseInt(a[3])]);if(o.isValid())return o}return null}static canApplyFallback({startDate:t,scheduledDate:e,dueDate:r}){return t===null&&r===null&&e===null}static updateTaskPath(t,e,r){let i=t.scheduledDate,s=t.scheduledDateIsInferred;return r===null?s&&(s=!1,i=null):s?i=r:this.canApplyFallback(t)&&(i=r,s=!0),new fe(me(U({},t),{taskLocation:e,scheduledDate:i,scheduledDateIsInferred:s}))}static removeInferredStatusIfNeeded(t,e){let r=t.scheduledDateIsInferred?t.scheduledDate:null;return e.map(i=>(r!==null&&!r.isSame(i.scheduledDate,"day")&&(i=new fe(me(U({},i),{scheduledDateIsInferred:!1}))),i))}}});var Dr,ki,JS=te(()=>{"use strict";Dr=class{static calculate(t){var r,i,s;let e=0;if((r=t.dueDate)!=null&&r.isValid()){let a=window.moment().startOf("day"),o=Math.round(a.diff(t.dueDate)/Dr.milliSecondsPerDay),l;o>=7?l=1:o>=-14?l=(o+14)*.8/21+.2:l=.2,e+=l*Dr.dueCoefficient}switch((i=t.scheduledDate)!=null&&i.isValid()&&window.moment().isSameOrAfter(t.scheduledDate)&&(e+=1*Dr.scheduledCoefficient),(s=t.startDate)!=null&&s.isValid()&&window.moment().isBefore(t.startDate)&&(e+=1*Dr.startedCoefficient),t.priority){case"0":e+=1.5*Dr.priorityCoefficient;break;case"1":e+=1*Dr.priorityCoefficient;break;case"2":e+=.65*Dr.priorityCoefficient;break;case"3":e+=.325*Dr.priorityCoefficient;break;case"5":e-=.3*Dr.priorityCoefficient;break}return e}},ki=Dr;ki.dueCoefficient=12,ki.scheduledCoefficient=5,ki.startedCoefficient=-3,ki.priorityCoefficient=6,ki.milliSecondsPerDay=1e3*60*60*24});var eE={};Eb(eE,{Task:()=>fe,isBlocked:()=>I2});function I2(n,t){if(n.dependsOn.length===0||n.isDone)return!1;for(let e of n.dependsOn)if(!!t.find(i=>i.id===e&&!i.isDone))return!0;return!1}var fe,Nt=te(()=>{"use strict";nn();Cn();wi();Cs();ld();Jn();lu();$s();my();Gi();dd();JS();ii();Zc();fe=class extends Vr{constructor({status:e,description:r,taskLocation:i,indentation:s,listMarker:a,priority:o,createdDate:l,startDate:u,scheduledDate:c,dueDate:d,doneDate:f,cancelledDate:p,recurrence:b,onCompletion:T,dependsOn:_,id:O,blockLink:D,tags:A,originalMarkdown:j,scheduledDateIsInferred:Y,parent:se=null}){super(j,se);this._urgency=null;this.status=e,this.description=r,this.indentation=s,this.listMarker=a,this.taskLocation=i,this.tags=A,this.priority=o,this.createdDate=l,this.startDate=u,this.scheduledDate=c,this.dueDate=d,this.doneDate=f,this.cancelledDate=p,this.recurrence=b,this.onCompletion=T,this.dependsOn=_,this.id=O,this.blockLink=D,this.scheduledDateIsInferred=Y}static fromLine({line:e,taskLocation:r,fallbackDate:i}){let s=fe.extractTaskComponents(e);return s===null||!Fe.getInstance().includedIn(s.body)?null:fe.parseTaskSignifiers(e,r,i)}static parseTaskSignifiers(e,r,i){let s=fe.extractTaskComponents(e);if(s===null)return null;let{taskSerializer:a}=uu(),o=a.deserialize(s.body),l=!1;return Ft.canApplyFallback(o)&&i!==null&&(o.scheduledDate=i,l=!0),o.tags=o.tags.map(u=>u.trim()),o.tags=o.tags.filter(u=>!Fe.getInstance().equals(u)),new fe(me(U(U({},s),o),{taskLocation:r,originalMarkdown:e,scheduledDateIsInferred:l}))}static extractTaskComponents(e){let r=e.match(de.taskRegex);if(r===null)return null;let i=r[1],s=r[2],a=r[3],o=Be.getInstance().bySymbolOrCreate(a),l=r[4].trim(),u=l.match(de.blockLinkRegex),c=u!==null?u[0]:"";return c!==""&&(l=l.replace(de.blockLinkRegex,"").trim()),{indentation:i,listMarker:s,status:o,body:l,blockLink:c}}toString(){return uu().taskSerializer.serialize(this)}toFileLineString(){return`${this.indentation}${this.listMarker} [${this.status.symbol}] ${this.toString()}`}toggle(){let e=rn.getLogger("tasks.Task"),r="toggle()";ud(e,r,this);let i=Be.getInstance().getNextStatusOrCreate(this.status),s=this.handleNewStatus(i);return cd(e,r,s),s}handleNewStatus(e,r=window.moment()){if(e.identicalTo(this.status))return[this];let{setDoneDate:i}=le(),s=this.newDate(e,"DONE",this.doneDate,i,r),{setCancelledDate:a}=le(),o=this.newDate(e,"CANCELLED",this.cancelledDate,a,r),l=new fe(me(U({},this),{status:e,doneDate:s,cancelledDate:o})),u=!e.isCompleted(),c=this.status.isCompleted(),d=this.recurrence===null;if(u||c||d)return[l];let p=this.recurrence.next(r);return p===null?[l]:[this.createNextOccurrence(e,p),l]}newDate(e,r,i,s,a){let o=null;return e.type===r&&(this.status.type!==r?s&&(o=a):o=i),o}createNextOccurrence(e,r){let{setCreatedDate:i}=le(),s=null;i&&(s=window.moment());let a=null,o=null,u=Be.getInstance().getNextRecurrenceStatusOrCreate(e);return new fe(me(U(U({},this),r),{status:u,blockLink:"",id:"",dependsOn:[],createdDate:s,cancelledDate:a,doneDate:o}))}toggleWithRecurrenceInUsersOrder(){let e=this.toggle();return this.putRecurrenceInUsersOrder(e)}handleNewStatusWithRecurrenceInUsersOrder(e,r=window.moment()){rn.getLogger("tasks.Task").debug(`changed task ${this.taskLocation.path} ${this.taskLocation.lineNumber} ${this.originalMarkdown} status to '${e.symbol}'`);let s=this.handleNewStatus(e,r);return this.putRecurrenceInUsersOrder(s)}putRecurrenceInUsersOrder(e){let r=CS(this,e),{recurrenceOnNextLine:i}=le();return i?r.reverse():r}get isTask(){return!0}get isDone(){return this.status.type==="DONE"||this.status.type==="CANCELLED"||this.status.type==="NON_TASK"}isBlocked(e){if(this.dependsOn.length===0||this.isDone)return!1;for(let r of this.dependsOn)if(!!e.find(s=>s.id===r&&!s.isDone))return!0;return!1}isBlocking(e){return this.id===""||this.isDone?!1:e.some(r=>r.isDone?!1:r.dependsOn.includes(this.id))}get priorityNumber(){return Number.parseInt(this.priority)}get priorityNameGroupText(){let e=Mn.priorityNameUsingNormal(this.priority);return`%%${this.priority}%%${e} priority`}get descriptionWithoutTags(){return this.description.replace(de.hashTags,"").trim()}get priorityName(){return Mn.priorityNameUsingNormal(this.priority)}get urgency(){return this._urgency===null&&(this._urgency=ki.calculate(this)),this._urgency}get path(){return this.taskLocation.path}get cancelled(){return new It(this.cancelledDate)}get created(){return new It(this.createdDate)}get done(){return new It(this.doneDate)}get due(){return new It(this.dueDate)}get scheduled(){return new It(this.scheduledDate)}get start(){return new It(this.startDate)}get happensDates(){return Array.of(this.startDate,this.scheduledDate,this.dueDate)}get happens(){let e=this.happensDates,r=Array.from(e).sort(zn);for(let i of r)if(i!=null&&i.isValid())return new It(i);return new It(null)}get isRecurring(){return this.recurrence!==null}get recurrenceRule(){return this.recurrence?this.recurrence.toText():""}get heading(){return this.precedingHeader}get hasHeading(){return this.precedingHeader!==null}get file(){return this.taskLocation.tasksFile}get filename(){let e=this.path.match(/([^/]+)\.md$/);return e!==null?e[1]:null}get lineNumber(){return this.taskLocation.lineNumber}get sectionStart(){return this.taskLocation.sectionStart}get sectionIndex(){return this.taskLocation.sectionIndex}get precedingHeader(){return this.taskLocation.precedingHeader}getLinkText({isFilenameUnique:e}){let r;return e?r=this.filename:r="/"+this.path,r===null?null:(this.precedingHeader!==null&&this.precedingHeader!==r&&(r=r+" > "+this.precedingHeader),r)}identicalTo(e){var i,s;if(!super.identicalTo(e))return!1;let r=["description","path","indentation","listMarker","lineNumber","sectionStart","sectionIndex","precedingHeader","priority","blockLink","scheduledDateIsInferred","id","dependsOn","onCompletion"];for(let a of r)if(((i=this[a])==null?void 0:i.toString())!==((s=e[a])==null?void 0:s.toString()))return!1;if(!this.status.identicalTo(e.status)||this.tags.length!==e.tags.length||!this.tags.every(function(a,o){return a===e.tags[o]}))return!1;r=fe.allDateFields();for(let a of r){let o=this[a],l=e[a];if(zn(o,l)!==0)return!1}return this.recurrenceIdenticalTo(e)?this.file.rawFrontmatterIdenticalTo(e.file):!1}recurrenceIdenticalTo(e){let r=this.recurrence,i=e.recurrence;return!(r===null&&i!==null||r!==null&&i===null||r&&i&&!r.identicalTo(i))}static allDateFields(){return["createdDate","startDate","scheduledDate","dueDate","doneDate","cancelledDate"]}static extractHashtags(e){var r,i;return(i=(r=e.match(de.hashTags))==null?void 0:r.map(s=>s.trim()))!=null?i:[]}}});var Vr,dd=te(()=>{"use strict";ii();Vr=class{constructor(t,e){this.parent=null;this.children=[];this.statusCharacter=null;var i;this.description=t.replace(de.listItemRegex,"").trim();let r=RegExp(de.nonTaskRegex).exec(t);r&&(this.description=r[5].trim(),this.statusCharacter=(i=r[4])!=null?i:null),this.originalMarkdown=t,this.parent=e,e!==null&&e.children.push(this)}get root(){return this.parent===null?this:this.parent.root}get isRoot(){return this.parent===null}findClosestParentTask(){let t=this.parent;for(;t!==null;){let{Task:e}=(Nt(),xb(eE));if(t instanceof e)return t;t=t.parent}return null}get isTask(){return!1}identicalTo(t){return this.constructor.name!==t.constructor.name||this.originalMarkdown!==t.originalMarkdown?!1:Vr.listsAreIdentical(this.children,t.children)}static listsAreIdentical(t,e){return t.length!==e.length?!1:t.every((r,i)=>r.identicalTo(e[i]))}}});var pD=x(Gy=>{"use strict";Object.defineProperty(Gy,"__esModule",{value:!0});var dD=Symbol("MustacheDataPath");function cD({target:n,propertyName:t}){return[...n[dD]||[],t]}function fD(n,t){return typeof n!="object"?n:new Proxy(n,{get(e,r){let i=e[r];if(i===void 0&&!(r in e)){let s=cD({target:e,propertyName:r});if(t!=null&&t.handleError)return t.handleError(s),i;throw Error(`Missing Mustache data property: ${s.join(" > ")}`)}return i&&typeof i=="object"?(i[dD]=cD({target:e,propertyName:r}),fD(i,t)):i}})}Gy.default=fD});var Zr=x(Rr=>{"use strict";Rr.__esModule=!0;Rr.Tokens=Rr.StructuralCharacters=Rr.Operators=void 0;var fj;(function(n){n.AND="AND",n.OR="OR",n.XOR="XOR",n.NOT="NOT"})(fj=Rr.Operators||(Rr.Operators={}));var pj;(function(n){n.OPEN_PARENTHESIS="(",n.CLOSE_PARENTHESIS=")"})(pj=Rr.StructuralCharacters||(Rr.StructuralCharacters={}));var mj;(function(n){n.IDENTIFIER="IDENTIFIER",n.OPERATOR="OPERATOR",n.STRUCTURAL_CHARACTER="STRUCTURAL_CHARACTER",n.EOF="EOF",n.COMMENT="COMMENT"})(mj=Rr.Tokens||(Rr.Tokens={}))});var Qy=x(fo=>{"use strict";fo.__esModule=!0;fo.VALID_TOKENS=fo.OPERATOR_PRECEDENCE=void 0;var rt=Zr();fo.OPERATOR_PRECEDENCE={NOT:0,XOR:1,AND:2,OR:3};fo.VALID_TOKENS={identifierOnly:[{name:rt.Tokens.IDENTIFIER},{name:rt.Tokens.STRUCTURAL_CHARACTER,value:rt.StructuralCharacters.OPEN_PARENTHESIS}],identifierOrNot:[{name:rt.Tokens.IDENTIFIER},{name:rt.Tokens.STRUCTURAL_CHARACTER,value:rt.StructuralCharacters.OPEN_PARENTHESIS},{name:rt.Tokens.OPERATOR,value:rt.Operators.NOT}],binaryOperator:[{name:rt.Tokens.OPERATOR,value:rt.Operators.AND},{name:rt.Tokens.OPERATOR,value:rt.Operators.OR},{name:rt.Tokens.OPERATOR,value:rt.Operators.XOR}],binaryOperatorOrClose:[{name:rt.Tokens.OPERATOR,value:rt.Operators.AND},{name:rt.Tokens.OPERATOR,value:rt.Operators.OR},{name:rt.Tokens.OPERATOR,value:rt.Operators.XOR},{name:rt.Tokens.STRUCTURAL_CHARACTER,value:rt.StructuralCharacters.CLOSE_PARENTHESIS}]}});var Xy=x(Vt=>{"use strict";Vt.__esModule=!0;Vt.ESCAPE_CHARACTER=Vt.EOL=Vt.COMMENT_DELIMITER=Vt.QUOTED_IDENTIFIER_DELIMITER=Vt.SEPARATORS=Vt.OPERATORS=Vt.STRUCTURAL_CHARACTERS=void 0;var po=Zr();Vt.STRUCTURAL_CHARACTERS={"(":po.StructuralCharacters.OPEN_PARENTHESIS,")":po.StructuralCharacters.CLOSE_PARENTHESIS};Vt.OPERATORS={AND:po.Operators.AND,OR:po.Operators.OR,XOR:po.Operators.XOR,NOT:po.Operators.NOT};Vt.SEPARATORS=new Set([32,9,10,13].map(function(n){return String.fromCodePoint(n)}));Vt.QUOTED_IDENTIFIER_DELIMITER=String.fromCodePoint(34);Vt.COMMENT_DELIMITER=String.fromCodePoint(35);Vt.EOL=String.fromCodePoint(10);Vt.ESCAPE_CHARACTER=String.fromCodePoint(92)});var TD=x(ur=>{"use strict";var Zy=ur&&ur.__assign||function(){return Zy=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Zy.apply(this,arguments)};ur.__esModule=!0;ur.getQuotedIdentifier=ur.getComment=ur.createResult=void 0;var bD=Zr(),ta=Xy(),hj=function(n,t,e){return{token:Zy({name:n},t!==null?{value:t}:{}),remainingString:e}};ur.createResult=hj;var gj=function(n){for(var t=n.length,e=0;e<n.length;e+=1){var r=n[e];if(r===ta.EOL){t=e;break}}return(0,ur.createResult)(bD.Tokens.COMMENT,n.slice(0,t),n.slice(t+1))};ur.getComment=gj;var yj=function(n){for(var t=!1,e="",r=null,i=0;i<n.length;i+=1){var s=n[i];if(r===null)s===ta.QUOTED_IDENTIFIER_DELIMITER?t?(e=e.slice(0,-1)+ta.QUOTED_IDENTIFIER_DELIMITER,t=!1):r=i:(s===ta.ESCAPE_CHARACTER?t=!0:t=!1,e=e+=s);else{if(!ta.SEPARATORS.has(s)&&!ta.STRUCTURAL_CHARACTERS[s])throw new Error("Unexpected character: ".concat(s," Expected ) character or separator"));break}}if(r===null)throw new Error("Unexpected end of expression: expected ".concat(ta.QUOTED_IDENTIFIER_DELIMITER," character"));return(0,ur.createResult)(bD.Tokens.IDENTIFIER,e,n.slice(r+1))};ur.getQuotedIdentifier=yj});var _D=x($d=>{"use strict";$d.__esModule=!0;$d.lex=void 0;var mo=Zr(),Pn=Xy(),ho=TD(),bj=function(n){for(var t=null,e=null,r=null,i=0;i<n.length;i+=1){var s=n[i];if(t===null){if(!Pn.SEPARATORS.has(s)){var a=Pn.STRUCTURAL_CHARACTERS[s];if(a){var o=n[i+1];if(a===mo.StructuralCharacters.CLOSE_PARENTHESIS&&o&&!Pn.SEPARATORS.has(o)&&o!==mo.StructuralCharacters.CLOSE_PARENTHESIS)throw new Error("Unexpected character: ".concat(o,". A closing parenthesis should be followed by another closing parenthesis or whitespace"));return(0,ho.createResult)(mo.Tokens.STRUCTURAL_CHARACTER,Pn.STRUCTURAL_CHARACTERS[s],n.slice(i+1))}if(s===Pn.QUOTED_IDENTIFIER_DELIMITER)return(0,ho.getQuotedIdentifier)(n.slice(i+1));if(s===Pn.COMMENT_DELIMITER)return(0,ho.getComment)(n.slice(i+1));t=i}}else if(Pn.SEPARATORS.has(s)||Pn.STRUCTURAL_CHARACTERS[s]){e=i,r=s;break}else if(s===Pn.QUOTED_IDENTIFIER_DELIMITER||s===Pn.COMMENT_DELIMITER)throw new Error("Unexpected character: ".concat(s))}if(t!==null){e=e!=null?e:n.length;var l=n.slice(t,e),u=n.slice(e);if(Pn.OPERATORS[l]){if(r&&!Pn.SEPARATORS.has(r))throw new Error("Unexpected character: ".concat(r,". Operators should be separated using whitespace"));return(0,ho.createResult)(mo.Tokens.OPERATOR,Pn.OPERATORS[l],u)}else return(0,ho.createResult)(mo.Tokens.IDENTIFIER,l,u)}return(0,ho.createResult)(mo.Tokens.EOF,null,"")};$d.lex=bj});var wD=x(Nn=>{"use strict";var vD=Nn&&Nn.__spreadArray||function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return n.concat(s||Array.prototype.slice.call(t))};Nn.__esModule=!0;Nn.validateToken=Nn.previousOperatorTakesPrecedent=Nn.getValue=Nn.newTokenGenerator=void 0;var Tj=_D(),go=Zr(),qd=Qy(),_j=function(n){var t=n;return function(e,r){for(r===void 0&&(r=!1);;){var i=(0,Tj.lex)(t),s=i.token,a=i.remainingString;if(t=a,s.name!==go.Tokens.COMMENT)return(0,Nn.validateToken)(s,e,r),s}}};Nn.newTokenGenerator=_j;var vj=function(n,t){var e=n(qd.VALID_TOKENS.identifierOrNot),r=e.value===go.Operators.NOT;r&&(e=n(qd.VALID_TOKENS.identifierOnly));var i=e.name===go.Tokens.STRUCTURAL_CHARACTER?t(n,!0):[e];return r?vD(vD([],i,!0),[{name:go.Tokens.OPERATOR,value:go.Operators.NOT}],!1):i};Nn.getValue=vj;var wj=function(n,t){return qd.OPERATOR_PRECEDENCE[n]<=qd.OPERATOR_PRECEDENCE[t]};Nn.previousOperatorTakesPrecedent=wj;var kj=function(n,t,e){if(e===void 0&&(e=!1),n.name===go.Tokens.EOF){if(e)return;throw new Error("Unexpected end of expression")}for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.name===n.name&&(!s.value||s.value===n.value))return}throw new TypeError("Invalid token")};Nn.validateToken=kj});var eb=x(yo=>{"use strict";var Jr=yo&&yo.__spreadArray||function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return n.concat(s||Array.prototype.slice.call(t))};yo.__esModule=!0;yo.parse=void 0;var kD=Zr(),SD=Qy(),Yd=wD(),Sj=function(n){if(typeof n!="string")throw new Error("Expected string but received ".concat(typeof n));var t=(0,Yd.newTokenGenerator)(n);return Jy(t)};yo.parse=Sj;var Jy=function(n,t){t===void 0&&(t=!1);for(var e=Jr([],(0,Yd.getValue)(n,Jy),!0),r=[];;){var i=t?SD.VALID_TOKENS.binaryOperatorOrClose:SD.VALID_TOKENS.binaryOperator,s=n(i,!t);if(s.name===kD.Tokens.EOF||s.name===kD.Tokens.STRUCTURAL_CHARACTER)return Jr(Jr([],e,!0),Jr([],r,!0).reverse(),!0);for(;r.length;){var a=r[r.length-1]||null;if(a&&(0,Yd.previousOperatorTakesPrecedent)(a.value,s.value))e=Jr(Jr([],e,!0),[a],!1),r=r.slice(0,-1);else break}r=Jr(Jr([],r,!0),[s],!1),e=Jr(Jr([],e,!0),(0,Yd.getValue)(n,Jy),!0)}}});var tb=x(zt=>{"use strict";zt.__esModule=!0;zt.throwInvalidExpression=zt.isOperator=zt.isIdentifier=zt.notUtil=zt.xorUtil=zt.orUtil=zt.andUtil=void 0;var ED=Zr(),Ej=function(n,t){return n&&t};zt.andUtil=Ej;var Dj=function(n,t){return n||t};zt.orUtil=Dj;var xj=function(n,t){return n!==t};zt.xorUtil=xj;var Oj=function(n){return!n};zt.notUtil=Oj;var Cj=function(n){var t=n.name,e=n.value;return t===ED.Tokens.IDENTIFIER&&typeof e=="string"};zt.isIdentifier=Cj;var Mj=function(n){var t=n.name,e=n.value;return t===ED.Tokens.OPERATOR&&typeof e=="string"};zt.isOperator=Mj;var Rj=function(n){throw new TypeError("Invalid postfix expression: ".concat(n))};zt.throwInvalidExpression=Rj});var DD=x(Hd=>{"use strict";var Du;Hd.__esModule=!0;Hd.OPERATOR_MAP=void 0;var nb=Zr(),rb=tb();Hd.OPERATOR_MAP=(Du={},Du[nb.Operators.AND]=rb.andUtil,Du[nb.Operators.OR]=rb.orUtil,Du[nb.Operators.XOR]=rb.xorUtil,Du)});var OD=x(cr=>{"use strict";var bo=cr&&cr.__spreadArray||function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return n.concat(s||Array.prototype.slice.call(t))};cr.__esModule=!0;cr.evaluateExpression=cr.evaluate=cr.getEvaluator=void 0;var Aj=eb(),xD=Zr(),Pj=DD(),na=tb(),Nj=function(n){var t=(0,Aj.parse)(n);return function(e){return(0,cr.evaluate)(t,e)}};cr.getEvaluator=Nj;var Ij=function(n,t){if(!Array.isArray(n))throw new Error("".concat(n," should be an array. evaluate takes in a parsed expression. Use in combination with parse or use getEvaluator"));var e=n.reduce(function(r,i,s){if(!(i&&((0,na.isIdentifier)(i)||(0,na.isOperator)(i))))throw new Error("Invalid token: ".concat(i,". Found in parsed expression at index ").concat(s));if(i.name===xD.Tokens.IDENTIFIER)return bo(bo([],r,!0),[Boolean(t[i.value])],!1);var a=r[r.length-2],o=r[r.length-1];if(i.value===xD.Operators.NOT)return o===void 0&&(0,na.throwInvalidExpression)("missing identifier"),bo(bo([],r.slice(0,-1),!0),[(0,na.notUtil)(o)],!1);(o===void 0||a===void 0)&&(0,na.throwInvalidExpression)("missing identifier");var l=Pj.OPERATOR_MAP[i.value];return l||(0,na.throwInvalidExpression)("unknown operator"),bo(bo([],r.slice(0,-2),!0),[l(a,o)],!1)},[]);return e.length!==1&&(0,na.throwInvalidExpression)("too many identifiers after evaluation"),e[0]};cr.evaluate=Ij;var Fj=function(n,t){return(0,cr.getEvaluator)(n)(t)};cr.evaluateExpression=Fj});var MD=x(ei=>{"use strict";var ib=ei&&ei.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(n,r,i)}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]});ei.__esModule=!0;ei.parse=ei.evaluate=ei.getEvaluator=void 0;var CD=OD();ib(ei,CD,"getEvaluator");ib(ei,CD,"evaluate");var Lj=eb();ib(ei,Lj,"parse")});var rW={};Eb(rW,{default:()=>Rf});module.exports=xb(rW);var R0=require("obsidian");gs();var Va=require("obsidian");var OW=new Error("timeout while waiting for mutex to become available"),CW=new Error("mutex already locked"),fx=new Error("request for lock canceled"),px=function(n,t,e,r){function i(s){return s instanceof e?s:new e(function(a){a(s)})}return new(e||(e=Promise))(function(s,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?s(c.value):i(c.value).then(o,l)}u((r=r.apply(n,t||[])).next())})},Hf=class{constructor(t,e=fx){this._value=t,this._cancelError=e,this._weightedQueues=[],this._weightedWaiters=[]}acquire(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((e,r)=>{this._weightedQueues[t-1]||(this._weightedQueues[t-1]=[]),this._weightedQueues[t-1].push({resolve:e,reject:r}),this._dispatch()})}runExclusive(t,e=1){return px(this,void 0,void 0,function*(){let[r,i]=yield this.acquire(e);try{return yield t(r)}finally{i()}})}waitForUnlock(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise(e=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),this._weightedWaiters[t-1].push(e),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatch()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatch()}cancel(){this._weightedQueues.forEach(t=>t.forEach(e=>e.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var t;for(let e=this._value;e>0;e--){let r=(t=this._weightedQueues[e-1])===null||t===void 0?void 0:t.shift();if(!r)continue;let i=this._value,s=e;this._value-=e,e=this._value+1,r.resolve([i,this._newReleaser(s)])}this._drainUnlockWaiters()}_newReleaser(t){let e=!1;return()=>{e||(e=!0,this.release(t))}}_drainUnlockWaiters(){for(let t=this._value;t>0;t--)!this._weightedWaiters[t-1]||(this._weightedWaiters[t-1].forEach(e=>e()),this._weightedWaiters[t-1]=[])}},mx=function(n,t,e,r){function i(s){return s instanceof e?s:new e(function(a){a(s)})}return new(e||(e=Promise))(function(s,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?s(c.value):i(c.value).then(o,l)}u((r=r.apply(n,t||[])).next())})},qu=class{constructor(t){this._semaphore=new Hf(1,t)}acquire(){return mx(this,void 0,void 0,function*(){let[,t]=yield this._semaphore.acquire();return t})}runExclusive(t){return this._semaphore.runExclusive(()=>t())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}};var Yu=require("obsidian"),mt=class{constructor(t,e={}){this._frontmatter={tags:[]};this._tags=[];var i,s;this._path=t,this._cachedMetadata=e;let r=e.frontmatter;if(r!==void 0&&(this._frontmatter=JSON.parse(JSON.stringify(r)),this._frontmatter.tags=(i=(0,Yu.parseFrontMatterTags)(r))!=null?i:[]),Object.keys(e).length!==0){let a=(s=(0,Yu.getAllTags)(this.cachedMetadata))!=null?s:[];this._tags=[...new Set(a)]}}get path(){return this._path}get tags(){return this._tags}get cachedMetadata(){return this._cachedMetadata}get frontmatter(){return this._frontmatter}rawFrontmatterIdenticalTo(t){let e=this.cachedMetadata.frontmatter,r=t.cachedMetadata.frontmatter;return e===r?!0:!e||!r?!1:JSON.stringify(e)===JSON.stringify(r)}get pathWithoutExtension(){return this.withoutExtension(this.path)}withoutExtension(t){return t.replace(/\.md$/,"")}get root(){let t=this.path.replace(/\\/g,"/");t.charAt(0)==="/"&&(t=t.substring(1));let e=t.indexOf("/");return e==-1?"/":t.substring(0,e+1)}get folder(){let t=this.path,e=this.filename,r=t.substring(0,t.lastIndexOf(e));return r===""?"/":r}get filename(){let t=this.path.match(/([^/]+)$/);return t!==null?t[1]:""}get filenameWithoutExtension(){return this.withoutExtension(this.filename)}hasProperty(t){let e=this.findKeyInFrontmatter(t);if(e===void 0)return!1;let r=this.frontmatter[e];return!(r===null||r===void 0)}property(t){let e=this.findKeyInFrontmatter(t);if(e===void 0)return null;let r=this.frontmatter[e];return r===void 0?null:Array.isArray(r)?r.filter(i=>i!==null):r}findKeyInFrontmatter(t){let e=t.toLowerCase();return Object.keys(this.frontmatter).find(r=>r.toLowerCase()===e)}};dd();Nt();Gi();nn();var Ba=class{constructor(t){this.fetch=t;this._value=void 0}get value(){return this._value===void 0&&(this._value=this.fetch()),this._value}};$s();Nt();Gi();dd();var Lt=class{constructor(t,e,r,i,s){this._tasksFile=t,this._lineNumber=e,this._sectionStart=r,this._sectionIndex=i,this._precedingHeader=s}static fromUnknownPosition(t){return new Lt(t,0,0,0,null)}fromRenamedFile(t){return new Lt(t,this.lineNumber,this.sectionStart,this.sectionIndex,this.precedingHeader)}get tasksFile(){return this._tasksFile}get path(){return this._tasksFile.path}get lineNumber(){return this._lineNumber}get sectionStart(){return this._sectionStart}get sectionIndex(){return this._sectionIndex}get precedingHeader(){return this._precedingHeader}get hasKnownPath(){return this.path!==""}allFieldsExceptTasksFileForTesting(){let r=U({},this),{_tasksFile:t}=r;return pa(r,["_tasksFile"])}};var fd=class{constructor(t,e,r,i,s,a){this.line2ListItem=new Map;this.tasks=[];this.filePath=t,this.fileContent=e,this.listItems=r,this.logger=i,this.fileCache=s,this.errorReporter=a,this.fileLines=this.fileContent.split(`
`),this.dateFromFileName=new Ba(()=>Ft.fromPath(this.filePath))}parseFileContent(){if(this.listItems===void 0)return this.tasks;let t=new mt(this.filePath,this.fileCache),e=this.fileLines.length,r=null,i=0;for(let s of this.listItems){let a=s.position.start.line;if(a>=e)return this.logger.debug(`${this.filePath} Obsidian gave us a line number ${a} past the end of the file. ${e}.`),this.tasks;if((r===null||r.position.end.line<a)&&(r=qs.getSection(a,this.fileCache.sections),i=0),r===null)continue;let o=this.fileLines[a];if(o===void 0){this.logger.debug(`${this.filePath}: line ${a} - ignoring 'undefined' line.`);continue}let l=new Lt(t,a,r.position.start.line,i,qs.getPrecedingHeader(a,this.fileCache.headings));i=this.parseLine(s,o,l,a,i)}return this.tasks}parseLine(t,e,r,i,s){var o;if(t.task===void 0)return this.createListItem(t,e,i),s;let a;try{if(a=fe.fromLine({line:e,taskLocation:r,fallbackDate:this.dateFromFileName.value}),a!==null){let l=(o=this.line2ListItem.get(t.parent))!=null?o:null;l!==null&&(a=new fe(me(U({},a),{parent:l}))),this.line2ListItem.set(i,a),a!==null&&(s++,this.tasks.push(a))}else this.createListItem(t,e,i)}catch(l){this.errorReporter(l,this.filePath,t,e)}return s}createListItem(t,e,r){var s;let i=(s=this.line2ListItem.get(t.parent))!=null?s:null;this.line2ListItem.set(r,new Vr(e,i))}};var qs=class{constructor({metadataCache:t,vault:e,workspace:r,events:i}){this.logger=rn.getLogger("tasks.Cache");this.logger.debug("Creating Cache object"),this.metadataCache=t,this.metadataCacheEventReferences=[],this.vault=e,this.workspace=r,this.vaultEventReferences=[],this.events=i,this.eventsEventReferences=[],this.tasksMutex=new qu,this.state="Cold",this.logger.debug("Cache.constructor(): state = Cold"),this.tasks=[],this.loadedAfterFirstResolve=!1,this.subscribeToCache(),this.workspace.onLayoutReady(()=>{this.subscribeToVault(),this.loadVault()}),this.subscribeToEvents()}unload(){this.logger.info("Unloading Cache");for(let t of this.metadataCacheEventReferences)this.metadataCache.offref(t);for(let t of this.vaultEventReferences)this.vault.offref(t);for(let t of this.eventsEventReferences)this.events.off(t)}getTasks(){return this.tasks}getState(){return this.state}notifySubscribers(){this.logger.debug("Cache.notifySubscribers()"),this.events.triggerCacheUpdate({tasks:this.tasks,state:this.state})}subscribeToCache(){this.logger.debug("Cache.subscribeToCache()");let t=this.metadataCache.on("resolved",()=>L(this,null,function*(){this.loadedAfterFirstResolve||(this.loadedAfterFirstResolve=!0,this.loadVault())}));this.metadataCacheEventReferences.push(t);let e=this.metadataCache.on("changed",r=>{this.tasksMutex.runExclusive(()=>{this.indexFile(r)})});this.metadataCacheEventReferences.push(e)}subscribeToVault(){this.logger.debug("Cache.subscribeToVault()");let{useFilenameAsScheduledDate:t}=le(),e=this.vault.on("create",s=>{s instanceof Va.TFile&&(this.logger.debug(`Cache.subscribeToVault.createdEventReference() ${s.path}`),this.tasksMutex.runExclusive(()=>{this.indexFile(s)}))});this.vaultEventReferences.push(e);let r=this.vault.on("delete",s=>{s instanceof Va.TFile&&(this.logger.debug(`Cache.subscribeToVault.deletedEventReference() ${s.path}`),this.tasksMutex.runExclusive(()=>{this.tasks=this.tasks.filter(a=>a.path!==s.path),this.notifySubscribers()}))});this.vaultEventReferences.push(r);let i=this.vault.on("rename",(s,a)=>{s instanceof Va.TFile&&(this.logger.debug(`Cache.subscribeToVault.renamedEventReference() ${s.path}`),this.tasksMutex.runExclusive(()=>{let o=this.metadataCache.getFileCache(s),l=new mt(s.path,o!=null?o:void 0),u=new Ba(()=>Ft.fromPath(s.path));this.tasks=this.tasks.map(c=>{if(c.path!==a)return c;let d=c.taskLocation.fromRenamedFile(l);return t?Ft.updateTaskPath(c,d,u.value):new fe(me(U({},c),{taskLocation:d}))}),this.notifySubscribers()}))});this.vaultEventReferences.push(i)}subscribeToEvents(){this.logger.debug("Cache.subscribeToEvents()");let t=this.events.onRequestCacheUpdate(e=>{e({tasks:this.tasks,state:this.state})});this.eventsEventReferences.push(t)}loadVault(){return this.logger.debug("Cache.loadVault()"),this.tasksMutex.runExclusive(()=>L(this,null,function*(){this.state="Initializing",this.logger.debug("Cache.loadVault(): state = Initializing"),yield Promise.all(this.vault.getMarkdownFiles().map(t=>this.indexFile(t))),this.state="Warm",this.logger.debug("Cache.loadVault(): state = Warm"),this.notifySubscribers()}))}indexFile(t){return L(this,null,function*(){let e=this.metadataCache.getFileCache(t);if(e==null)return;if(!t.path.endsWith(".md")){this.logger.debug("indexFile: skipping non-markdown file: "+t.path);return}this.logger.debug("Cache.indexFile: "+t.path);let r=this.tasks.filter(a=>a.path===t.path),i=e.listItems,s=[];if(i!==void 0){let a=yield this.vault.cachedRead(t);s=this.getTasksFromFileContent(a,i,e,t.path,this.reportTaskParsingErrorToUser,this.logger)}Vr.listsAreIdentical(r,s)||(this.tasks=this.tasks.filter(a=>a.path!==t.path),this.tasks.push(...s),this.logger.debug("Cache.indexFile: "+t.path+`: read ${s.length} task(s)`),this.notifySubscribers())})}getTasksFromFileContent(t,e,r,i,s,a){return new fd(i,t,e,a,r,s).parseFileContent()}reportTaskParsingErrorToUser(t,e,r,i){let s=`There was an error reading one of the tasks in this vault.
The following task has been ignored, to prevent Tasks queries getting stuck with 'Loading Tasks ...'
Error: ${t}
File: ${e}
Line number: ${r.position.start.line}
Task line: ${i}

Please create a bug report for this message at
https://github.com/obsidian-tasks-group/obsidian-tasks/issues/new/choose
to help us find and fix the underlying issue.

Include:
- either a screenshot of the error popup, or copy the text from the console, if on a desktop machine.
- the output from running the Obsidian command 'Show debug info'

The error popup will only be shown when Tasks is starting up, but if the error persists,
it will be shown in the console every time this file is edited during the Obsidian
session.
`;this.logger.error(s),t instanceof Error&&this.logger.error(t.stack?t.stack:"Cannot determine stack"),this.state==="Initializing"&&new Va.Notice(s,1e4)}static getSection(t,e){if(e===void 0)return null;for(let r of e)if(r.position.start.line<=t&&r.position.end.line>=t)return r;return null}static getPrecedingHeader(t,e){if(e===void 0)return null;let r=null;for(let i of e){if(i.position.start.line>t)return r;r=i.heading}return r}};var jy=require("obsidian");var iD=require("obsidian");function tt(){}function by(n){return n()}function tE(){return Object.create(null)}function Gt(n){n.forEach(by)}function hd(n){return typeof n=="function"}function zr(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}function nE(n){return Object.keys(n).length===0}var rE=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global,du=class{constructor(t){this.options=t,this._listeners="WeakMap"in rE?new WeakMap:void 0}observe(t,e){return this._listeners.set(t,e),this._getObserver().observe(t,this.options),()=>{this._listeners.delete(t),this._observer.unobserve(t)}}_getObserver(){var t;return(t=this._observer)!==null&&t!==void 0?t:this._observer=new ResizeObserver(e=>{var r;for(let i of e)du.entries.set(i.target,i),(r=this._listeners.get(i.target))===null||r===void 0||r(i)})}};du.entries="WeakMap"in rE?new WeakMap:void 0;var iE=!1;function F2(){iE=!0}function L2(){iE=!1}function z(n,t){n.appendChild(t)}function Ee(n,t,e){n.insertBefore(t,e||null)}function ve(n){n.parentNode&&n.parentNode.removeChild(n)}function Gs(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}function ue(n){return document.createElement(n)}function U2(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Ve(n){return document.createTextNode(n)}function De(){return Ve(" ")}function gd(){return Ve("")}function We(n,t,e,r){return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}function sE(n){return function(t){return t.preventDefault(),n.call(this,t)}}function B(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function aE(n){let t;return{p(...e){t=e,t.forEach(r=>n.push(r))},r(){t.forEach(e=>n.splice(n.indexOf(e),1))}}}function j2(n){return Array.from(n.childNodes)}function nr(n,t){t=""+t,n.data!==t&&(n.data=t)}function fn(n,t){n.value=t==null?"":t}function Ty(n,t,e){for(let r=0;r<n.options.length;r+=1){let i=n.options[r];if(i.__value===t){i.selected=!0;return}}(!e||t!==void 0)&&(n.selectedIndex=-1)}function oE(n){let t=n.querySelector(":checked");return t&&t.__value}var pd;function W2(){if(pd===void 0){pd=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch(n){pd=!0}}return pd}function lE(n,t){getComputedStyle(n).position==="static"&&(n.style.position="relative");let r=ue("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;let i=W2(),s;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=We(window,"message",a=>{a.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{s=We(r.contentWindow,"resize",t),t()}),z(n,r),()=>{(i||s&&r.contentWindow)&&s(),ve(r)}}function Si(n,t,e){n.classList[e?"add":"remove"](t)}var Xa=class{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,r=null){this.e||(this.is_svg?this.e=U2(e.nodeName):this.e=ue(e.nodeType===11?"TEMPLATE":e.nodeName),this.t=e.tagName!=="TEMPLATE"?e:e.content,this.c(t)),this.i(r)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)Ee(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(ve)}};var fu;function cu(n){fu=n}function $2(){if(!fu)throw new Error("Function called outside component initialization");return fu}function _y(n){$2().$$.on_mount.push(n)}var Ka=[];var at=[],Qa=[],gy=[],q2=Promise.resolve(),yy=!1;function Y2(){yy||(yy=!0,q2.then(uE))}function Hs(n){Qa.push(n)}function sn(n){gy.push(n)}var hy=new Set,za=0;function uE(){if(za!==0)return;let n=fu;do{try{for(;za<Ka.length;){let t=Ka[za];za++,cu(t),H2(t.$$)}}catch(t){throw Ka.length=0,za=0,t}for(cu(null),Ka.length=0,za=0;at.length;)at.pop()();for(let t=0;t<Qa.length;t+=1){let e=Qa[t];hy.has(e)||(hy.add(e),e())}Qa.length=0}while(Ka.length);for(;gy.length;)gy.pop()();yy=!1,hy.clear(),cu(n)}function H2(n){if(n.fragment!==null){n.update(),Gt(n.before_update);let t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(Hs)}}function G2(n){let t=[],e=[];Qa.forEach(r=>n.indexOf(r)===-1?t.push(r):e.push(r)),e.forEach(r=>r()),Qa=t}var md=new Set,Ys;function cE(){Ys={r:0,c:[],p:Ys}}function dE(){Ys.r||Gt(Ys.c),Ys=Ys.p}function pn(n,t){n&&n.i&&(md.delete(n),n.i(t))}function Rn(n,t,e,r){if(n&&n.o){if(md.has(n))return;md.add(n),Ys.c.push(()=>{md.delete(n),r&&(e&&n.d(1),r())}),n.o(t)}else r&&r()}var B2=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],$B=new Set([...B2]);function an(n,t,e){let r=n.$$.props[t];r!==void 0&&(n.$$.bound[r]=e,e(n.$$.ctx[r]))}function xr(n){n&&n.c()}function rr(n,t,e,r){let{fragment:i,after_update:s}=n.$$;i&&i.m(t,e),r||Hs(()=>{let a=n.$$.on_mount.map(by).filter(hd);n.$$.on_destroy?n.$$.on_destroy.push(...a):Gt(a),n.$$.on_mount=[]}),s.forEach(Hs)}function An(n,t){let e=n.$$;e.fragment!==null&&(G2(e.after_update),Gt(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function V2(n,t){n.$$.dirty[0]===-1&&(Ka.push(n),Y2(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function Kr(n,t,e,r,i,s,a,o=[-1]){let l=fu;cu(n);let u=n.$$={fragment:null,ctx:[],props:s,update:tt,not_equal:i,bound:tE(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:tE(),dirty:o,skip_bound:!1,root:t.target||l.$$.root};a&&a(u.root);let c=!1;if(u.ctx=e?e(n,t.props||{},(d,f,...p)=>{let b=p.length?p[0]:f;return u.ctx&&i(u.ctx[d],u.ctx[d]=b)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](b),c&&V2(n,d)),f}):[],u.update(),c=!0,Gt(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){F2();let d=j2(t.target);u.fragment&&u.fragment.l(d),d.forEach(ve)}else u.fragment&&u.fragment.c();t.intro&&pn(n.$$.fragment),rr(n,t.target,t.anchor,t.customElement),L2(),uE()}cu(l)}var z2;typeof HTMLElement=="function"&&(z2=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:n}=this.$$;this.$$.on_disconnect=n.map(by).filter(hd);for(let t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(n,t,e){this[n]=e}disconnectedCallback(){Gt(this.$$.on_disconnect)}$destroy(){An(this,1),this.$destroy=tt}$on(n,t){if(!hd(t))return tt;let e=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return e.push(t),()=>{let r=e.indexOf(t);r!==-1&&e.splice(r,1)}}$set(n){this.$$set&&!nE(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}});var tr=class{$destroy(){An(this,1),this.$destroy=tt}$on(t,e){if(!hd(e))return tt;let r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(e),()=>{let i=r.indexOf(e);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!nE(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};function fE(n,t,e,r){function i(s){return s instanceof e?s:new e(function(a){a(s)})}return new(e||(e=Promise))(function(s,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?s(c.value):i(c.value).then(o,l)}u((r=r.apply(n,t||[])).next())})}nn();Fg();Cs();function Za(n){return n.charAt(0).toUpperCase()+n.slice(1)}function Ut(n,t){if(t===null)return Za(n);let e=n.toLowerCase().indexOf(t.toLowerCase());if(e===-1)return`${Za(n)} (<span class="accesskey">${t.toLowerCase()}</span>)`;let r=n.substring(0,e);return r+='<span class="accesskey">',e===0?r+=n.substring(e,e+1).toUpperCase():r+=n.substring(e,e+1),r+="</span>",r+=n.substring(e+1),r=Za(r),r}function K2(n){let t,e,r,i;return{c(){t=ue("code"),e=Ve(n[4]),r=De(),i=new Xa(!1),i.a=null,B(t,"class","tasks-modal-parsed-date")},m(s,a){Ee(s,t,a),z(t,e),z(t,r),i.m(n[2],t)},p(s,a){a&16&&nr(e,s[4]),a&4&&i.p(s[2])},d(s){s&&ve(t)}}}function Q2(n){let t,e,r,i,s;return{c(){t=ue("div"),e=Ve(n[4]),r=ue("input"),B(r,"class","tasks-modal-date-editor-picker"),B(r,"type","date"),B(r,"id","date-editor-picker"),B(r,"tabindex","-1"),B(t,"class","tasks-modal-parsed-date")},m(a,o){Ee(a,t,o),z(t,e),z(t,r),fn(r,n[6]),i||(s=[We(r,"input",n[10]),We(r,"input",n[7])],i=!0)},p(a,o){o&16&&nr(e,a[4]),o&64&&fn(r,a[6])},d(a){a&&ve(t),i=!1,Gt(s)}}}function X2(n){let t,e=Ut(n[3],n[5])+"",r,i,s,a,o,l;function u(f,p){return f[1]?Q2:K2}let c=u(n,-1),d=c(n);return{c(){t=ue("label"),r=De(),i=ue("input"),s=De(),d.c(),a=gd(),B(t,"for",n[3]),B(i,"id",n[3]),B(i,"type","text"),B(i,"class","tasks-modal-date-input"),B(i,"placeholder",Z2),B(i,"accesskey",n[5]),Si(i,"tasks-modal-error",!n[1])},m(f,p){Ee(f,t,p),t.innerHTML=e,Ee(f,r,p),Ee(f,i,p),fn(i,n[0]),Ee(f,s,p),d.m(f,p),Ee(f,a,p),o||(l=We(i,"input",n[9]),o=!0)},p(f,[p]){p&40&&e!==(e=Ut(f[3],f[5])+"")&&(t.innerHTML=e),p&8&&B(t,"for",f[3]),p&8&&B(i,"id",f[3]),p&32&&B(i,"accesskey",f[5]),p&1&&i.value!==f[0]&&fn(i,f[0]),p&2&&Si(i,"tasks-modal-error",!f[1]),c===(c=u(f,p))&&d?d.p(f,p):(d.d(1),d=c(f),d&&(d.c(),d.m(a.parentNode,a)))},i:tt,o:tt,d(f){f&&ve(t),f&&ve(r),f&&ve(i),f&&ve(s),d.d(f),f&&ve(a),o=!1,l()}}}var Z2="Try 'Mon' or 'tm' then space";function J2(n,t,e){let{id:r}=t,{dateSymbol:i}=t,{date:s}=t,{isDateValid:a}=t,{forwardOnly:o}=t,{accesskey:l}=t,{parsedDate:u=""}=t,c="";function d(b){b.target!==null&&e(0,s=c)}function f(){s=this.value,e(0,s),e(3,r),e(8,o),e(2,u),e(1,a)}function p(){c=this.value,e(6,c),e(0,s),e(3,r),e(8,o),e(2,u),e(1,a)}return n.$$set=b=>{"id"in b&&e(3,r=b.id),"dateSymbol"in b&&e(4,i=b.dateSymbol),"date"in b&&e(0,s=b.date),"isDateValid"in b&&e(1,a=b.isDateValid),"forwardOnly"in b&&e(8,o=b.forwardOnly),"accesskey"in b&&e(5,l=b.accesskey),"parsedDate"in b&&e(2,u=b.parsedDate)},n.$$.update=()=>{if(n.$$.dirty&271){e:e(0,s=Fc(s)),e(2,u=Ok(r,s,o)),e(1,a=!u.includes("invalid")),a&&e(6,c=u)}},[s,a,u,r,i,l,c,d,o,f,p]}var vy=class extends tr{constructor(t){super(),Kr(this,t,J2,X2,zr,{id:3,dateSymbol:4,date:0,isDateValid:1,forwardOnly:8,accesskey:5,parsedDate:2})}},Bs=vy;var Vs=Math.min,mn=Math.max,mu=Math.round;var Or=n=>({x:n,y:n}),eU={left:"right",right:"left",bottom:"top",top:"bottom"},tU={start:"end",end:"start"};function wy(n,t,e){return mn(n,Vs(t,e))}function Ja(n,t){return typeof n=="function"?n(t):n}function Ei(n){return n.split("-")[0]}function eo(n){return n.split("-")[1]}function ky(n){return n==="x"?"y":"x"}function Sy(n){return n==="y"?"height":"width"}function Bi(n){return["top","bottom"].includes(Ei(n))?"y":"x"}function Ey(n){return ky(Bi(n))}function pE(n,t,e){e===void 0&&(e=!1);let r=eo(n),i=Ey(n),s=Sy(i),a=i==="x"?r===(e?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=pu(a)),[a,pu(a)]}function mE(n){let t=pu(n);return[yd(n),t,yd(t)]}function yd(n){return n.replace(/start|end/g,t=>tU[t])}function nU(n,t,e){let r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return e?t?i:r:t?r:i;case"left":case"right":return t?s:a;default:return[]}}function hE(n,t,e,r){let i=eo(n),s=nU(Ei(n),e==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(yd)))),s}function pu(n){return n.replace(/left|right|bottom|top/g,t=>eU[t])}function rU(n){return U({top:0,right:0,bottom:0,left:0},n)}function gE(n){return typeof n!="number"?rU(n):{top:n,right:n,bottom:n,left:n}}function zs(n){let{x:t,y:e,width:r,height:i}=n;return{width:r,height:i,top:e,left:t,right:t+r,bottom:e+i,x:t,y:e}}function yE(n,t,e){let{reference:r,floating:i}=n,s=Bi(t),a=Ey(t),o=Sy(a),l=Ei(t),u=s==="y",c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[o]/2-i[o]/2,p;switch(l){case"top":p={x:c,y:r.y-i.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(eo(t)){case"start":p[a]-=f*(e&&u?-1:1);break;case"end":p[a]+=f*(e&&u?-1:1);break}return p}var bE=(n,t,e)=>L(void 0,null,function*(){let{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=e,o=s.filter(Boolean),l=yield a.isRTL==null?void 0:a.isRTL(t),u=yield a.getElementRects({reference:n,floating:t,strategy:i}),{x:c,y:d}=yE(u,r,l),f=r,p={},b=0;for(let T=0;T<o.length;T++){let{name:_,fn:O}=o[T],{x:D,y:A,data:j,reset:Y}=yield O({x:c,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:n,floating:t}});c=D!=null?D:c,d=A!=null?A:d,p=me(U({},p),{[_]:U(U({},p[_]),j)}),Y&&b<=50&&(b++,typeof Y=="object"&&(Y.placement&&(f=Y.placement),Y.rects&&(u=Y.rects===!0?yield a.getElementRects({reference:n,floating:t,strategy:i}):Y.rects),{x:c,y:d}=yE(u,f,l)),T=-1)}return{x:c,y:d,placement:f,strategy:i,middlewareData:p}});function bd(n,t){return L(this,null,function*(){var e;t===void 0&&(t={});let{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=Ja(t,n),b=gE(p),_=o[f?d==="floating"?"reference":"floating":d],O=zs(yield s.getClippingRect({element:(e=yield s.isElement==null?void 0:s.isElement(_))==null||e?_:_.contextElement||(yield s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:c,strategy:l})),D=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,A=yield s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating),j=(yield s.isElement==null?void 0:s.isElement(A))?(yield s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},Y=zs(s.convertOffsetParentRelativeRectToViewportRelativeRect?yield s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:D,offsetParent:A,strategy:l}):D);return{top:(O.top-Y.top+b.top)/j.y,bottom:(Y.bottom-O.bottom+b.bottom)/j.y,left:(O.left-Y.left+b.left)/j.x,right:(Y.right-O.right+b.right)/j.x}})}var TE=function(n){return n===void 0&&(n={}),{name:"flip",options:n,fn(e){return L(this,null,function*(){var r,i;let{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:u,elements:c}=e,q=Ja(n,e),{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:_=!0}=q,O=pa(q,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((r=a.arrow)!=null&&r.alignmentOffset)return{};let D=Ei(s),A=Bi(l),j=Ei(l)===l,Y=yield u.isRTL==null?void 0:u.isRTL(c.floating),se=p||(j||!_?[pu(l)]:mE(l)),H=T!=="none";!p&&H&&se.push(...hE(l,_,T,Y));let Z=[l,...se],ye=yield bd(e,O),we=[],V=((i=a.flip)==null?void 0:i.overflows)||[];if(d&&we.push(ye[D]),f){let oe=pE(s,o,Y);we.push(ye[oe[0]],ye[oe[1]])}if(V=[...V,{placement:s,overflows:we}],!we.every(oe=>oe<=0)){var K,C;let oe=(((K=a.flip)==null?void 0:K.index)||0)+1,m=Z[oe];if(m)return{data:{index:oe,overflows:V},reset:{placement:m}};let y=(C=V.filter(v=>v.overflows[0]<=0).sort((v,w)=>v.overflows[1]-w.overflows[1])[0])==null?void 0:C.placement;if(!y)switch(b){case"bestFit":{var J;let v=(J=V.filter(w=>{if(H){let S=Bi(w.placement);return S===A||S==="y"}return!0}).map(w=>[w.placement,w.overflows.filter(S=>S>0).reduce((S,M)=>S+M,0)]).sort((w,S)=>w[1]-S[1])[0])==null?void 0:J[0];v&&(y=v);break}case"initialPlacement":y=l;break}if(s!==y)return{reset:{placement:y}}}return{}})}}};function iU(n,t){return L(this,null,function*(){let{placement:e,platform:r,elements:i}=n,s=yield r.isRTL==null?void 0:r.isRTL(i.floating),a=Ei(e),o=eo(e),l=Bi(e)==="y",u=["left","top"].includes(a)?-1:1,c=s&&l?-1:1,d=Ja(t,n),{mainAxis:f,crossAxis:p,alignmentAxis:b}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof b=="number"&&(p=o==="end"?b*-1:b),l?{x:p*c,y:f*u}:{x:f*u,y:p*c}})}var _E=function(n){return n===void 0&&(n=0),{name:"offset",options:n,fn(e){return L(this,null,function*(){var r,i;let{x:s,y:a,placement:o,middlewareData:l}=e,u=yield iU(e,n);return o===((r=l.offset)==null?void 0:r.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:s+u.x,y:a+u.y,data:me(U({},u),{placement:o})}})}}},vE=function(n){return n===void 0&&(n={}),{name:"shift",options:n,fn(e){return L(this,null,function*(){let{x:r,y:i,placement:s}=e,O=Ja(n,e),{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:D=>{let{x:A,y:j}=D;return{x:A,y:j}}}}=O,u=pa(O,["mainAxis","crossAxis","limiter"]),c={x:r,y:i},d=yield bd(e,u),f=Bi(Ei(s)),p=ky(f),b=c[p],T=c[f];if(a){let D=p==="y"?"top":"left",A=p==="y"?"bottom":"right",j=b+d[D],Y=b-d[A];b=wy(j,b,Y)}if(o){let D=f==="y"?"top":"left",A=f==="y"?"bottom":"right",j=T+d[D],Y=T-d[A];T=wy(j,T,Y)}let _=l.fn(me(U({},e),{[p]:b,[f]:T}));return me(U({},_),{data:{x:_.x-r,y:_.y-i,enabled:{[p]:a,[f]:o}}})})}}};var wE=function(n){return n===void 0&&(n={}),{name:"size",options:n,fn(e){return L(this,null,function*(){var r,i;let{placement:s,rects:a,platform:o,elements:l}=e,V=Ja(n,e),{apply:u=()=>{}}=V,c=pa(V,["apply"]),d=yield bd(e,c),f=Ei(s),p=eo(s),b=Bi(s)==="y",{width:T,height:_}=a.floating,O,D;f==="top"||f==="bottom"?(O=f,D=p===((yield o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(D=f,O=p==="end"?"top":"bottom");let A=_-d.top-d.bottom,j=T-d.left-d.right,Y=Vs(_-d[O],A),se=Vs(T-d[D],j),H=!e.middlewareData.shift,Z=Y,ye=se;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(ye=j),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(Z=A),H&&!p){let K=mn(d.left,0),C=mn(d.right,0),J=mn(d.top,0),q=mn(d.bottom,0);b?ye=T-2*(K!==0||C!==0?K+C:mn(d.left,d.right)):Z=_-2*(J!==0||q!==0?J+q:mn(d.top,d.bottom))}yield u(me(U({},e),{availableWidth:ye,availableHeight:Z}));let we=yield o.getDimensions(l.floating);return T!==we.width||_!==we.height?{reset:{rects:!0}}:{}})}}};function _d(){return typeof window!="undefined"}function Ks(n){return SE(n)?(n.nodeName||"").toLowerCase():"#document"}function hn(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function Qr(n){var t;return(t=(SE(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function SE(n){return _d()?n instanceof Node||n instanceof hn(n).Node:!1}function ir(n){return _d()?n instanceof Element||n instanceof hn(n).Element:!1}function Cr(n){return _d()?n instanceof HTMLElement||n instanceof hn(n).HTMLElement:!1}function kE(n){return!_d()||typeof ShadowRoot=="undefined"?!1:n instanceof ShadowRoot||n instanceof hn(n).ShadowRoot}function to(n){let{overflow:t,overflowX:e,overflowY:r,display:i}=sr(n);return/auto|scroll|overlay|hidden|clip/.test(t+r+e)&&!["inline","contents"].includes(i)}function EE(n){return["table","td","th"].includes(Ks(n))}function hu(n){return[":popover-open",":modal"].some(t=>{try{return n.matches(t)}catch(e){return!1}})}function vd(n){let t=wd(),e=ir(n)?sr(n):n;return e.transform!=="none"||e.perspective!=="none"||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(e.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(e.contain||"").includes(r))}function DE(n){let t=Di(n);for(;Cr(t)&&!Qs(t);){if(vd(t))return t;if(hu(t))return null;t=Di(t)}return null}function wd(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qs(n){return["html","body","#document"].includes(Ks(n))}function sr(n){return hn(n).getComputedStyle(n)}function gu(n){return ir(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Di(n){if(Ks(n)==="html")return n;let t=n.assignedSlot||n.parentNode||kE(n)&&n.host||Qr(n);return kE(t)?t.host:t}function xE(n){let t=Di(n);return Qs(t)?n.ownerDocument?n.ownerDocument.body:n.body:Cr(t)&&to(t)?t:xE(t)}function Td(n,t,e){var r;t===void 0&&(t=[]),e===void 0&&(e=!0);let i=xE(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),a=hn(i);if(s){let o=kd(a);return t.concat(a,a.visualViewport||[],to(i)?i:[],o&&e?Td(o):[])}return t.concat(i,Td(i,[],e))}function kd(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function ME(n){let t=sr(n),e=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=Cr(n),s=i?n.offsetWidth:e,a=i?n.offsetHeight:r,o=mu(e)!==s||mu(r)!==a;return o&&(e=s,r=a),{width:e,height:r,$:o}}function RE(n){return ir(n)?n:n.contextElement}function no(n){let t=RE(n);if(!Cr(t))return Or(1);let e=t.getBoundingClientRect(),{width:r,height:i,$:s}=ME(t),a=(s?mu(e.width):e.width)/r,o=(s?mu(e.height):e.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}var sU=Or(0);function AE(n){let t=hn(n);return!wd()||!t.visualViewport?sU:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function aU(n,t,e){return t===void 0&&(t=!1),!e||t&&e!==hn(n)?!1:t}function yu(n,t,e,r){t===void 0&&(t=!1),e===void 0&&(e=!1);let i=n.getBoundingClientRect(),s=RE(n),a=Or(1);t&&(r?ir(r)&&(a=no(r)):a=no(n));let o=aU(s,e,r)?AE(s):Or(0),l=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,c=i.width/a.x,d=i.height/a.y;if(s){let f=hn(s),p=r&&ir(r)?hn(r):r,b=f,T=kd(b);for(;T&&r&&p!==b;){let _=no(T),O=T.getBoundingClientRect(),D=sr(T),A=O.left+(T.clientLeft+parseFloat(D.paddingLeft))*_.x,j=O.top+(T.clientTop+parseFloat(D.paddingTop))*_.y;l*=_.x,u*=_.y,c*=_.x,d*=_.y,l+=A,u+=j,b=hn(T),T=kd(b)}}return zs({width:c,height:d,x:l,y:u})}function xy(n,t){let e=gu(n).scrollLeft;return t?t.left+e:yu(Qr(n)).left+e}function PE(n,t,e){e===void 0&&(e=!1);let r=n.getBoundingClientRect(),i=r.left+t.scrollLeft-(e?0:xy(n,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function oU(n){let{elements:t,rect:e,offsetParent:r,strategy:i}=n,s=i==="fixed",a=Qr(r),o=t?hu(t.floating):!1;if(r===a||o&&s)return e;let l={scrollLeft:0,scrollTop:0},u=Or(1),c=Or(0),d=Cr(r);if((d||!d&&!s)&&((Ks(r)!=="body"||to(a))&&(l=gu(r)),Cr(r))){let p=yu(r);u=no(r),c.x=p.x+r.clientLeft,c.y=p.y+r.clientTop}let f=a&&!d&&!s?PE(a,l,!0):Or(0);return{width:e.width*u.x,height:e.height*u.y,x:e.x*u.x-l.scrollLeft*u.x+c.x+f.x,y:e.y*u.y-l.scrollTop*u.y+c.y+f.y}}function lU(n){return Array.from(n.getClientRects())}function uU(n){let t=Qr(n),e=gu(n),r=n.ownerDocument.body,i=mn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=mn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),a=-e.scrollLeft+xy(n),o=-e.scrollTop;return sr(r).direction==="rtl"&&(a+=mn(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function cU(n,t){let e=hn(n),r=Qr(n),i=e.visualViewport,s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;let u=wd();(!u||u&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}function dU(n,t){let e=yu(n,!0,t==="fixed"),r=e.top+n.clientTop,i=e.left+n.clientLeft,s=Cr(n)?no(n):Or(1),a=n.clientWidth*s.x,o=n.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:a,height:o,x:l,y:u}}function OE(n,t,e){let r;if(t==="viewport")r=cU(n,e);else if(t==="document")r=uU(Qr(n));else if(ir(t))r=dU(t,e);else{let i=AE(n);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return zs(r)}function NE(n,t){let e=Di(n);return e===t||!ir(e)||Qs(e)?!1:sr(e).position==="fixed"||NE(e,t)}function fU(n,t){let e=t.get(n);if(e)return e;let r=Td(n,[],!1).filter(o=>ir(o)&&Ks(o)!=="body"),i=null,s=sr(n).position==="fixed",a=s?Di(n):n;for(;ir(a)&&!Qs(a);){let o=sr(a),l=vd(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||to(a)&&!l&&NE(n,a))?r=r.filter(c=>c!==a):i=o,a=Di(a)}return t.set(n,r),r}function pU(n){let{element:t,boundary:e,rootBoundary:r,strategy:i}=n,a=[...e==="clippingAncestors"?hu(t)?[]:fU(t,this._c):[].concat(e),r],o=a[0],l=a.reduce((u,c)=>{let d=OE(t,c,i);return u.top=mn(d.top,u.top),u.right=Vs(d.right,u.right),u.bottom=Vs(d.bottom,u.bottom),u.left=mn(d.left,u.left),u},OE(t,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function mU(n){let{width:t,height:e}=ME(n);return{width:t,height:e}}function hU(n,t,e){let r=Cr(t),i=Qr(t),s=e==="fixed",a=yu(n,!0,s,t),o={scrollLeft:0,scrollTop:0},l=Or(0);if(r||!r&&!s)if((Ks(t)!=="body"||to(i))&&(o=gu(t)),r){let f=yu(t,!0,s,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else i&&(l.x=xy(i));let u=i&&!r&&!s?PE(i,o):Or(0),c=a.left+o.scrollLeft-l.x-u.x,d=a.top+o.scrollTop-l.y-u.y;return{x:c,y:d,width:a.width,height:a.height}}function Dy(n){return sr(n).position==="static"}function CE(n,t){if(!Cr(n)||sr(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return Qr(n)===e&&(e=e.ownerDocument.body),e}function IE(n,t){let e=hn(n);if(hu(n))return e;if(!Cr(n)){let i=Di(n);for(;i&&!Qs(i);){if(ir(i)&&!Dy(i))return i;i=Di(i)}return e}let r=CE(n,t);for(;r&&EE(r)&&Dy(r);)r=CE(r,t);return r&&Qs(r)&&Dy(r)&&!vd(r)?e:r||DE(n)||e}var gU=function(n){return L(this,null,function*(){let t=this.getOffsetParent||IE,e=this.getDimensions,r=yield e(n.floating);return{reference:hU(n.reference,yield t(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}})};function yU(n){return sr(n).direction==="rtl"}var bU={convertOffsetParentRelativeRectToViewportRelativeRect:oU,getDocumentElement:Qr,getClippingRect:pU,getOffsetParent:IE,getElementRects:gU,getClientRects:lU,getDimensions:mU,getScale:no,isElement:ir,isRTL:yU};var Oy=_E;var Cy=vE,FE=TE,LE=wE;var My=(n,t,e)=>{let r=new Map,i=U({platform:bU},e),s=me(U({},i.platform),{_c:r});return bE(n,t,me(U({},i),{platform:s}))};ty();function UE(n,t,e){let r=n.slice();return r[5]=t[e],r}function jE(n,t,e){let r=n.slice();r[40]=t[e],r[43]=e;let i=r[17](r[40].taskLocation.path);return r[41]=i,r}function WE(n){let t,e,r,i=n[10],s=[];for(let a=0;a<i.length;a+=1)s[a]=qE(jE(n,i,a));return{c(){t=ue("ul");for(let a=0;a<s.length;a+=1)s[a].c();B(t,"class","task-dependency-dropdown")},m(a,o){Ee(a,t,o);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(t,null);n[31](t),e||(r=We(t,"mouseleave",n[32]),e=!0)},p(a,o){if(o[0]&928832){i=a[10];let l;for(l=0;l<i.length;l+=1){let u=jE(a,i,l);s[l]?s[l].p(u,o):(s[l]=qE(u),s[l].c(),s[l].m(t,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=i.length}},d(a){a&&ve(t),Gs(s,a),n[31](null),e=!1,r()}}}function $E(n){let t,e=n[41]+"",r,i,s;function a(...o){return n[28](n[41],...o)}return{c(){t=ue("div"),r=Ve(e),B(t,"class","dependency-path")},m(o,l){Ee(o,t,l),z(t,r),i||(s=We(t,"mouseenter",a),i=!0)},p(o,l){n=o,l[0]&1024&&e!==(e=n[41]+"")&&nr(r,e)},d(o){o&&ve(t),i=!1,s()}}}function qE(n){let t,e,r,i=n[40].status.symbol+"",s,a,o=Us(n[40])+"",l,u,c,d,f,p;function b(...D){return n[27](n[40],...D)}let T=n[41]&&$E(n);function _(){return n[29](n[40])}function O(){return n[30](n[43])}return{c(){t=ue("li"),e=ue("div"),r=Ve("["),s=Ve(i),a=Ve("] "),l=Ve(o),c=De(),T&&T.c(),d=De(),B(e,"class",u=n[41]?"dependency-name-shared":"dependency-name"),Si(t,"selected",n[6]!==null&&n[43]===n[11])},m(D,A){Ee(D,t,A),z(t,e),z(e,r),z(e,s),z(e,a),z(e,l),z(t,c),T&&T.m(t,null),z(t,d),f||(p=[We(e,"mouseenter",b),We(t,"mousedown",_),We(t,"mouseenter",O)],f=!0)},p(D,A){n=D,A[0]&1024&&i!==(i=n[40].status.symbol+"")&&nr(s,i),A[0]&1024&&o!==(o=Us(n[40])+"")&&nr(l,o),A[0]&1024&&u!==(u=n[41]?"dependency-name-shared":"dependency-name")&&B(e,"class",u),n[41]?T?T.p(n,A):(T=$E(n),T.c(),T.m(t,d)):T&&(T.d(1),T=null),A[0]&2112&&Si(t,"selected",n[6]!==null&&n[43]===n[11])},d(D){D&&ve(t),T&&T.d(),f=!1,Gt(p)}}}function YE(n){let t,e=n[0][n[1]],r=[];for(let i=0;i<e.length;i+=1)r[i]=HE(UE(n,e,i));return{c(){t=ue("div");for(let i=0;i<r.length;i+=1)r[i].c();B(t,"class","task-dependencies-container results-dependency")},m(i,s){Ee(i,t,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(t,null)},p(i,s){if(s[0]&802819){e=i[0][i[1]];let a;for(a=0;a<e.length;a+=1){let o=UE(i,e,a);r[a]?r[a].p(o,s):(r[a]=HE(o),r[a].c(),r[a].m(t,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=e.length}},d(i){i&&ve(t),Gs(r,i)}}}function HE(n){let t,e,r,i=n[5].status.symbol+"",s,a,o=Us(n[5])+"",l,u,c,d,f,p;function b(){return n[33](n[5])}function T(..._){return n[34](n[5],..._)}return{c(){t=ue("div"),e=ue("span"),r=Ve("["),s=Ve(i),a=Ve("] "),l=Ve(o),u=De(),c=ue("button"),c.innerHTML='<svg style="display: block; margin: auto;" xmlns="http://www.w3.org/2000/svg" width="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',d=De(),B(e,"class","task-dependency-name"),B(c,"type","button"),B(c,"class","task-dependency-delete"),B(t,"class","task-dependency")},m(_,O){Ee(_,t,O),z(t,e),z(e,r),z(e,s),z(e,a),z(e,l),z(t,u),z(t,c),z(t,d),f||(p=[We(c,"click",b),We(t,"mouseenter",T)],f=!0)},p(_,O){n=_,O[0]&3&&i!==(i=n[5].status.symbol+"")&&nr(s,i),O[0]&3&&o!==(o=Us(n[5])+"")&&nr(l,o)},d(_){_&&ve(t),f=!1,Gt(p)}}}function TU(n){let t,e=Ut(n[2],n[3])+"",r,i,s,a,o,l,u,c,d,f=n[10]&&n[10].length!==0&&WE(n),p=n[0][n[1]].length!==0&&YE(n);return{c(){t=ue("label"),r=De(),i=ue("span"),s=ue("input"),o=De(),f&&f.c(),l=De(),p&&p.c(),u=gd(),B(t,"for",n[1]),B(s,"accesskey",n[3]),B(s,"id",n[1]),B(s,"class","tasks-modal-dependency-input"),B(s,"type","text"),B(s,"placeholder",n[4]),Hs(()=>n[26].call(i))},m(b,T){Ee(b,t,T),t.innerHTML=e,Ee(b,r,T),Ee(b,i,T),z(i,s),n[22](s),fn(s,n[6]),a=lE(i,n[26].bind(i)),Ee(b,o,T),f&&f.m(b,T),Ee(b,l,T),p&&p.m(b,T),Ee(b,u,T),c||(d=[We(s,"input",n[23]),We(s,"keydown",n[24]),We(s,"focus",n[16]),We(s,"blur",n[25])],c=!0)},p(b,T){T[0]&12&&e!==(e=Ut(b[2],b[3])+"")&&(t.innerHTML=e),T[0]&2&&B(t,"for",b[1]),T[0]&8&&B(s,"accesskey",b[3]),T[0]&2&&B(s,"id",b[1]),T[0]&16&&B(s,"placeholder",b[4]),T[0]&64&&s.value!==b[6]&&fn(s,b[6]),b[10]&&b[10].length!==0?f?f.p(b,T):(f=WE(b),f.c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null),b[0][b[1]].length!==0?p?p.p(b,T):(p=YE(b),p.c(),p.m(u.parentNode,u)):p&&(p.d(1),p=null)},i:tt,o:tt,d(b){b&&ve(t),b&&ve(r),b&&ve(i),n[22](null),a(),b&&ve(o),f&&f.d(b),b&&ve(l),p&&p.d(b),b&&ve(u),c=!1,Gt(d)}}}function _U(n,t,e){let{task:r}=t,{editableTask:i}=t,{allTasks:s}=t,{_onDescriptionKeyDown:a}=t,{type:o}=t,{labelText:l}=t,{accesskey:u}=t,{placeholder:c="Type to search..."}=t,d="",f=null,p=0,b,T=!1,_=!1,O,D;function A(E){e(0,i[o]=[...i[o],E],i),e(6,d=""),e(7,T=!1)}function j(E){e(0,i[o]=i[o].filter(P=>P!==E),i)}function Y(E){var P;if(f!==null){switch(E.key){case"ArrowUp":E.preventDefault(),!!p&&p>0?e(11,p-=1):e(11,p=f.length-1);break;case"ArrowDown":E.preventDefault(),!!p&&p<f.length-1?e(11,p+=1):e(11,p=0);break;case"Enter":if(E.isComposing)return;p!==null?(E.preventDefault(),A(f[p]),e(11,p=null),e(7,T=!1)):a(E);break;default:e(11,p=0);break}p&&((P=D==null?void 0:D.getElementsByTagName("li")[p])===null||P===void 0||P.scrollIntoView({block:"nearest"}))}}function se(E){return!E&&!_?[]:(_=!1,rd(E,s,r,i.blockedBy,i.blocking))}function H(){e(7,T=!0),_=!0}function Z(E,P){!E||!P||My(E,P,{middleware:[Oy(6),Cy(),FE(),LE({apply(){P&&Object.assign(P.style,{width:`${b}px`})}})]}).then(({x:$,y:ce})=>{P.style.left=`${$}px`,P.style.top=`${ce}px`})}function ye(E){return E===r.taskLocation.path?"":E}function we(E){return Us(E)}function V(E,P){let $=E.createDiv();$.addClasses(["tooltip","pop-up"]),$.innerText=P,My(E,$,{placement:"top",middleware:[Oy(-18),Cy()]}).then(({x:ce,y:be})=>{$.style.left=`${ce}px`,$.style.top=`${be}px`}),E.addEventListener("mouseleave",()=>$.remove())}function K(E){at[E?"unshift":"push"](()=>{O=E,e(8,O)})}function C(){d=this.value,e(6,d)}let J=E=>Y(E),q=()=>e(7,T=!1);function oe(){b=this.clientWidth,e(12,b)}let m=(E,P)=>V(P.currentTarget,we(E)),y=(E,P)=>V(P.currentTarget,E),v=E=>A(E),w=E=>e(11,p=E);function S(E){at[E?"unshift":"push"](()=>{D=E,e(9,D)})}let M=()=>e(11,p=null),I=E=>j(E),W=(E,P)=>V(P.currentTarget,we(E));return n.$$set=E=>{"task"in E&&e(5,r=E.task),"editableTask"in E&&e(0,i=E.editableTask),"allTasks"in E&&e(20,s=E.allTasks),"_onDescriptionKeyDown"in E&&e(21,a=E._onDescriptionKeyDown),"type"in E&&e(1,o=E.type),"labelText"in E&&e(2,l=E.labelText),"accesskey"in E&&e(3,u=E.accesskey),"placeholder"in E&&e(4,c=E.placeholder)},n.$$.update=()=>{if(n.$$.dirty[0]&768){e:Z(O,D)}if(n.$$.dirty[0]&192){e:e(10,f=T?se(d):null)}},[i,o,l,u,c,r,d,T,O,D,f,p,b,A,j,Y,H,ye,we,V,s,a,K,C,J,q,oe,m,y,v,w,S,M,I,W]}var Ry=class extends tr{constructor(t){super(),Kr(this,t,_U,TU,zr,{task:5,editableTask:0,allTasks:20,_onDescriptionKeyDown:21,type:1,labelText:2,accesskey:3,placeholder:4},null,[-1,-1])}},Ay=Ry;Cn();Cs();lu();var Tu=require("obsidian");Cn();$s();my();var bu,Py,Ny,vU=["md"];function Dd(){return rn.getLogger("tasks.File")}var GE=({metadataCache:n,vault:t,workspace:e})=>{bu=n,Py=t,Ny=e},ar=e=>L(void 0,[e],function*({originalTask:n,newTasks:t}){if(Py===void 0||bu===void 0||Ny===void 0){Sd("Tasks: cannot use File before initializing it.");return}Array.isArray(t)||(t=[t]);let r=Dd(),i="replaceTaskWithTasks()";ud(r,i,n),cd(r,i,t),yield VE({originalTask:n,newTasks:t,vault:Py,metadataCache:bu,workspace:Ny,previousTries:0})});function Sd(n){console.error(n),new Tu.Notice(n,15e3)}function BE(n){console.warn(n),new Tu.Notice(n,1e4)}function wU(n){Dd().debug(n)}var Vi=class extends Error{},Ed=class extends Error{},VE=a=>L(void 0,[a],function*({originalTask:n,newTasks:t,vault:e,metadataCache:r,workspace:i,previousTries:s}){let o=Dd();o.debug(`tryRepetitive after ${s} previous tries`);let l=()=>L(void 0,null,function*(){if(s>10){let c=`Tasks: Could not find the correct task line to update.

The task line not updated is:
${n.originalMarkdown}

In this markdown file:
"${n.taskLocation.path}"

Note: further clicks on this checkbox will usually now be ignored until the file is opened (or certain, specific edits are made - it's complicated).

Recommendations:

1. Close all panes that have the above file open, and then re-open the file.

2. Check for exactly identical copies of the task line, in this file, and see if you can make them different.
`;Sd(c);return}let u=Math.min(Math.pow(10,s),100);o.debug(`timeout = ${u}`),setTimeout(()=>L(void 0,null,function*(){yield VE({originalTask:n,newTasks:t,vault:e,metadataCache:r,workspace:i,previousTries:s+1})}),u)});try{let[u,c,d]=yield zE(n,e),f=[...d.slice(0,u),...t.map(p=>p.toFileLineString()),...d.slice(u+1)];yield e.modify(c,f.join(`
`))}catch(u){if(u instanceof Vi){u.message&&BE(u.message),yield l();return}else if(u instanceof Ed){yield l();return}else u instanceof Error&&Sd(u.message)}});function zE(n,t){return L(this,null,function*(){if(bu===void 0)throw new Vi;let e=t.getAbstractFileByPath(n.path);if(!(e instanceof Tu.TFile))throw new Vi(`Tasks: No file found for task ${n.description}. Retrying ...`);if(!vU.includes(e.extension))throw new Error(`Tasks: Does not support files with the ${e.extension} file extension.`);let r=bu.getFileCache(e);if(r==null||r===null)throw new Vi(`Tasks: No file cache found for file ${e.path}. Retrying ...`);let i=r.listItems;if(i===void 0||i.length===0)throw new Vi(`Tasks: No list items found in file cache of ${e.path}. Retrying ...`);let a=(yield t.read(e)).split(`
`),o=kU(n,a,i,wU);if(o===void 0)throw new Ed;return[o,e,a]})}function Iy(n,t){return L(this,null,function*(){try{let[e,r,i]=yield zE(n,t);return[e,r]}catch(e){e instanceof Vi?e.message&&BE(e.message):e instanceof Error&&Sd(e.message)}})}function KE(n,t){return n<t.length}function kU(n,t,e,r){let i=SU(n,t);return i!==void 0||(i=EU(n,t),i!==void 0)?i:DU(n,t,e,r)}function SU(n,t){let e=n.taskLocation.lineNumber;if(KE(e,t)&&t[e]===n.originalMarkdown)return Dd().debug(`Found original markdown at original line number ${e}`),e}function EU(n,t){let e=[];for(let r=0;r<t.length;r++)t[r]===n.originalMarkdown&&e.push(r);if(e.length===1)return e[0]}function DU(n,t,e,r){let i,s=0;for(let a of e){let o=a.position.start.line;if(!KE(o,t))return;if(o<n.taskLocation.sectionStart||a.task===void 0)continue;let l=t[o];if(Fe.getInstance().includedIn(l)){if(s===n.taskLocation.sectionIndex){if(l===n.originalMarkdown)i=o;else{r(`Tasks: Unable to find task in file ${n.taskLocation.path}.
Expected task:
${n.originalMarkdown}
Found task:
${l}`);return}break}s++}}return i}Lc();Wa();Qc();Nt();nd();Jn();var ro=class{constructor(t){this.addGlobalFilterOnSave=t.addGlobalFilterOnSave,this.originalBlocking=t.originalBlocking,this.description=t.description,this.status=t.status,this.priority=t.priority,this.onCompletion=t.onCompletion,this.recurrenceRule=t.recurrenceRule,this.createdDate=t.createdDate,this.startDate=t.startDate,this.scheduledDate=t.scheduledDate,this.dueDate=t.dueDate,this.doneDate=t.doneDate,this.cancelledDate=t.cancelledDate,this.forwardOnly=t.forwardOnly,this.blockedBy=t.blockedBy,this.blocking=t.blocking}static fromTask(t,e){let r=Fe.getInstance().removeAsWordFrom(t.description),i=r!=t.description||!Fe.getInstance().includedIn(t.description),s="none";t.priority==="5"?s="lowest":t.priority==="4"?s="low":t.priority==="2"?s="medium":t.priority==="1"?s="high":t.priority==="0"&&(s="highest");let a=[];for(let l of t.dependsOn){let u=e.find(c=>c.id===l);!u||a.push(u)}let o=e.filter(l=>l.dependsOn.includes(t.id));return new ro({addGlobalFilterOnSave:i,originalBlocking:o,description:r,status:t.status,priority:s,recurrenceRule:t.recurrence?t.recurrence.toText():"",onCompletion:t.onCompletion,createdDate:t.created.formatAsDate(),startDate:t.start.formatAsDate(),scheduledDate:t.scheduled.formatAsDate(),dueDate:t.due.formatAsDate(),doneDate:t.done.formatAsDate(),cancelledDate:t.cancelled.formatAsDate(),forwardOnly:!0,blockedBy:a,blocking:o})}applyEdits(t,e){return L(this,null,function*(){let r=this.description.trim();this.addGlobalFilterOnSave&&(r=Fe.getInstance().prependTo(r));let i=Os(this.startDate,this.forwardOnly),s=Os(this.scheduledDate,this.forwardOnly),a=Os(this.dueDate,this.forwardOnly),o=Os(this.cancelledDate,this.forwardOnly),l=Os(this.createdDate,this.forwardOnly),u=Os(this.doneDate,this.forwardOnly),c=null;this.recurrenceRule&&(c=Et.fromText({recurrenceRuleText:this.recurrenceRule,occurrence:new Kn({startDate:i,scheduledDate:s,dueDate:a})}));let d=this.onCompletion,f=[];for(let D of this.blockedBy){let A=yield xU(D,e);f.push(A)}let p=t.id,b=[],T=[];(this.blocking.toString()!==this.originalBlocking.toString()||this.blocking.length!==0)&&(t.id===""&&(p=au(e.filter(D=>D.id!=="").map(D=>D.id))),b=this.originalBlocking.filter(D=>!this.blocking.includes(D)),T=this.blocking.filter(D=>!this.originalBlocking.includes(D)));let _=new fe(me(U({},t),{description:r,status:t.status,priority:Mn.priorityValue(this.priority),onCompletion:d,recurrence:c,startDate:i,scheduledDate:s,dueDate:a,doneDate:u,createdDate:l,cancelledDate:o,dependsOn:f.map(D=>D.id),id:p}));for(let D of b){let A=AS(D,_);yield ar({originalTask:D,newTasks:A})}for(let D of T){let A=RS(D,_);yield ar({originalTask:D,newTasks:A})}let O=this.inferTodaysDate(this.status.type,u,o);return _.handleNewStatusWithRecurrenceInUsersOrder(this.status,O)})}inferTodaysDate(t,e,r){return t==="DONE"&&e!==null?e:t==="CANCELLED"&&r!==null?r:window.moment()}parseAndValidateRecurrence(){var e;if(!this.recurrenceRule)return{parsedRecurrence:"<i>not recurring</>",isRecurrenceValid:!0};let t=(e=Et.fromText({recurrenceRuleText:this.recurrenceRule,occurrence:new Kn({startDate:null,scheduledDate:null,dueDate:null})}))==null?void 0:e.toText();return t?this.startDate||this.scheduledDate||this.dueDate?{parsedRecurrence:t,isRecurrenceValid:!0}:{parsedRecurrence:"<i>due, scheduled or start date required</i>",isRecurrenceValid:!1}:{parsedRecurrence:"<i>invalid recurrence rule</i>",isRecurrenceValid:!1}}};function xU(n,t){return L(this,null,function*(){if(n.id!=="")return n;let e=t.filter(i=>i.id!==""),r=td(n,e.map(i=>i.id));return yield ar({originalTask:n,newTasks:r}),r})}nn();function OU(n){let t,e=Ut("Recurs",n[2])+"",r,i,s,a,o,l,u,c,d;return{c(){t=ue("label"),r=De(),i=ue("input"),s=De(),a=ue("code"),o=Ve(n[4]),l=De(),u=new Xa(!1),B(t,"for","recurrence"),B(i,"id","recurrence"),B(i,"type","text"),B(i,"class","tasks-modal-date-input"),B(i,"placeholder","Try 'every day when done'"),B(i,"accesskey",n[2]),Si(i,"tasks-modal-error",!n[1]),u.a=null,B(a,"class","tasks-modal-parsed-date")},m(f,p){Ee(f,t,p),t.innerHTML=e,Ee(f,r,p),Ee(f,i,p),fn(i,n[0].recurrenceRule),Ee(f,s,p),Ee(f,a,p),z(a,o),z(a,l),u.m(n[3],a),c||(d=We(i,"input",n[5]),c=!0)},p(f,[p]){p&4&&e!==(e=Ut("Recurs",f[2])+"")&&(t.innerHTML=e),p&4&&B(i,"accesskey",f[2]),p&1&&i.value!==f[0].recurrenceRule&&fn(i,f[0].recurrenceRule),p&2&&Si(i,"tasks-modal-error",!f[1]),p&8&&u.p(f[3])},i:tt,o:tt,d(f){f&&ve(t),f&&ve(r),f&&ve(i),f&&ve(s),f&&ve(a),c=!1,d()}}}function CU(n,t,e){let{editableTask:r}=t,{isRecurrenceValid:i}=t,{accesskey:s}=t,a,{recurrenceSymbol:o}=Er.tasksPluginEmoji.taskSerializer.symbols;function l(){r.recurrenceRule=this.value,e(0,r)}return n.$$set=u=>{"editableTask"in u&&e(0,r=u.editableTask),"isRecurrenceValid"in u&&e(1,i=u.isRecurrenceValid),"accesskey"in u&&e(2,s=u.accesskey)},n.$$.update=()=>{if(n.$$.dirty&1){e:e(3,{parsedRecurrence:a,isRecurrenceValid:i}=r.parseAndValidateRecurrence(),a,(e(1,i),e(0,r)))}},[r,i,s,a,o,l]}var Fy=class extends tr{constructor(t){super(),Kr(this,t,CU,OU,zr,{editableTask:0,isRecurrenceValid:1,accesskey:2})}},QE=Fy;function XE(n,t,e){let r=n.slice();return r[7]=t[e],r}function ZE(n){let t,e=n[7].name+"",r,i,s=n[7].symbol+"",a,o,l;return{c(){t=ue("option"),r=Ve(e),i=Ve(" ["),a=Ve(s),o=Ve("]"),t.__value=l=n[7].symbol,t.value=t.__value},m(u,c){Ee(u,t,c),z(t,r),z(t,i),z(t,a),z(t,o)},p(u,c){c&1&&e!==(e=u[7].name+"")&&nr(r,e),c&1&&s!==(s=u[7].symbol+"")&&nr(a,s),c&1&&l!==(l=u[7].symbol)&&(t.__value=l,t.value=t.__value)},d(u){u&&ve(t)}}}function MU(n){let t,e=Ut("Status",n[1])+"",r,i,s,a,o=n[0],l=[];for(let u=0;u<o.length;u+=1)l[u]=ZE(XE(n,o,u));return{c(){t=ue("label"),r=De(),i=ue("select");for(let u=0;u<l.length;u+=1)l[u].c();B(t,"for","status"),B(i,"id","status-type"),B(i,"class","status-editor-status-selector"),B(i,"accesskey",n[1]),n[2]===void 0&&Hs(()=>n[6].call(i))},m(u,c){Ee(u,t,c),t.innerHTML=e,Ee(u,r,c),Ee(u,i,c);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(i,null);Ty(i,n[2],!0),s||(a=[We(i,"change",n[6]),We(i,"change",n[3])],s=!0)},p(u,[c]){if(c&2&&e!==(e=Ut("Status",u[1])+"")&&(t.innerHTML=e),c&1){o=u[0];let d;for(d=0;d<o.length;d+=1){let f=XE(u,o,d);l[d]?l[d].p(f,c):(l[d]=ZE(f),l[d].c(),l[d].m(i,null))}for(;d<l.length;d+=1)l[d].d(1);l.length=o.length}c&2&&B(i,"accesskey",u[1]),c&5&&Ty(i,u[2])},i:tt,o:tt,d(u){u&&ve(t),u&&ve(r),u&&ve(i),Gs(l,u),s=!1,Gt(a)}}}function JE(n,t,e){let r=n==="";return t&&r?e.formatAsDate():!t&&!r?"":n}function RU(n,t,e){let{task:r}=t,{editableTask:i}=t,{statusOptions:s}=t,{accesskey:a}=t,o=r.status.symbol,l=()=>{let c=s.find(f=>f.symbol===o);if(c)e(4,i.status=c,i);else{console.log(`Error in EditTask: cannot find status with symbol ${o}`);return}let d=r.handleNewStatus(c).pop();d&&(e(4,i.doneDate=JE(i.doneDate,c.isCompleted(),d.done),i),e(4,i.cancelledDate=JE(i.cancelledDate,c.isCancelled(),d.cancelled),i))};function u(){o=oE(this),e(2,o),e(0,s)}return n.$$set=c=>{"task"in c&&e(5,r=c.task),"editableTask"in c&&e(4,i=c.editableTask),"statusOptions"in c&&e(0,s=c.statusOptions),"accesskey"in c&&e(1,a=c.accesskey)},[s,a,o,l,i,r,u]}var Ly=class extends tr{constructor(t){super(),Kr(this,t,RU,MU,zr,{task:5,editableTask:4,statusOptions:0,accesskey:1})}},eD=Ly;function tD(n,t,e){let r=n.slice();return r[49]=t[e].value,r[50]=t[e].label,r[51]=t[e].symbol,r[52]=t[e].accessKey,r[53]=t[e].accessKeyIndex,r}function AU(n){let t,e=n[50]+"",r;return{c(){t=ue("span"),r=Ve(e)},m(i,s){Ee(i,t,s),z(t,r)},p:tt,d(i){i&&ve(t)}}}function PU(n){let t,e=n[50].substring(0,n[53])+"",r,i,s=n[50].substring(n[53],n[53]+1)+"",a,o,l=n[50].substring(n[53]+1)+"",u;return{c(){t=ue("span"),r=Ve(e),i=ue("span"),a=Ve(s),o=ue("span"),u=Ve(l),B(i,"class","accesskey")},m(c,d){Ee(c,t,d),z(t,r),Ee(c,i,d),z(i,a),Ee(c,o,d),z(o,u)},p:tt,d(c){c&&ve(t),c&&ve(i),c&&ve(o)}}}function NU(n){let t,e=n[51]+"",r;return{c(){t=ue("span"),r=Ve(e)},m(i,s){Ee(i,t,s),z(t,r)},p:tt,d(i){i&&ve(t)}}}function nD(n){let t,e,r,i,s,a,o,l,u=n[51]&&n[51].charCodeAt(0)>=256,c,d,f,p,b;function T(A,j){return A[11]?PU:AU}let _=T(n,[-1,-1]),O=_(n),D=u&&NU(n);return f=aE(n[32][0]),{c(){t=ue("div"),e=ue("input"),a=De(),o=ue("label"),O.c(),l=De(),D&&D.c(),d=De(),B(e,"type","radio"),B(e,"id",r="priority-"+n[49]),e.__value=i=n[49],e.value=e.__value,B(e,"accesskey",s=n[15](n[52])),B(o,"for",c="priority-"+n[49]),B(t,"class","task-modal-priority-option-container"),f.p(e)},m(A,j){Ee(A,t,j),z(t,e),e.checked=e.__value===n[3].priority,z(t,a),z(t,o),O.m(o,null),z(o,l),D&&D.m(o,null),z(t,d),p||(b=We(e,"change",n[31]),p=!0)},p(A,j){j[0]&32768&&s!==(s=A[15](A[52]))&&B(e,"accesskey",s),j[0]&8&&(e.checked=e.__value===A[3].priority),_===(_=T(A,j))&&O?O.p(A,j):(O.d(1),O=_(A),O&&(O.c(),O.m(o,l))),u&&D.p(A,j)},d(A){A&&ve(t),O.d(),D&&D.d(),f.r(),p=!1,b()}}}function IU(n){let t;return{c(){t=ue("div"),t.innerHTML="<i>Blocking and blocked by fields are disabled when vault tasks is empty</i>"},m(e,r){Ee(e,t,r)},p:tt,i:tt,o:tt,d(e){e&&ve(t)}}}function FU(n){let t,e,r,i;return t=new Ay({props:{type:"blockedBy",labelText:"Before this",task:n[0],editableTask:n[3],allTasks:n[2],_onDescriptionKeyDown:n[24],accesskey:n[15]("b"),placeholder:"Search for tasks that the task being edited depends on..."}}),r=new Ay({props:{type:"blocking",labelText:"After this",task:n[0],editableTask:n[3],allTasks:n[2],_onDescriptionKeyDown:n[24],accesskey:n[15]("e"),placeholder:"Search for tasks that depend on this task being done..."}}),{c(){xr(t.$$.fragment),e=De(),xr(r.$$.fragment)},m(s,a){rr(t,s,a),Ee(s,e,a),rr(r,s,a),i=!0},p(s,a){let o={};a[0]&1&&(o.task=s[0]),a[0]&8&&(o.editableTask=s[3]),a[0]&4&&(o.allTasks=s[2]),a[0]&32768&&(o.accesskey=s[15]("b")),t.$set(o);let l={};a[0]&1&&(l.task=s[0]),a[0]&8&&(l.editableTask=s[3]),a[0]&4&&(l.allTasks=s[2]),a[0]&32768&&(l.accesskey=s[15]("e")),r.$set(l)},i(s){i||(pn(t.$$.fragment,s),pn(r.$$.fragment,s),i=!0)},o(s){Rn(t.$$.fragment,s),Rn(r.$$.fragment,s),i=!1},d(s){An(t,s),s&&ve(e),An(r,s)}}}function LU(n){let t,e,r,i=Ut("Description",n[15]("t"))+"",s,a,o,l,u,c,d,f,p,b,T,_,O,D,A,j,Y,se,H,Z,ye,we,V,K,C,J,q,oe,m,y,v=Ut("Only future dates:",n[15]("f"))+"",w,S,M,I,W,E,P,$,ce,be,xe,He,Le,jt,fr,vn,ee,Wt,it,us,pr,Mo,oa,la,Ln,Ri,Ro,Ao,Ai,Ir,Iu,ua,Po,cs,Un,Xe,ca,Fr=n[22],xt=[];for(let F=0;F<Fr.length;F+=1)xt[F]=nD(tD(n,Fr,F));function da(F){n[33](F)}let fa={editableTask:n[3],accesskey:n[15]("r")};n[10]!==void 0&&(fa.isRecurrenceValid=n[10]),D=new QE({props:fa}),at.push(()=>an(D,"isRecurrenceValid",da));function mr(F){n[34](F)}function Af(F){n[35](F)}let No={id:"due",dateSymbol:n[18],forwardOnly:n[3].forwardOnly,accesskey:n[15]("d")};n[3].dueDate!==void 0&&(No.date=n[3].dueDate),n[7]!==void 0&&(No.isDateValid=n[7]),Y=new Bs({props:No}),at.push(()=>an(Y,"date",mr)),at.push(()=>an(Y,"isDateValid",Af));function h(F){n[36](F)}function g(F){n[37](F)}let k={id:"scheduled",dateSymbol:n[17],forwardOnly:n[3].forwardOnly,accesskey:n[15]("s")};n[3].scheduledDate!==void 0&&(k.date=n[3].scheduledDate),n[8]!==void 0&&(k.isDateValid=n[8]),ye=new Bs({props:k}),at.push(()=>an(ye,"date",h)),at.push(()=>an(ye,"isDateValid",g));function R(F){n[38](F)}function G(F){n[39](F)}let X={id:"start",dateSymbol:n[16],forwardOnly:n[3].forwardOnly,accesskey:n[15]("a")};n[3].startDate!==void 0&&(X.date=n[3].startDate),n[9]!==void 0&&(X.isDateValid=n[9]),C=new Bs({props:X}),at.push(()=>an(C,"date",R)),at.push(()=>an(C,"isDateValid",G));let _e=[FU,IU],ne=[];function Oe(F,he){return F[2].length>0&&F[14]?0:1}$=Oe(n,[-1,-1]),ce=ne[$]=_e[$](n);function ie(F){n[41](F)}let pe={task:n[0],statusOptions:n[1],accesskey:n[15]("u")};n[3]!==void 0&&(pe.editableTask=n[3]),jt=new eD({props:pe}),at.push(()=>an(jt,"editableTask",ie));function ze(F){n[42](F)}function jn(F){n[43](F)}let Ot={id:"created",dateSymbol:n[20],forwardOnly:n[3].forwardOnly,accesskey:n[15]("c")};n[3].createdDate!==void 0&&(Ot.date=n[3].createdDate),n[5]!==void 0&&(Ot.isDateValid=n[5]),ee=new Bs({props:Ot}),at.push(()=>an(ee,"date",ze)),at.push(()=>an(ee,"isDateValid",jn));function ds(F){n[44](F)}function Pi(F){n[45](F)}let Io={id:"done",dateSymbol:n[21],forwardOnly:n[3].forwardOnly,accesskey:n[15]("x")};n[3].doneDate!==void 0&&(Io.date=n[3].doneDate),n[6]!==void 0&&(Io.isDateValid=n[6]),pr=new Bs({props:Io}),at.push(()=>an(pr,"date",ds)),at.push(()=>an(pr,"isDateValid",Pi));function Fo(F){n[46](F)}function Pf(F){n[47](F)}let Lo={id:"cancelled",dateSymbol:n[19],forwardOnly:n[3].forwardOnly,accesskey:n[15]("-")};return n[3].cancelledDate!==void 0&&(Lo.date=n[3].cancelledDate),n[4]!==void 0&&(Lo.isDateValid=n[4]),Ln=new Bs({props:Lo}),at.push(()=>an(Ln,"date",Fo)),at.push(()=>an(Ln,"isDateValid",Pf)),{c(){t=ue("form"),e=ue("section"),r=ue("label"),s=De(),a=ue("textarea"),l=De(),u=ue("section"),c=ue("label"),d=Ve("Priority"),p=De();for(let F=0;F<xt.length;F+=1)xt[F].c();b=De(),T=ue("hr"),_=De(),O=ue("section"),xr(D.$$.fragment),j=De(),xr(Y.$$.fragment),Z=De(),xr(ye.$$.fragment),K=De(),xr(C.$$.fragment),oe=De(),m=ue("div"),y=ue("label"),w=De(),S=ue("input"),I=De(),W=ue("hr"),E=De(),P=ue("section"),ce.c(),be=De(),xe=ue("hr"),He=De(),Le=ue("section"),xr(jt.$$.fragment),vn=De(),xr(ee.$$.fragment),us=De(),xr(pr.$$.fragment),la=De(),xr(Ln.$$.fragment),Ao=De(),Ai=ue("section"),Ir=ue("button"),Iu=Ve("Apply"),Po=De(),cs=ue("button"),cs.textContent="Cancel",B(r,"for","description"),B(a,"id","description"),B(a,"class","tasks-modal-description"),B(a,"placeholder","Take out the trash"),B(a,"accesskey",o=n[15]("t")),B(e,"class","tasks-modal-description-section"),B(c,"for",f="priority-"+n[3].priority),B(u,"class","tasks-modal-priority-section"),B(y,"for","forwardOnly"),B(S,"id","forwardOnly"),B(S,"type","checkbox"),B(S,"class","task-list-item-checkbox tasks-modal-checkbox"),B(S,"accesskey",M=n[15]("f")),B(m,"class","future-dates-only"),B(O,"class","tasks-modal-dates-section"),B(P,"class","tasks-modal-dependencies-section"),B(Le,"class","tasks-modal-dates-section"),Ir.disabled=ua=!n[13],B(Ir,"type","submit"),B(Ir,"class","mod-cta"),B(cs,"type","button"),B(Ai,"class","tasks-modal-button-section"),B(t,"class","tasks-modal")},m(F,he){Ee(F,t,he),z(t,e),z(e,r),r.innerHTML=i,z(e,s),z(e,a),fn(a,n[3].description),n[30](a),z(t,l),z(t,u),z(u,c),z(c,d),z(u,p);for(let hr=0;hr<xt.length;hr+=1)xt[hr]&&xt[hr].m(u,null);z(t,b),z(t,T),z(t,_),z(t,O),rr(D,O,null),z(O,j),rr(Y,O,null),z(O,Z),rr(ye,O,null),z(O,K),rr(C,O,null),z(O,oe),z(O,m),z(m,y),y.innerHTML=v,z(m,w),z(m,S),S.checked=n[3].forwardOnly,z(t,I),z(t,W),z(t,E),z(t,P),ne[$].m(P,null),z(t,be),z(t,xe),z(t,He),z(t,Le),rr(jt,Le,null),z(Le,vn),rr(ee,Le,null),z(Le,us),rr(pr,Le,null),z(Le,la),rr(Ln,Le,null),z(t,Ao),z(t,Ai),z(Ai,Ir),z(Ir,Iu),z(Ai,Po),z(Ai,cs),Un=!0,Xe||(ca=[We(a,"input",n[29]),We(a,"keydown",n[24]),We(a,"paste",n[25]),We(a,"drop",n[25]),We(S,"change",n[40]),We(cs,"click",n[23]),We(t,"submit",sE(n[26]))],Xe=!0)},p(F,he){if((!Un||he[0]&32768)&&i!==(i=Ut("Description",F[15]("t"))+"")&&(r.innerHTML=i),(!Un||he[0]&32768&&o!==(o=F[15]("t")))&&B(a,"accesskey",o),he[0]&8&&fn(a,F[3].description),(!Un||he[0]&8&&f!==(f="priority-"+F[3].priority))&&B(c,"for",f),he[0]&4229128){Fr=F[22];let Wn;for(Wn=0;Wn<Fr.length;Wn+=1){let wb=tD(F,Fr,Wn);xt[Wn]?xt[Wn].p(wb,he):(xt[Wn]=nD(wb),xt[Wn].c(),xt[Wn].m(u,null))}for(;Wn<xt.length;Wn+=1)xt[Wn].d(1);xt.length=Fr.length}let hr={};he[0]&8&&(hr.editableTask=F[3]),he[0]&32768&&(hr.accesskey=F[15]("r")),!A&&he[0]&1024&&(A=!0,hr.isRecurrenceValid=F[10],sn(()=>A=!1)),D.$set(hr);let fs={};he[0]&8&&(fs.forwardOnly=F[3].forwardOnly),he[0]&32768&&(fs.accesskey=F[15]("d")),!se&&he[0]&8&&(se=!0,fs.date=F[3].dueDate,sn(()=>se=!1)),!H&&he[0]&128&&(H=!0,fs.isDateValid=F[7],sn(()=>H=!1)),Y.$set(fs);let ps={};he[0]&8&&(ps.forwardOnly=F[3].forwardOnly),he[0]&32768&&(ps.accesskey=F[15]("s")),!we&&he[0]&8&&(we=!0,ps.date=F[3].scheduledDate,sn(()=>we=!1)),!V&&he[0]&256&&(V=!0,ps.isDateValid=F[8],sn(()=>V=!1)),ye.$set(ps);let ms={};he[0]&8&&(ms.forwardOnly=F[3].forwardOnly),he[0]&32768&&(ms.accesskey=F[15]("a")),!J&&he[0]&8&&(J=!0,ms.date=F[3].startDate,sn(()=>J=!1)),!q&&he[0]&512&&(q=!0,ms.isDateValid=F[9],sn(()=>q=!1)),C.$set(ms),(!Un||he[0]&32768)&&v!==(v=Ut("Only future dates:",F[15]("f"))+"")&&(y.innerHTML=v),(!Un||he[0]&32768&&M!==(M=F[15]("f")))&&B(S,"accesskey",M),he[0]&8&&(S.checked=F[3].forwardOnly);let Nf=$;$=Oe(F,he),$===Nf?ne[$].p(F,he):(cE(),Rn(ne[Nf],1,1,()=>{ne[Nf]=null}),dE(),ce=ne[$],ce?ce.p(F,he):(ce=ne[$]=_e[$](F),ce.c()),pn(ce,1),ce.m(P,null));let Uo={};he[0]&1&&(Uo.task=F[0]),he[0]&2&&(Uo.statusOptions=F[1]),he[0]&32768&&(Uo.accesskey=F[15]("u")),!fr&&he[0]&8&&(fr=!0,Uo.editableTask=F[3],sn(()=>fr=!1)),jt.$set(Uo);let jo={};he[0]&8&&(jo.forwardOnly=F[3].forwardOnly),he[0]&32768&&(jo.accesskey=F[15]("c")),!Wt&&he[0]&8&&(Wt=!0,jo.date=F[3].createdDate,sn(()=>Wt=!1)),!it&&he[0]&32&&(it=!0,jo.isDateValid=F[5],sn(()=>it=!1)),ee.$set(jo);let Wo={};he[0]&8&&(Wo.forwardOnly=F[3].forwardOnly),he[0]&32768&&(Wo.accesskey=F[15]("x")),!Mo&&he[0]&8&&(Mo=!0,Wo.date=F[3].doneDate,sn(()=>Mo=!1)),!oa&&he[0]&64&&(oa=!0,Wo.isDateValid=F[6],sn(()=>oa=!1)),pr.$set(Wo);let $o={};he[0]&8&&($o.forwardOnly=F[3].forwardOnly),he[0]&32768&&($o.accesskey=F[15]("-")),!Ri&&he[0]&8&&(Ri=!0,$o.date=F[3].cancelledDate,sn(()=>Ri=!1)),!Ro&&he[0]&16&&(Ro=!0,$o.isDateValid=F[4],sn(()=>Ro=!1)),Ln.$set($o),(!Un||he[0]&8192&&ua!==(ua=!F[13]))&&(Ir.disabled=ua)},i(F){Un||(pn(D.$$.fragment,F),pn(Y.$$.fragment,F),pn(ye.$$.fragment,F),pn(C.$$.fragment,F),pn(ce),pn(jt.$$.fragment,F),pn(ee.$$.fragment,F),pn(pr.$$.fragment,F),pn(Ln.$$.fragment,F),Un=!0)},o(F){Rn(D.$$.fragment,F),Rn(Y.$$.fragment,F),Rn(ye.$$.fragment,F),Rn(C.$$.fragment,F),Rn(ce),Rn(jt.$$.fragment,F),Rn(ee.$$.fragment,F),Rn(pr.$$.fragment,F),Rn(Ln.$$.fragment,F),Un=!1},d(F){F&&ve(t),n[30](null),Gs(xt,F),An(D),An(Y),An(ye),An(C),ne[$].d(),An(jt),An(ee),An(pr),An(Ln),Xe=!1,Gt(ca)}}}function UU(n,t,e){let r,{task:i}=t,{onSubmit:s}=t,{statusOptions:a}=t,{allTasks:o}=t,{prioritySymbols:l,startDateSymbol:u,scheduledDateSymbol:c,dueDateSymbol:d,cancelledDateSymbol:f,createdDateSymbol:p,doneDateSymbol:b}=Er.tasksPluginEmoji.taskSerializer.symbols,T,_=ro.fromTask(i,o),O=!0,D=!0,A=!0,j=!0,Y=!0,se=!0,H=!0,Z=!0,ye=!0,we=!0,V=!1,K=[{value:"lowest",label:"Lowest",symbol:l.Lowest,accessKey:"o",accessKeyIndex:1},{value:"low",label:"Low",symbol:l.Low,accessKey:"l",accessKeyIndex:0},{value:"none",label:"Normal",symbol:l.None,accessKey:"n",accessKeyIndex:0},{value:"medium",label:"Medium",symbol:l.Medium,accessKey:"m",accessKeyIndex:0},{value:"high",label:"High",symbol:l.High,accessKey:"h",accessKeyIndex:0},{value:"highest",label:"Highest",symbol:l.Highest,accessKey:"i",accessKeyIndex:1}];_y(()=>{let{provideAccessKeys:ee}=le();e(11,ye=ee),e(14,V=!0),setTimeout(()=>{T.focus()},10)});let C=()=>{s([])},J=ee=>{ee.key==="Enter"&&!ee.isComposing&&(ee.preventDefault(),we&&oe())},q=()=>{setTimeout(()=>{e(3,_.description=_.description.replace(/[\r\n]+/g," "),_)},0)},oe=()=>fE(void 0,void 0,void 0,function*(){let ee=yield _.applyEdits(i,o);s(ee)}),m=[[]];function y(){_.description=this.value,e(3,_)}function v(ee){at[ee?"unshift":"push"](()=>{T=ee,e(12,T)})}function w(){_.priority=this.__value,e(3,_)}function S(ee){Z=ee,e(10,Z)}function M(ee){n.$$.not_equal(_.dueDate,ee)&&(_.dueDate=ee,e(3,_))}function I(ee){Y=ee,e(7,Y)}function W(ee){n.$$.not_equal(_.scheduledDate,ee)&&(_.scheduledDate=ee,e(3,_))}function E(ee){se=ee,e(8,se)}function P(ee){n.$$.not_equal(_.startDate,ee)&&(_.startDate=ee,e(3,_))}function $(ee){H=ee,e(9,H)}function ce(){_.forwardOnly=this.checked,e(3,_)}function be(ee){_=ee,e(3,_)}function xe(ee){n.$$.not_equal(_.createdDate,ee)&&(_.createdDate=ee,e(3,_))}function He(ee){A=ee,e(5,A)}function Le(ee){n.$$.not_equal(_.doneDate,ee)&&(_.doneDate=ee,e(3,_))}function jt(ee){j=ee,e(6,j)}function fr(ee){n.$$.not_equal(_.cancelledDate,ee)&&(_.cancelledDate=ee,e(3,_))}function vn(ee){D=ee,e(4,D)}return n.$$set=ee=>{"task"in ee&&e(0,i=ee.task),"onSubmit"in ee&&e(27,s=ee.onSubmit),"statusOptions"in ee&&e(1,a=ee.statusOptions),"allTasks"in ee&&e(2,o=ee.allTasks)},n.$$.update=()=>{if(n.$$.dirty[0]&2048){e:e(15,r=ee=>ye?ee:null)}if(n.$$.dirty[0]&8){e:e(28,O=_.description.trim()!=="")}if(n.$$.dirty[0]&268437488){e:e(13,we=Y&&Z&&se&&H&&O&&D&&A&&j)}},[i,a,o,_,D,A,j,Y,se,H,Z,ye,T,we,V,r,u,c,d,f,p,b,K,C,J,q,oe,s,O,y,v,w,m,S,M,I,W,E,P,$,ce,be,xe,He,Le,jt,fr,vn]}var Uy=class extends tr{constructor(t){super(),Kr(this,t,UU,LU,zr,{task:0,onSubmit:27,statusOptions:1,allTasks:2},null,[-1,-1])}},rD=Uy;wi();Sr();var zi=class extends iD.Modal{constructor({app:e,task:r,onSubmit:i,allTasks:s}){super(e);this.task=r,this.allTasks=s,this.onSubmit=a=>{a.length&&i(a),this.close()}}onOpen(){this.titleEl.setText("Create or edit Task"),this.modalEl.style.paddingBottom="0";let{contentEl:e}=this;this.contentEl.style.paddingBottom="0";let r=this.getKnownStatusesAndCurrentTaskStatusIfNotKnown();new rD({target:e,props:{task:this.task,statusOptions:r,onSubmit:this.onSubmit,allTasks:this.allTasks}})}getKnownStatusesAndCurrentTaskStatusIfNotKnown(){let e=Be.getInstance().registeredStatuses;return Be.getInstance().bySymbol(this.task.status.symbol)===ge.EMPTY&&e.push(this.task.status),e}onClose(){let{contentEl:e}=this;e.empty()}};Gi();Sr();Zc();Nt();Gi();wi();nn();Cn();Wa();ii();function jU(){let{setCreatedDate:n}=le();return n?window.moment():null}function WU(n){let{setCreatedDate:t}=le();if(!t||n.createdDate!==null)return!1;let e=n.description==="",r=!Fe.getInstance().isEmpty(),i=!Fe.getInstance().includedIn(n.description);return e||r&&i}var xd=({line:n,path:t})=>{var f,p;let e=fe.parseTaskSignifiers(n,Lt.fromUnknownPosition(new mt(t)),Ft.fromPath(t)),r=jU();if(e!==null)return WU(e)?new fe(me(U({},e),{createdDate:r})):e;let i=n.match(de.nonTaskRegex);if(i===null)return console.error("Tasks: Cannot create task on line:",n),new fe({status:ge.TODO,description:"",taskLocation:Lt.fromUnknownPosition(new mt(t)),indentation:"",listMarker:"-",priority:"3",createdDate:r,startDate:null,scheduledDate:null,dueDate:null,doneDate:null,cancelledDate:null,recurrence:null,onCompletion:"",dependsOn:[],id:"",blockLink:"",tags:[],originalMarkdown:"",scheduledDateIsInferred:!1});let s=i[1],a=(f=i[2])!=null?f:"-",o=(p=i[4])!=null?p:" ",l=Be.getInstance().bySymbolOrCreate(o),u=i[5],c=n.match(de.blockLinkRegex),d=c!==null?c[0]:"";return d!==""&&(u=u.replace(de.blockLinkRegex,"")),new fe({status:l,description:u,taskLocation:Lt.fromUnknownPosition(new mt(t)),indentation:s,listMarker:a,blockLink:d,priority:"3",createdDate:r,startDate:null,scheduledDate:null,dueDate:null,doneDate:null,cancelledDate:null,recurrence:null,onCompletion:"",tags:[],originalMarkdown:"",scheduledDateIsInferred:!1,id:"",dependsOn:[]})};var sD=(n,t,e,r,i)=>{var f;if(n)return e instanceof jy.MarkdownView;if(!(e instanceof jy.MarkdownView))return;let s=(f=e.file)==null?void 0:f.path;if(s===void 0)return;let o=t.getCursor().line,l=t.getLine(o),u=xd({line:l,path:s}),c=p=>{let b=Ft.removeInferredStatusIfNeeded(u,p).map(T=>T.toFileLineString()).join(`
`);t.setLine(o,b)};new zi({app:r,task:u,onSubmit:c,allTasks:i}).open()};var Wy=require("obsidian");wi();Nt();ii();var aD=(n,t,e)=>{var l;if(n)return e instanceof Wy.MarkdownView;if(!(e instanceof Wy.MarkdownView))return;let r=(l=e.file)==null?void 0:l.path;if(r===void 0)return;let i=t.getCursor(),s=i.line,a=t.getLine(s),o=$y(a,r);t.setLine(s,o.text),t.setCursor($U(i,o))},$y=(n,t)=>{let e=fe.fromLine({line:n,taskLocation:Lt.fromUnknownPosition(new mt(t)),fallbackDate:null});if(e!==null){let r=e.toggleWithRecurrenceInUsersOrder().map(s=>s.toFileLineString()),i=r.length>0?r.length-1:0;return{text:r.join(`
`),moveTo:{line:i}}}else{let r=n.match(de.taskRegex);if(r!==null){let i=r[3],a=Be.getInstance().bySymbol(i).nextStatusSymbol;return{text:n.replace(de.taskRegex,`$1- [${a}] $4`)}}else if(de.listItemRegex.test(n)){let i=n.replace(de.listItemRegex,"$1$2 [ ]");return{text:i,moveTo:{ch:i.length}}}else{let i=n.replace(de.indentationRegex,"$1- ");return{text:i,moveTo:{ch:i.length}}}}},$U=(n,t)=>{var s;let e={line:0,ch:n.ch},r=U(U({},e),(s=t.moveTo)!=null?s:{}),i=t.text.split(`
`)[r.line].length;return{line:n.line+r.line,ch:Math.min(r.ch,i)}};var lb=require("obsidian");nn();var Ki=class{constructor(){this.hidePostponeButton=!1;this.hideTaskCount=!1;this.hideBacklinks=!1;this.hideEditButton=!1;this.hideUrgency=!0;this.hideTree=!0;this.shortMode=!1;this.explainQuery=!1}};function oD(n,t,e){let r=new Map([["backlink","hideBacklinks"],["edit button","hideEditButton"],["postpone button","hidePostponeButton"],["task count","hideTaskCount"],["tree","hideTree"],["urgency","hideUrgency"]]);for(let[i,s]of r.entries())if(t.startsWith(i))return n[s]=e,!0;return!1}Is();function Xs(n,t){let e=`Error: ${n}.
The error message was:
    `,r="";return t instanceof Error?r+=t:r+="Unknown error",`${e}"${r}"`}$s();var qU=Object.prototype.toString,so=Array.isArray||function(t){return qU.call(t)==="[object Array]"};function Yy(n){return typeof n=="function"}function YU(n){return so(n)?"array":typeof n}function qy(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function lD(n,t){return n!=null&&typeof n=="object"&&t in n}function HU(n,t){return n!=null&&typeof n!="object"&&n.hasOwnProperty&&n.hasOwnProperty(t)}var GU=RegExp.prototype.test;function BU(n,t){return GU.call(n,t)}var VU=/\S/;function zU(n){return!BU(VU,n)}var KU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function QU(n){return String(n).replace(/[&<>"'`=\/]/g,function(e){return KU[e]})}var XU=/\s*/,ZU=/\s+/,uD=/\s*=/,JU=/\s*\}/,ej=/#|\^|\/|>|\{|&|=|!/;function tj(n,t){if(!n)return[];var e=!1,r=[],i=[],s=[],a=!1,o=!1,l="",u=0;function c(){if(a&&!o)for(;s.length;)delete i[s.pop()];else s=[];a=!1,o=!1}var d,f,p;function b(Z){if(typeof Z=="string"&&(Z=Z.split(ZU,2)),!so(Z)||Z.length!==2)throw new Error("Invalid tags: "+Z);d=new RegExp(qy(Z[0])+"\\s*"),f=new RegExp("\\s*"+qy(Z[1])),p=new RegExp("\\s*"+qy("}"+Z[1]))}b(t||or.tags);for(var T=new vu(n),_,O,D,A,j,Y;!T.eos();){if(_=T.pos,D=T.scanUntil(d),D)for(var se=0,H=D.length;se<H;++se)A=D.charAt(se),zU(A)?(s.push(i.length),l+=A):(o=!0,e=!0,l+=" "),i.push(["text",A,_,_+1]),_+=1,A===`
`&&(c(),l="",u=0,e=!1);if(!T.scan(d))break;if(a=!0,O=T.scan(ej)||"name",T.scan(XU),O==="="?(D=T.scanUntil(uD),T.scan(uD),T.scanUntil(f)):O==="{"?(D=T.scanUntil(p),T.scan(JU),T.scanUntil(f),O="&"):D=T.scanUntil(f),!T.scan(f))throw new Error("Unclosed tag at "+T.pos);if(O==">"?j=[O,D,_,T.pos,l,u,e]:j=[O,D,_,T.pos],u++,i.push(j),O==="#"||O==="^")r.push(j);else if(O==="/"){if(Y=r.pop(),!Y)throw new Error('Unopened section "'+D+'" at '+_);if(Y[1]!==D)throw new Error('Unclosed section "'+Y[1]+'" at '+_)}else O==="name"||O==="{"||O==="&"?o=!0:O==="="&&b(D)}if(c(),Y=r.pop(),Y)throw new Error('Unclosed section "'+Y[1]+'" at '+T.pos);return rj(nj(i))}function nj(n){for(var t=[],e,r,i=0,s=n.length;i<s;++i)e=n[i],e&&(e[0]==="text"&&r&&r[0]==="text"?(r[1]+=e[1],r[3]=e[3]):(t.push(e),r=e));return t}function rj(n){for(var t=[],e=t,r=[],i,s,a=0,o=n.length;a<o;++a)switch(i=n[a],i[0]){case"#":case"^":e.push(i),r.push(i),e=i[4]=[];break;case"/":s=r.pop(),s[5]=i[2],e=r.length>0?r[r.length-1][4]:t;break;default:e.push(i)}return t}function vu(n){this.string=n,this.tail=n,this.pos=0}vu.prototype.eos=function(){return this.tail===""};vu.prototype.scan=function(t){var e=this.tail.match(t);if(!e||e.index!==0)return"";var r=e[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r};vu.prototype.scanUntil=function(t){var e=this.tail.search(t),r;switch(e){case-1:r=this.tail,this.tail="";break;case 0:r="";break;default:r=this.tail.substring(0,e),this.tail=this.tail.substring(e)}return this.pos+=r.length,r};function io(n,t){this.view=n,this.cache={".":this.view},this.parent=t}io.prototype.push=function(t){return new io(t,this)};io.prototype.lookup=function(t){var e=this.cache,r;if(e.hasOwnProperty(t))r=e[t];else{for(var i=this,s,a,o,l=!1;i;){if(t.indexOf(".")>0)for(s=i.view,a=t.split("."),o=0;s!=null&&o<a.length;)o===a.length-1&&(l=lD(s,a[o])||HU(s,a[o])),s=s[a[o++]];else s=i.view[t],l=lD(i.view,t);if(l){r=s;break}i=i.parent}e[t]=r}return Yy(r)&&(r=r.call(this.view)),r};function on(){this.templateCache={_cache:{},set:function(t,e){this._cache[t]=e},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}on.prototype.clearCache=function(){typeof this.templateCache!="undefined"&&this.templateCache.clear()};on.prototype.parse=function(t,e){var r=this.templateCache,i=t+":"+(e||or.tags).join(":"),s=typeof r!="undefined",a=s?r.get(i):void 0;return a==null&&(a=tj(t,e),s&&r.set(i,a)),a};on.prototype.render=function(t,e,r,i){var s=this.getConfigTags(i),a=this.parse(t,s),o=e instanceof io?e:new io(e,void 0);return this.renderTokens(a,o,r,t,i)};on.prototype.renderTokens=function(t,e,r,i,s){for(var a="",o,l,u,c=0,d=t.length;c<d;++c)u=void 0,o=t[c],l=o[0],l==="#"?u=this.renderSection(o,e,r,i,s):l==="^"?u=this.renderInverted(o,e,r,i,s):l===">"?u=this.renderPartial(o,e,r,s):l==="&"?u=this.unescapedValue(o,e):l==="name"?u=this.escapedValue(o,e,s):l==="text"&&(u=this.rawValue(o)),u!==void 0&&(a+=u);return a};on.prototype.renderSection=function(t,e,r,i,s){var a=this,o="",l=e.lookup(t[1]);function u(f){return a.render(f,e,r,s)}if(!!l){if(so(l))for(var c=0,d=l.length;c<d;++c)o+=this.renderTokens(t[4],e.push(l[c]),r,i,s);else if(typeof l=="object"||typeof l=="string"||typeof l=="number")o+=this.renderTokens(t[4],e.push(l),r,i,s);else if(Yy(l)){if(typeof i!="string")throw new Error("Cannot use higher-order sections without the original template");l=l.call(e.view,i.slice(t[3],t[5]),u),l!=null&&(o+=l)}else o+=this.renderTokens(t[4],e,r,i,s);return o}};on.prototype.renderInverted=function(t,e,r,i,s){var a=e.lookup(t[1]);if(!a||so(a)&&a.length===0)return this.renderTokens(t[4],e,r,i,s)};on.prototype.indentPartial=function(t,e,r){for(var i=e.replace(/[^ \t]/g,""),s=t.split(`
`),a=0;a<s.length;a++)s[a].length&&(a>0||!r)&&(s[a]=i+s[a]);return s.join(`
`)};on.prototype.renderPartial=function(t,e,r,i){if(!!r){var s=this.getConfigTags(i),a=Yy(r)?r(t[1]):r[t[1]];if(a!=null){var o=t[6],l=t[5],u=t[4],c=a;l==0&&u&&(c=this.indentPartial(a,u,o));var d=this.parse(c,s);return this.renderTokens(d,e,r,c,i)}}};on.prototype.unescapedValue=function(t,e){var r=e.lookup(t[1]);if(r!=null)return r};on.prototype.escapedValue=function(t,e,r){var i=this.getConfigEscape(r)||or.escape,s=e.lookup(t[1]);if(s!=null)return typeof s=="number"&&i===or.escape?String(s):i(s)};on.prototype.rawValue=function(t){return t[1]};on.prototype.getConfigTags=function(t){return so(t)?t:t&&typeof t=="object"?t.tags:void 0};on.prototype.getConfigEscape=function(t){if(t&&typeof t=="object"&&!so(t))return t.escape};var or={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(n){_u.templateCache=n},get templateCache(){return _u.templateCache}},_u=new on;or.clearCache=function(){return _u.clearCache()};or.parse=function(t,e){return _u.parse(t,e)};or.render=function(t,e,r,i){if(typeof t!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+YU(t)+'" was given as the first argument for mustache#render(template, view, partials)');return _u.render(t,e,r,i)};or.escape=QU;or.Scanner=vu;or.Context=io;or.Writer=on;var Hy=or;var mD=Yo(pD());var Xr=class{constructor(t){this.instruction=t}get queryComponent(){return this._queryComponent}set queryComponent(t){this._queryComponent=t}get error(){return this._error}set error(t){this._error=t}isValid(){return this._queryComponent!==void 0}static fromObject(t,e){let r=new Xr(t);return r._queryComponent=e,r}static fromError(t,e){let r=new Xr(t);return r._error=e,r}};var wu=class extends Xr{};function ku(n,t){try{let e=n.map(([s])=>s),r=t.includes("return")?t:`return ${t}`,i=t&&new Function(...e,r);return i instanceof Function?wu.fromObject(t,i):wu.fromError(t,`Problem parsing expression "${t}"`)}catch(e){return wu.fromError(t,Xs(`Failed parsing expression "${t}"`,e))}}function Su(n,t){let e=t.map(([r,i])=>i);return n(...e)}function By(n,t,e){try{return Su(n,t)}catch(r){return Xs(`Failed calculating expression "${e}"`,r)}}function hD(n,t){Hy.escape=function(e){return e};try{let e=sj(n,t);return Hy.render(e,(0,mD.default)(t))}catch(e){let r="";throw e instanceof Error?r=`There was an error expanding one or more placeholders.

The error message was:
    ${e.message.replace(/ > /g,".").replace("Missing Mustache data property","Unknown property")}`:r="Unknown error expanding placeholders.",r+=`

The problem is in:
    ${n}`,Error(r)}}var ij=new RegExp(["\\{\\{","(.*?)","\\}\\}"].join(""),"g");function sj(n,t){return n.replace(ij,(e,r)=>{let i=aj(t),s=ku(i,r);if(s.isValid()){let a=Su(s.queryComponent,i);if(a!==void 0)return a}return e})}function aj(n){return Object.entries(n)}function gD(n){return Vy(n,[])}function Vy(n,t){return{query:{file:n,allTasks:t}}}nn();var ao=class{constructor(t=""){this.indentation=t}explainQuery(t){if(t.error!==void 0)return this.explainError(t);let e=[];return e.push(this.explainFilters(t)),e.push(this.explainGroups(t)),e.push(this.explainSorters(t)),e.push(this.explainQueryLimits(t)),e.push(this.explainDebugSettings()),e.filter(r=>r!=="").join(`
`)}explainError(t){let e="";return e+=`Query has an error:
`,e+=t.error+`
`,e}explainFilters(t){return t.filters.length===0?this.indent(`No filters supplied. All tasks will match the query.
`):t.filters.map(e=>e.explainFilterIndented(this.indentation)).join(`
`)}explainGroups(t){return t.grouping.length===0?"":t.grouping.map(e=>e.statement.explainStatement(this.indentation)).join(`

`)+`
`}explainSorters(t){return t.sorting.length===0?"":t.sorting.map(e=>e.statement.explainStatement(this.indentation)).join(`

`)+`
`}explainQueryLimits(t){function e(i){let s=`At most ${i} task`;return i!==1&&(s+="s"),s}let r=[];if(t.limit!==void 0){let i=e(t.limit)+`.
`;r.push(this.indent(i))}if(t.taskGroupLimit!==void 0){let i=e(t.taskGroupLimit)+` per group (if any "group by" options are supplied).
`;r.push(this.indent(i))}return r.join(`
`)}explainDebugSettings(){let t="",{debugSettings:e}=le();return e.ignoreSortInstructions&&(t+=this.indent(`NOTE: All sort instructions, including default sort order, are disabled, due to 'ignoreSortInstructions' setting.
`)),t}indent(t){return this.indentation+t}};Cn();var Ye=class{constructor(t,e=[],r=""){this.description=t,this.symbol=r,this.children=e}static booleanAnd(t){return this.combineOrCreateExplanation("All of",t,"AND")}static booleanOr(t){return this.combineOrCreateExplanation("At least one of",t,"OR")}static booleanNot(t){return new Ye("None of",t,"NOT")}static booleanXor(t){return new Ye("Exactly one of",t,"XOR")}asString(t=""){if(this.children.length==0)return t+this.description;let e=t;this.symbol===""?e+=this.description:(e+=this.symbol,this.children.length>1&&(e+=` (${this.description})`),e+=":");let r=t+"  ";for(let i=0;i<this.children.length;i++)e+=`
${this.children[i].asString(r)}`;return e}static combineOrCreateExplanation(t,e,r){if(e.length===2){let i=e[0],s=e[1];if(i.symbol===r&&s.symbol==="")return i.children.push(s),i}return new Ye(t,e,r)}};var oo=class{matchesAnyOf(t){return t.some(e=>this.matches(e))}};var lo=class extends oo{constructor(e){super();this.stringToFind=e}matches(e){return lo.stringIncludesCaseInsensitive(e,this.stringToFind)}static stringIncludesCaseInsensitive(e,r){return e.toLocaleLowerCase().includes(r.toLocaleLowerCase())}explanation(e){return new Ye(e)}};var Qi=class extends oo{constructor(e){super();this.regex=e}static validateAndConstruct(e){let r=/^\/(.+)\/([^/]*)$/,i=e.match(r);if(i!==null){let s=new RegExp(i[1],i[2]);return new Qi(s)}else return null}matches(e){return e.match(this.regex)!==null}static helpMessage(){return String.raw`See https://publish.obsidian.md/tasks/Queries/Regular+Expressions

Regular expressions must look like this:
    /pattern/
or this:
    /pattern/flags

Where:
- pattern: The 'regular expression' pattern to search for.
- flags:   Optional characters that modify the search.
           i => make the search case-insensitive
           u => add Unicode support

Examples:  /^Log/
           /^Log/i
           /File Name\.md/
           /waiting|waits|waited/i
           /\d\d:\d\d/

The following characters have special meaning in the pattern:
to find them literally, you must add a \ before them:
    [\^$.|?*+()

CAUTION! Regular expression (or 'regex') searching is a powerful
but advanced feature that requires thorough knowledge in order to
use successfully, and not miss intended search results.
`}explanation(e){let i=oj(e,"using regex: ",this.regexAsString());return new Ye(i)}regexAsString(){let e=`'${this.regex.source}' with `;switch(this.regex.flags.length){case 0:e+="no flags";break;case 1:e+=`flag '${this.regex.flags}'`;break;default:e+=`flags '${this.regex.flags}'`;break}return e}};function oj(n,t,e){var o;let r=n.match(/\//);if(!r)return"Error explaining instruction. Could not find a slash character";let i=2,s=((o=r.index)!=null?o:i)-i;return`${t.padEnd(s)}${e}`}var gn=class{constructor(t,e){this._rawInstruction=t,this._anyContinuationLinesRemoved=e.trim(),this._anyPlaceholdersExpanded=this._anyContinuationLinesRemoved}recordExpandedPlaceholders(t){this._anyPlaceholdersExpanded=t}get rawInstruction(){return this._rawInstruction}get anyContinuationLinesRemoved(){return this._anyContinuationLinesRemoved}get anyPlaceholdersExpanded(){return this._anyPlaceholdersExpanded}explainStatement(t){function e(a,o){o!==a&&(s+=` =>
${t}${o}`)}let r=this._rawInstruction.trim(),i=r.split(`
`).join(`
`+t),s=`${t}${i}`;return this._rawInstruction.includes(`
`)&&(s+=`
`+t),e(r,this._anyContinuationLinesRemoved),e(this._anyContinuationLinesRemoved,this._anyPlaceholdersExpanded),s}allLinesIdentical(){return this._rawInstruction===this._anyContinuationLinesRemoved&&this._rawInstruction===this._anyPlaceholdersExpanded}};var Mr=class{constructor(t,e,r,i){this._statement=new gn(t,t),this.property=e,this.comparator=Mr.maybeReverse(i,r)}setStatement(t){this._statement=t}get statement(){return this._statement}get instruction(){return this._statement.anyPlaceholdersExpanded}static maybeReverse(t,e){return t?Mr.makeReversedComparator(e):e}static makeReversedComparator(t){return(e,r,i)=>t(e,r,i)*-1}};ou();var Xi=class{constructor(t,e,r,i){this._statement=new gn(t,t),this.property=e,this.grouper=r,this.reverse=i}setStatement(t){this._statement=t}get statement(){return this._statement}get instruction(){return this._statement.anyPlaceholdersExpanded}};var $e=class{canCreateFilterForLine(t){return $e.lineMatchesFilter(this.filterRegExp(),t)}static lineMatchesFilter(t,e){return t?t.test(e):!1}static getMatch(t,e){return t?e.match(t):null}fieldNameSingular(){return this.fieldName()}fieldNameSingularEscaped(){return Yi(this.fieldNameSingular())}supportsSorting(){return!1}createSorterFromLine(t){if(!this.supportsSorting())return null;let e=$e.getMatch(this.sorterRegExp(),t);if(e===null)return null;let r=!!e[1];return this.createSorter(r)}sorterRegExp(){if(!this.supportsSorting())throw Error(`sorterRegExp() unimplemented for ${this.fieldNameSingular()}`);return new RegExp(`^sort by ${this.fieldNameSingularEscaped()}( reverse)?`,"i")}sorterInstruction(t){let e=`sort by ${this.fieldNameSingular()}`;return t&&(e+=" reverse"),e}comparator(){throw Error(`comparator() unimplemented for ${this.fieldNameSingular()}`)}createSorter(t){return new Mr(this.sorterInstruction(t),this.fieldNameSingular(),this.comparator(),t)}createNormalSorter(){return this.createSorter(!1)}createReverseSorter(){return this.createSorter(!0)}supportsGrouping(){return!1}createGrouperFromLine(t){if(!this.supportsGrouping())return null;let e=$e.getMatch(this.grouperRegExp(),t);if(e===null)return null;let r=!!e[1];return this.createGrouper(r)}grouperRegExp(){if(!this.supportsGrouping())throw Error(`grouperRegExp() unimplemented for ${this.fieldNameSingular()}`);return new RegExp(`^group by ${this.fieldNameSingularEscaped()}( reverse)?$`,"i")}grouperInstruction(t){let e=`group by ${this.fieldNameSingular()}`;return t&&(e+=" reverse"),e}grouper(){throw Error(`grouper() unimplemented for ${this.fieldNameSingular()}`)}createGrouper(t){return new Xi(this.grouperInstruction(t),this.fieldNameSingular(),this.grouper(),t)}createNormalGrouper(){return this.createGrouper(!1)}createReverseGrouper(){return this.createGrouper(!0)}};var Bt=class{constructor(t,e,r){this._statement=new gn(t,t),this.explanation=r,this.filterFunction=e}get statement(){return this._statement}setStatement(t){this._statement=t}get instruction(){return this._statement.anyPlaceholdersExpanded}explainFilterIndented(t){let e=this._statement.explainStatement(t);return this.onlyNeedsOneLineExplanation()?`${e}
`:`${e} =>
${this.explanation.asString(t+"  ")}
`}simulateExplainFilter(){return this.onlyNeedsOneLineExplanation()?this.explanation:new Ye(this.instruction+" =>",[this.explanation])}onlyNeedsOneLineExplanation(){return this.explanation.asString("")===this.instruction}};var ke=class{constructor(t){this.object=t}get instruction(){return this.object.instruction}get filter(){return this.object.queryComponent}isValid(){return this.object.isValid()}get error(){return this.object.error}get filterFunction(){if(this.filter)return this.filter.filterFunction}static fromFilter(t){return new ke(Xr.fromObject(t.instruction,t))}static fromError(t,e){return new ke(Xr.fromError(t,e))}};var Ze=class extends $e{createFilterOrErrorMessage(t){let e=$e.getMatch(this.filterRegExp(),t);if(e===null)return ke.fromError(t,`do not understand query filter (${this.fieldName()})`);let r=e[1].toLowerCase(),i=e[2],s=null;if(r.includes("include"))s=new lo(i);else if(r.includes("regex")){try{s=Qi.validateAndConstruct(i)}catch(l){let u=Xs("Parsing regular expression",l)+`

${Qi.helpMessage()}`;return ke.fromError(t,u)}if(s===null)return ke.fromError(t,`Invalid instruction: '${t}'

${Qi.helpMessage()}`)}if(s===null)return ke.fromError(t,`do not understand query filter (${this.fieldName()})`);let a=r.match(/not/)!==null,o=new Bt(t,this.getFilter(s,a),s.explanation(t));return ke.fromFilter(o)}fieldPattern(){return this.fieldNameSingularEscaped()}filterOperatorPattern(){return"includes|does not include|regex matches|regex does not match"}filterRegExp(){return new RegExp(`^(?:${this.fieldPattern()}) (${this.filterOperatorPattern()}) (.*)`,"i")}getFilter(t,e){return r=>{let i=t.matches(this.value(r));return e?!i:i}}comparator(){return(t,e)=>this.value(t).localeCompare(this.value(e),void 0,{numeric:!0})}grouper(){return t=>[this.value(t)]}static escapeMarkdownCharacters(t){return t.replace(/\\/g,"\\\\").replace(/_/g,"\\_")}};var Zs=class extends Ze{fieldName(){return"description"}value(t){return Fe.getInstance().removeAsSubstringFrom(t.description)}supportsSorting(){return!0}comparator(){return(t,e)=>{let r=Zs.cleanDescription(t.description),i=Zs.cleanDescription(e.description);return r.localeCompare(i,void 0,{numeric:!0})}}static cleanDescription(t){t=Fe.getInstance().removeAsSubstringFrom(t);let e=/^\[\[?([^\]]*)]]?/,r=t.match(e);if(r!==null){let i=r[1];t=i.substring(i.indexOf("|")+1)+t.replace(e,"")}return t=this.replaceFormatting(t,/^\*\*([^*]+)\*\*/),t=this.replaceFormatting(t,/^\*([^*]+)\*/),t=this.replaceFormatting(t,/^==([^=]+)==/),t=this.replaceFormatting(t,/^__([^_]+)__/),t=this.replaceFormatting(t,/^_([^_]+)_/),t}static replaceFormatting(t,e){let r=t.match(e);return r!==null&&(t=r[1]+t.replace(e,"")),t}};Ng();Ig();Cs();var Od=class{findUnexpandedDateText(t){let e=["<%","YYYY-MM-DD"];for(let r of e)if(t.includes(r))return this.unexpandedDateTextMessage(r);return null}unexpandedDateTextMessage(t){return`Instruction contains unexpanded template text: "${t}" - and cannot be interpreted.

Possible causes:
- The query is an a template file, and is not intended to be searched.
- A command such as "Replace templates in the active file" needs to be run.
- The core "Daily notes" plugin is in use, and the template contained
  date calculations that it does not support.
- Some sample template text was accidentally pasted in to a tasks query,
  instead of in to a template file.

See: https://publish.obsidian.md/tasks/Advanced/Daily+Agenda#Instruction+contains+unexpanded+template+text
`}};var Cd=class{constructor(t,e){this._instruction=t,this._filter=e}canCreateFilterForLine(t){return t.toLocaleLowerCase()===this._instruction.toLocaleLowerCase()}createFilterOrErrorMessage(t){return this.canCreateFilterForLine(t)?ke.fromFilter(new Bt(t,this._filter,new Ye(t))):ke.fromError(t,`do not understand filter: ${t}`)}};var yn=class{constructor(){this._filters=[]}add(t,e){this._filters.push(new Cd(t,e))}canCreateFilterForLine(t){return this._filters.some(e=>e.canCreateFilterForLine(t))}createFilterOrErrorMessage(t){for(let e of this._filters){let r=e.createFilterOrErrorMessage(t);if(r.isValid())return r}return ke.fromError(t,`do not understand filter: ${t}`)}};var Dt=class extends $e{constructor(e=null){super();e!==null?this.filterInstructions=e:(this.filterInstructions=new yn,this.filterInstructions.add(`has ${this.fieldName()} date`,r=>this.date(r)!==null),this.filterInstructions.add(`no ${this.fieldName()} date`,r=>this.date(r)===null),this.filterInstructions.add(`${this.fieldName()} date is invalid`,r=>{let i=this.date(r);return i!==null&&!i.isValid()}))}canCreateFilterForLine(e){return this.filterInstructions.canCreateFilterForLine(e)?!0:super.canCreateFilterForLine(e)}createFilterOrErrorMessage(e){var f;let r=this.checkForUnexpandedTemplateText(e);if(r)return ke.fromError(e,r);let i=this.filterInstructions.createFilterOrErrorMessage(e);if(i.isValid())return i;let s=$e.getMatch(this.filterRegExp(),e);if(s===null)return ke.fromError(e,"do not understand query filter ("+this.fieldName()+" date)");let a=s[1],o=(f=s[2])==null?void 0:f.toLowerCase(),l=s[3],u=Dn.parseDateRange(l);if(!u.isValid()){let p=Dn.parseDate(a);p.isValid()&&(u=new Jt(p,p))}if(!u.isValid())return ke.fromError(e,"do not understand "+this.fieldName()+" date");let c=this.buildFilterFunction(o,u),d=Dt.buildExplanation(this.fieldNameForExplanation(),o,this.filterResultIfFieldMissing(),u);return ke.fromFilter(new Bt(e,c,d))}buildFilterFunction(e,r){let i;switch(e){case"before":i=s=>s?s.isBefore(r.start):this.filterResultIfFieldMissing();break;case"after":i=s=>s?s.isAfter(r.end):this.filterResultIfFieldMissing();break;case"on or before":case"in or before":i=s=>s?s.isSameOrBefore(r.end):this.filterResultIfFieldMissing();break;case"on or after":case"in or after":i=s=>s?s.isSameOrAfter(r.start):this.filterResultIfFieldMissing();break;default:i=s=>s?s.isSameOrAfter(r.start)&&s.isSameOrBefore(r.end):this.filterResultIfFieldMissing()}return this.getFilter(i)}getFilter(e){return r=>e(this.date(r))}filterRegExp(){return new RegExp(`^${this.fieldNameForFilterInstruction()} (((?:on|in) or before|before|(?:on|in) or after|after|on|in)? ?(.*))`,"i")}fieldNameForFilterInstruction(){return this.fieldName()}static buildExplanation(e,r,i,s){let a=r,o="YYYY-MM-DD (dddd Do MMMM YYYY)",l;switch(r){case"before":case"on or after":l=s.start.format(o);break;case"after":case"on or before":l=s.end.format(o);break;case"in or before":a="on or before",l=s.end.format(o);break;case"in or after":a="on or after",l=s.start.format(o);break;default:if(!s.start.isSame(s.end)){let c=`${e} date is between:`,d=[new Ye(`${s.start.format(o)} and`),new Ye(`${s.end.format(o)} inclusive`)];return i&&d.push(new Ye(`OR no ${e} date`)),new Ye(c,d)}a="on",l=s.start.format(o);break}let u=`${e} date is ${a} ${l}`;return i&&(u+=` OR no ${e} date`),new Ye(u)}fieldNameForExplanation(){return this.fieldName()}supportsSorting(){return!0}comparator(){return(e,r)=>zn(this.date(e),this.date(r))}supportsGrouping(){return!0}grouper(){return e=>{let r=this.date(e);return r===null?["No "+this.fieldName()+" date"]:r.isValid()?[r.format("YYYY-MM-DD dddd")]:["%%0%% Invalid "+this.fieldName()+" date"]}}checkForUnexpandedTemplateText(e){return new Od().findUnexpandedDateText(e)}};var Md=class extends Dt{fieldName(){return"created"}date(t){return t.createdDate}filterResultIfFieldMissing(){return!1}};var Rd=class extends Dt{fieldName(){return"done"}date(t){return t.doneDate}filterResultIfFieldMissing(){return!1}};var uo=class extends Dt{fieldName(){return"due"}date(t){return t.dueDate}filterResultIfFieldMissing(){return!1}};var lr=class extends $e{constructor(){super(...arguments);this._filters=new yn}canCreateFilterForLine(e){return this._filters.canCreateFilterForLine(e)}createFilterOrErrorMessage(e){return this._filters.createFilterOrErrorMessage(e)}filterRegExp(){return null}};var Ad=class extends lr{constructor(){super(),this._filters.add("exclude sub-items",t=>{if(t.indentation==="")return!0;let e=t.indentation.lastIndexOf(">");return e===-1?!1:/^ ?$/.test(t.indentation.slice(e+1))})}fieldName(){return"exclude"}};function Pd(n,t){return[["task",n],["query",t?t.query:null]]}function yD(n,t,e){let r=Pd(n,e||null),i=ku(r,t);return i.error?i.error:By(i.queryComponent,r,t)}var Eu=class{constructor(t){this.line=t,this.functionOrError=ku(Pd(null,null),t)}isValid(){return this.functionOrError.isValid()}get parseError(){return this.functionOrError.error}evaluate(t,e){if(!this.isValid())throw Error(`Error: Cannot evaluate an expression which is not valid: "${this.line}" gave error: "${this.parseError}"`);return Su(this.functionOrError.queryComponent,Pd(t,e||null))}evaluateOrCatch(t,e){return this.isValid()?By(this.functionOrError.queryComponent,Pd(t,e),this.line):`Error: Cannot evaluate an expression which is not valid: "${this.line}" gave error: "${this.parseError}"`}};Cs();function zy(n){if(n===null)return"null";let t=typeof n;return t==="object"?n.constructor.name:t}var Nd=class extends $e{createFilterOrErrorMessage(t){let e=$e.getMatch(this.filterRegExp(),t);if(e===null)return ke.fromError(t,"Unable to parse line");let r=e[1],i=new Eu(r);return i.isValid()?ke.fromFilter(new Bt(t,lj(i),new Ye(t))):ke.fromError(t,i.parseError)}fieldName(){return"function"}filterRegExp(){return new RegExp(`^filter by ${this.fieldNameSingularEscaped()} (.*)`,"i")}supportsSorting(){return!0}sorterRegExp(){return new RegExp(`^sort by ${this.fieldNameSingularEscaped()}( reverse)? (.*)`,"i")}createSorterFromLine(t){let e=$e.getMatch(this.sorterRegExp(),t);if(e===null)return null;let r=!!e[1],i=e[2],s=new Eu(i);if(!s.isValid())throw new Error(s.parseError);let a=(o,l,u)=>{try{let c=u.queryContext(),d=this.validateTaskSortKey(s.evaluate(o,c)),f=this.validateTaskSortKey(s.evaluate(l,c));return this.compareTaskSortKeys(d,f)}catch(c){throw c instanceof Error&&(c.message+=`: while evaluating instruction '${t}'`),c}};return new Mr(t,this.fieldNameSingular(),a,r)}validateTaskSortKey(t){function e(r){throw new Error(`"${r}" is not a valid sort key`)}return t===void 0&&e("undefined"),Number.isNaN(t)&&e("NaN (Not a Number)"),Array.isArray(t)&&e("array"),t}compareTaskSortKeys(t,e){let r=zy(t),i=zy(e),s=this.compareTaskSortKeysIfOptionalMoment(t,e,r,i);if(s!==void 0)return s;let a=this.compareTaskSortKeysIfEitherIsNull(t,e);if(a!==void 0)return a;if(r!==i)throw new Error(`Unable to compare two different sort key types '${r}' and '${i}' order`);if(r==="string")return t.localeCompare(e,void 0,{numeric:!0});if(r==="TasksDate")return zn(t.moment,e.moment);if(r==="boolean")return Number(e)-Number(t);let o=Number(t)-Number(e);if(isNaN(o))throw new Error(`Unable to determine sort order for sort key types '${r}' and '${i}'`);return o}compareTaskSortKeysIfOptionalMoment(t,e,r,i){let s=r==="Moment",a=i==="Moment";if(s&&a||s&&e===null||a&&t===null)return zn(t,e)}compareTaskSortKeysIfEitherIsNull(t,e){if(t===null&&e===null)return 0;if(t===null&&e!==null)return-1;if(t!==null&&e===null)return 1}supportsGrouping(){return!0}createGrouperFromLine(t){let e=$e.getMatch(this.grouperRegExp(),t);if(e===null)return null;let r=!!e[1],i=e[2];return new Xi(t,"function",cj(i),r)}grouperRegExp(){return new RegExp(`^group by ${this.fieldNameSingularEscaped()}( reverse)? (.*)`,"i")}grouper(){throw Error("grouper() function not valid for FunctionField. Use createGrouperFromLine() instead.")}};function lj(n){return(t,e)=>{let r=e.queryContext();return uj(n,t,r)}}function uj(n,t,e){let r=n.evaluate(t,e);if(typeof r=="boolean")return r;throw Error(`filtering function must return true or false. This returned "${r}".`)}function cj(n){return(t,e)=>{let r=e.queryContext();return dj(t,n,r)}}function dj(n,t,e){try{let r=yD(n,t,e);return Array.isArray(r)?r.map(s=>s.toString()):r===null?[]:[r.toString()]}catch(r){let i=`Error: Failed calculating expression "${t}". The error message was: `;return r instanceof Error?[i+r.message]:[i+"Unknown error"]}}var Id=class extends Ze{fieldName(){return"heading"}value(t){return t.precedingHeader?t.precedingHeader:""}supportsSorting(){return!0}supportsGrouping(){return!0}grouper(){return t=>t.precedingHeader===null||t.precedingHeader.length===0?["(No heading)"]:[t.precedingHeader]}};var co=class extends Ze{fieldName(){return"path"}value(t){return t.path}supportsSorting(){return!0}supportsGrouping(){return!0}grouper(){return t=>[Ze.escapeMarkdownCharacters(t.path.replace(".md",""))]}};Wa();var Ky=class extends $e{createFilterOrErrorMessage(t){var r;let e=$e.getMatch(this.filterRegExp(),t);if(e!==null){let i=e[5],s=null;switch(i.toLowerCase()){case"lowest":s="5";break;case"low":s="4";break;case"none":s="3";break;case"medium":s="2";break;case"high":s="1";break;case"highest":s="0";break}if(s===null)return ke.fromError(t,"do not understand priority");let a=t,o;switch((r=e[3])==null?void 0:r.toLowerCase()){case"above":o=l=>l.priority.localeCompare(s)<0;break;case"below":o=l=>l.priority.localeCompare(s)>0;break;case"not":o=l=>l.priority!==s;break;default:o=l=>l.priority===s,a=`${this.fieldName()} is ${i}`}return ke.fromFilter(new Bt(t,o,new Ye(a)))}else return ke.fromError(t,"do not understand query filter (priority)")}fieldName(){return"priority"}filterRegExp(){return Ky.priorityRegexp}supportsSorting(){return!0}comparator(){return(t,e)=>t.priority.localeCompare(e.priority)}supportsGrouping(){return!0}grouper(){return t=>[t.priorityNameGroupText]}},Js=Ky;Js.priorityRegexp=/^priority(\s+is)?(\s+(above|below|not))?(\s+(lowest|low|none|medium|high|highest))$/i;var Fd=class extends Dt{fieldName(){return"scheduled"}date(t){return t.scheduledDate}filterResultIfFieldMissing(){return!1}};var Ld=class extends Dt{fieldName(){return"start"}fieldNameForFilterInstruction(){return"starts"}date(t){return t.startDate}filterResultIfFieldMissing(){return!0}};var Ud=class extends Dt{constructor(){let t=new yn;t.add("has happens date",e=>this.dates(e).some(r=>r!==null)),t.add("no happens date",e=>!this.dates(e).some(r=>r!==null)),super(t)}fieldName(){return"happens"}fieldNameForExplanation(){return"due, start or scheduled"}date(t){return this.earliestDate(t)}dates(t){return t.happensDates}earliestDate(t){return t.happens.moment}filterResultIfFieldMissing(){return!1}getFilter(t){return e=>this.dates(e).some(r=>t(r))}};var jd=class extends lr{constructor(){super(),this._filters.add("is recurring",t=>t.recurrence!==null),this._filters.add("is not recurring",t=>t.recurrence===null)}fieldName(){return"recurring"}supportsSorting(){return!0}comparator(){return(t,e)=>t.recurrence!==null&&e.recurrence===null?-1:t.recurrence===null&&e.recurrence!==null?1:0}supportsGrouping(){return!0}grouper(){return t=>t.recurrence!==null?["Recurring"]:["Not Recurring"]}};var Zi=class extends lr{constructor(){super(),this._filters.add("done",t=>t.isDone),this._filters.add("not done",t=>!t.isDone)}fieldName(){return"status"}supportsSorting(){return!0}comparator(){return(t,e)=>{let r=Zi.oldStatusName(t),i=Zi.oldStatusName(e);return r<i?1:r>i?-1:0}}static oldStatusName(t){return t.isDone?"Done":"Todo"}supportsGrouping(){return!0}grouper(){return t=>[Zi.oldStatusName(t)]}};var Wd=class extends Ze{fieldNamePlural(){return this.fieldNameSingular()+"s"}fieldName(){return`${this.fieldNameSingular()}/${this.fieldNamePlural()}`}fieldPattern(){return`${this.fieldNameSingular()}|${this.fieldNamePlural()}`}filterOperatorPattern(){return`${super.filterOperatorPattern()}|include|do not include`}value(t){return this.values(t).join(", ")}getFilter(t,e){return r=>{let i=t.matchesAnyOf(this.values(r));return e?!i:i}}createGrouper(t){return new Xi(this.grouperInstruction(t),this.fieldNamePlural(),this.grouper(),t)}grouperRegExp(){if(!this.supportsGrouping())throw Error(`grouperRegExp() unimplemented for ${this.fieldNameSingular()}`);return new RegExp(`^group by ${this.fieldNamePlural()}( reverse)?$`,"i")}grouperInstruction(t){let e=`group by ${this.fieldNamePlural()}`;return t&&(e+=" reverse"),e}};var ea=class extends Wd{constructor(){super();this.filterInstructions=new yn,this.filterInstructions.add(`has ${this.fieldNameSingular()}`,e=>this.values(e).length>0),this.filterInstructions.add(`has ${this.fieldNamePlural()}`,e=>this.values(e).length>0),this.filterInstructions.add(`no ${this.fieldNameSingular()}`,e=>this.values(e).length===0),this.filterInstructions.add(`no ${this.fieldNamePlural()}`,e=>this.values(e).length===0)}createFilterOrErrorMessage(e){let r=this.filterInstructions.createFilterOrErrorMessage(e);return r.isValid()?r:super.createFilterOrErrorMessage(e)}canCreateFilterForLine(e){return this.filterInstructions.canCreateFilterForLine(e)?!0:super.canCreateFilterForLine(e)}fieldNameSingular(){return"tag"}values(e){return e.tags}supportsSorting(){return!0}createSorterFromLine(e){let r=e.match(this.sorterRegExp());if(r===null)return null;let i=!!r[1],s=isNaN(+r[2])?1:+r[2],a=ea.makeCompareByTagComparator(s);return new Mr(e,this.fieldNameSingular(),a,i)}sorterRegExp(){return/^sort by tag( reverse)?[\s]*(\d+)?/i}comparator(){return ea.makeCompareByTagComparator(1)}static makeCompareByTagComparator(e){return(r,i)=>{if(r.tags.length===0&&i.tags.length===0)return 0;if(r.tags.length===0)return 1;if(i.tags.length===0)return-1;let s=e-1;if(r.tags.length<e&&i.tags.length>=e)return 1;if(i.tags.length<e&&r.tags.length>=e)return-1;if(r.tags.length<e&&i.tags.length<e)return 0;let a=r.tags[s],o=i.tags[s];return a.localeCompare(o,void 0,{numeric:!0})}}supportsGrouping(){return!0}grouper(){return e=>e.tags.length==0?["(No tags)"]:e.tags}};var RD=Yo(MD());ou();function Ji(n){return new RegExp("["+Yi(n)+"]").source}var sb=[["(",")"],["[","]"],["{","}"],['"','"']],xi=class{constructor(t,e,r){this.openFilterChars=t,this.closeFilterChars=e,this.openAndCloseFilterChars=r,this.openFilter=Ji(this.openFilterChars),this.closeFilter=Ji(this.closeFilterChars)}static allSupportedDelimiters(){let t="",e="",r="";for(let[i,s]of sb)t+=i,e+=s,r+=xi.openAndClosing(i,s);return new xi(t,e,r)}static fromInstructionLine(t){let e=t.trim(),i=/^[A-Z ]*\s*(.*)/.exec(e);if(i){let a=i[1],o=a[0],l=a.slice(-1);for(let[u,c]of sb)if(o===u&&l===c){let d=this.openAndClosing(u,c);return new xi(u,c,d)}}let s="All filters in a Boolean instruction must be inside one of these pairs of delimiter characters: "+sb.map(([a,o])=>a+"..."+o).join(" or ")+". Combinations of those delimiters are no longer supported.";throw new Error(s)}static openAndClosing(t,e){let r=t;return e!=t&&(r+=e),r}};var es=class{static preprocessExpression(t,e){let r=es.splitLine(t,e);return es.getFiltersAndSimplifiedLine(r,e)}static splitLine(t,e){let r=new RegExp("("+e.closeFilter+"\\s*(?:AND|OR|AND +NOT|OR +NOT|XOR)\\s*"+e.openFilter+")"),i=t.split(r),s=new RegExp("(NOT\\s*"+e.openFilter+")"),a=i.flatMap(u=>u.split(s)).filter(u=>u!==""),o=new RegExp("(^"+Ji(e.openFilterChars+" ")+"*)"),l=new RegExp("("+Ji(e.closeFilterChars+" ")+"*$)");return a.flatMap(u=>u.split(o)).flatMap(u=>u.split(l)).filter(u=>u!=="")}static getFiltersAndSimplifiedLine(t,e){let r="",i=1,s={};t.forEach(u=>{if(!es.isAFilter(u,e))r+=`${u}`;else{let c=`f${i}`;s[c]=u,r+=c,i++}});let a=new RegExp(`(${e.closeFilter})([A-Z])`,"g");r=r.replace(a,"$1 $2");let o=new RegExp(`([A-Z])(${e.openFilter})`,"g");r=r.replace(o,"$1 $2");let l=e.openFilterChars;if(l!='"'&&l!="("){let u=new RegExp(Ji(l),"g");r=r.replace(u,"(");let c=e.closeFilterChars,d=new RegExp(Ji(c),"g");r=r.replace(d,")")}return{simplifiedLine:r,filters:s}}static isAFilter(t,e){let r=new RegExp("^"+Ji(" "+e.openAndCloseFilterChars)+"+$"),i=new RegExp("^ *"+e.closeFilter+" *(AND|OR|XOR) *"+e.openFilter+" *$"),s=new RegExp("^(AND|OR|XOR|NOT) *"+e.openFilter+"$"),a=new RegExp("^"+e.closeFilter+" *(AND|OR|XOR)$");return![r,i,s,a,/^(AND|OR|XOR|NOT)$/].some(l=>RegExp(l).exec(t))}};var Gd=class extends $e{constructor(){super();this.supportedOperators=["AND","OR","XOR","NOT"];this.subFields={};let e=xi.allSupportedDelimiters();this.basicBooleanRegexp=new RegExp("(.*(AND|OR|XOR|NOT)\\s*"+e.openFilter+".*|"+e.openFilter+".+"+e.closeFilter+")","g")}filterRegExp(){return this.basicBooleanRegexp}createFilterOrErrorMessage(e){return this.parseLine(e)}fieldName(){return"boolean query"}parseLine(e){if(e.length===0)return ke.fromError(e,"empty line");let r;try{r=xi.fromInstructionLine(e)}catch(o){let l=o instanceof Error?o.message:"unknown error type";return ke.fromError(e,this.helpMessageFromSimpleError(e,l))}let i=es.preprocessExpression(e,r),s=i.simplifiedLine,a=i.filters;try{let o=(0,RD.parse)(s);for(let c of o)if(c.name==="IDENTIFIER"&&c.value){let d=c.value.trim(),f=a[d];if(c.value=f,!(f in this.subFields)){let p=xu(f);if(p===null)return this.helpMessage(e,`couldn't parse sub-expression '${f}'`,i);if(p.error)return this.helpMessage(e,`couldn't parse sub-expression '${f}': ${p.error}`,i);p.filter&&(this.subFields[f]=p.filter)}}else if(c.name==="OPERATOR"){if(c.value==null)return this.helpMessage(e,"empty operator in boolean query",i);if(!this.supportedOperators.includes(c.value))return this.helpMessage(e,`unknown boolean operator '${c.value}'`,i)}let l=(c,d)=>this.filterTaskWithParsedQuery(c,o,d),u=this.constructExplanation(o);return ke.fromFilter(new Bt(e,l,u))}catch(o){let l=o instanceof Error?o.message:"unknown error type";return this.helpMessage(e,`malformed boolean query -- ${l} (check the documentation for guidelines)`,i)}}filterTaskWithParsedQuery(e,r,i){let s=l=>l==="true",a=l=>l?"true":"false",o=[];for(let l of r)if(l.name==="IDENTIFIER"){if(l.value==null)throw Error("null token value");let c=this.subFields[l.value.trim()].filterFunction(e,i);o.push(a(c))}else if(l.name==="OPERATOR")if(l.value==="NOT"){let u=s(o.pop());o.push(a(!u))}else if(l.value==="OR"){let u=s(o.pop()),c=s(o.pop());o.push(a(u||c))}else if(l.value==="AND"){let u=s(o.pop()),c=s(o.pop());o.push(a(u&&c))}else if(l.value==="XOR"){let u=s(o.pop()),c=s(o.pop());o.push(a(u&&!c||!u&&c))}else throw Error("Unsupported operator: "+l.value);else throw Error("Unsupported token type: "+l);return s(o[0])}constructExplanation(e){let r=[];for(let i of e)if(i.name==="IDENTIFIER")this.explainExpression(i,r);else if(i.name==="OPERATOR")this.explainOperator(i,r);else throw Error("Unsupported token type: "+i.name);return r[0]}explainExpression(e,r){if(e.value==null)throw Error("null token value");let i=this.subFields[e.value.trim()],s=this.simulateExplainFilter(i);r.push(s)}simulateExplainFilter(e){return e.simulateExplainFilter()}explainOperator(e,r){if(e.value==="NOT"){let i=r.pop();r.push(Ye.booleanNot([i]))}else if(e.value==="OR"){let i=r.pop(),s=r.pop();r.push(Ye.booleanOr([s,i]))}else if(e.value==="AND"){let i=r.pop(),s=r.pop();r.push(Ye.booleanAnd([s,i]))}else if(e.value==="XOR"){let i=r.pop(),s=r.pop();r.push(Ye.booleanXor([s,i]))}else throw Error("Unsupported operator: "+e.value)}helpMessage(e,r,i){let s=i.filters,a=this.stringifySubExpressionsForErrorMessage(s),l=`${this.helpMessageFromSimpleError(e,r)}

The instruction was converted to the following simplified line:
    ${i.simplifiedLine}

Where the sub-expressions in the simplified line are:
${a}

For help, see:
    https://publish.obsidian.md/tasks/Queries/Combining+Filters
`;return ke.fromError(e,l)}stringifySubExpressionsForErrorMessage(e){return Object.entries(e).map(([r,i])=>`    '${r}': '${i}'
        => ${this.stringifySubExpressionStatus(i)}`).join(`
`)}stringifySubExpressionStatus(e){let r=xu(e);return r?r.error?`ERROR:
           ${r.error.split(`
`).map(s=>s.trim()).join(`
           `)}`:"OK":`ERROR:
           do not understand query`}helpMessageFromSimpleError(e,r){return`Could not interpret the following instruction as a Boolean combination:
    ${e}

The error message is:
    ${r}`}};var Bd=class extends Ze{fieldName(){return"filename"}value(t){let e=t.filename;return e===null?"":e+".md"}supportsSorting(){return!0}supportsGrouping(){return!0}grouper(){return t=>{let e=t.filename;return e===null?["Unknown Location"]:["[["+e+"]]"]}}};var To=class extends $e{canCreateFilterForLine(t){return!1}createFilterOrErrorMessage(t){return ke.fromError(t,"Filtering by urgency is not yet supported")}fieldName(){return"urgency"}filterRegExp(){throw Error(`filterRegExp() unimplemented for ${this.fieldName()}`)}supportsSorting(){return!0}comparator(){return(t,e)=>e.urgency-t.urgency}supportsGrouping(){return!0}grouper(){return t=>[`${t.urgency.toFixed(2)}`]}createGrouper(t){return super.createGrouper(!t)}grouperInstruction(t){return super.grouperInstruction(!t)}};var Vd=class extends Ze{constructor(){super()}fieldName(){return"status.name"}value(t){return t.status.name}supportsSorting(){return!0}supportsGrouping(){return!0}};Jn();var ti=class extends $e{canCreateFilterForLine(t){let e=new RegExp(`^(?:${this.fieldNameSingularEscaped()})`,"i");return $e.lineMatchesFilter(e,t)}createFilterOrErrorMessage(t){let e=$e.getMatch(this.filterRegExp(),t);if(e===null)return this.helpMessage(t);let r=e[1].toLowerCase(),i=e[2],s=tn[i.toUpperCase()];if(!s)return this.helpMessage(t);let a;switch(r){case"is":a=o=>o.status.type===s;break;case"is not":a=o=>o.status.type!==s;break;default:return this.helpMessage(t)}return ke.fromFilter(new Bt(t,a,new Ye(t)))}filterRegExp(){return new RegExp(`^(?:${this.fieldNameSingularEscaped()}) (is|is not) ([^ ]+)$`,"i")}helpMessage(t){let e=Object.values(tn).filter(i=>i!=="EMPTY").join(" "),r=`Invalid ${this.fieldNameSingular()} instruction: '${t}'.
    Allowed options: 'is' and 'is not' (without quotes).
    Allowed values:  ${e}
                     Note: values are case-insensitive,
                           so 'in_progress' works too, for example.
    Example:         ${this.fieldNameSingular()} is not NON_TASK`;return ke.fromError(t,r)}fieldName(){return"status.type"}value(t){return t.status.type}supportsSorting(){return!0}comparator(){return(t,e)=>{let r=ti.groupName(t),i=ti.groupName(e);return r.localeCompare(i,void 0,{numeric:!0})}}supportsGrouping(){return!0}grouper(){return t=>[ti.groupName(t)]}static groupName(t){return t.status.typeGroupText}};var zd=class extends Ze{fieldName(){return"recurrence"}value(t){return t.recurrence!==null?t.recurrence.toText():""}supportsGrouping(){return!0}grouper(){return t=>t.recurrence!==null?[t.recurrence.toText()]:["None"]}};var Kd=class extends Ze{fieldName(){return"folder"}value(t){return t.file.folder}supportsGrouping(){return!0}grouper(){return t=>[Ze.escapeMarkdownCharacters(this.value(t))]}};var Qd=class extends Ze{fieldName(){return"root"}value(t){return t.file.root}supportsGrouping(){return!0}grouper(){return t=>[Ze.escapeMarkdownCharacters(this.value(t))]}};var Xd=class extends Ze{fieldName(){return"backlink"}value(t){let e=t.getLinkText({isFilenameUnique:!0});return e===null?"Unknown Location":e}createFilterOrErrorMessage(t){return ke.fromError(t,"backlink field does not support filtering")}canCreateFilterForLine(t){return!1}supportsGrouping(){return!0}grouper(){return t=>{let e=t.filename;if(e===null)return["Unknown Location"];let r=t.precedingHeader;return r===null?["[["+e+"]]"]:[`[[${e}#${r}|${e} > ${r}]]`]}}};var Zd=class extends Dt{fieldName(){return"cancelled"}date(t){return t.cancelledDate}filterResultIfFieldMissing(){return!1}};var Jd=class extends lr{constructor(){super(),this._filters.add("is blocking",(t,e)=>t.isBlocking(e.allTasks)),this._filters.add("is not blocking",(t,e)=>!t.isBlocking(e.allTasks)),this._filters.add("is blocked",(t,e)=>t.isBlocked(e.allTasks)),this._filters.add("is not blocked",(t,e)=>!t.isBlocked(e.allTasks))}fieldName(){return"blocking"}};var ef=class extends Ze{constructor(){super();this.filterInstructions=new yn;this.filterInstructions.add("has id",e=>e.id.length>0),this.filterInstructions.add("no id",e=>e.id.length===0)}canCreateFilterForLine(e){return this.filterInstructions.canCreateFilterForLine(e)?!0:super.canCreateFilterForLine(e)}createFilterOrErrorMessage(e){let r=this.filterInstructions.createFilterOrErrorMessage(e);return r.isValid()?r:super.createFilterOrErrorMessage(e)}fieldName(){return"id"}value(e){return e.id}supportsSorting(){return!0}supportsGrouping(){return!0}};var tf=class extends $e{constructor(){super();this.filterInstructions=new yn;this.filterInstructions.add("has depends on",e=>e.dependsOn.length>0),this.filterInstructions.add("no depends on",e=>e.dependsOn.length===0)}canCreateFilterForLine(e){return this.filterInstructions.canCreateFilterForLine(e)?!0:super.canCreateFilterForLine(e)}createFilterOrErrorMessage(e){let r=this.filterInstructions.createFilterOrErrorMessage(e);return r.isValid()?r:ke.fromError(e,"Unknown instruction")}fieldName(){return"blocked by"}filterRegExp(){return null}};var nf=class extends lr{fieldName(){return"random"}supportsSorting(){return!0}comparator(){return(t,e)=>this.sortKey(t)-this.sortKey(e)}sortKey(t){let e=i=>{let s=0,a=9;for(;s<i.length;)a=Math.imul(a^i.charCodeAt(s++),387420489);return a^a>>>9},r=window.moment().format("Y-MM-DD");return e(r+" "+t.description)}};var ab=[()=>new Vd,()=>new ti,()=>new Zi,()=>new jd,()=>new Js,()=>new Ud,()=>new Zd,()=>new Md,()=>new Ld,()=>new Fd,()=>new uo,()=>new Rd,()=>new co,()=>new Kd,()=>new Qd,()=>new Xd,()=>new Zs,()=>new ea,()=>new Id,()=>new Ad,()=>new Bd,()=>new To,()=>new zd,()=>new Nd,()=>new ef,()=>new tf,()=>new Jd,()=>new nf,()=>new Gd];function xu(n){for(let t of ab){let e=t();if(e.canCreateFilterForLine(n))return e.createFilterOrErrorMessage(n)}return null}function AD(n){let t=/^sort by /i;if(n.match(t)===null)return null;for(let e of ab){let i=e().createSorterFromLine(n);if(i)return i}return null}function PD(n){let t=/^group by /i;if(n.match(t)===null)return null;for(let e of ab){let i=e().createGrouperFromLine(n);if(i)return i}return null}var rf=class{constructor(t,e,r){this.nestingLevel=t,this.displayName=e,this.property=r}};var sf=class{constructor(t,e){this.lastHeadingAtLevel=new Array;this.groupers=e;let i=t.keys().next().value.length;for(let s=0;s<i;s++)this.lastHeadingAtLevel.push("")}getHeadingsForTaskGroup(t){let e=new Array;for(let r=0;r<t.length;r++){let i=t[r];if(i!=this.lastHeadingAtLevel[r]){e.push(new rf(r,i,this.groupers[r].property));for(let s=r;s<t.length;s++)this.lastHeadingAtLevel[s]="";this.lastHeadingAtLevel[r]=i}}return e}};var af=class{constructor(t){this.children=new Map;this.values=[];this.values=t}generateAllPaths(t=[]){let e=new Map;if(this.children.size==0)return e.set([...t],this.values),e;for(let[r,i]of this.children)t.push(r),i.generateAllPaths(t).forEach((a,o)=>e.set(o,a)),t.pop();return e}};var of=class extends af{},lf=class{constructor(t,e,r){this.root=new of(e),this.buildGroupingTree(t,r)}buildGroupingTree(t,e){let r=[this.root];for(let i of t){let s=[];for(let a of r)for(let o of a.values){let l=i.grouper(o,e);l.length===0&&l.push("");for(let u of l){let c=a.children.get(u);c===void 0&&(c=new of([]),a.children.set(u,c),s.push(c)),c.values.push(o)}}r=s}}generateTaskTreeStorage(){return this.root.generateAllPaths()}};var uf=class{constructor(t,e){this.groups=t,this.groupHeadings=[],this.tasks=e}setGroupHeadings(t){for(let e of t)this.groupHeadings.push(e)}applyTaskLimit(t){this.tasks=this.tasks.slice(0,t)}tasksAsStringOfLines(){let t="";for(let e of this.tasks)t+=e.toFileLineString()+`
`;return t}toString(){let t=`
`;t+=`Group names: [${this.groups}]
`;for(let e of this.groupHeadings)t+=`${"#".repeat(4+e.nestingLevel)} [${e.property}] ${e.displayName}
`;return t+=this.tasksAsStringOfLines(),t}};var _o=class{constructor(t,e,r){this._groups=new Array;this._totalTaskCount=0;this._totalTaskCount=e.length,this._groupers=t;let s=new lf(t,e,r).generateTaskTreeStorage();this.addTaskGroups(s),this.sortTaskGroups(),this.setGroupsHeadings(s)}get groupers(){return this._groupers}get groups(){return this._groups}totalTasksCount(){return this._totalTaskCount}toString(){let t="";t+=`Groupers (if any):
`;for(let r of this._groupers){let i=r.reverse?" reverse":"";t+=`- ${r.property}${i}
`}for(let r of this.groups)t+=r.toString(),t+=`
---
`;return t+=`
${this.totalTasksCount()} tasks
`,t}addTaskGroups(t){for(let[e,r]of t){let i=new uf(e,r);this.addTaskGroup(i)}}addTaskGroup(t){this._groups.push(t)}sortTaskGroups(){let t=(e,r)=>{let i=e.groups,s=r.groups;for(let a=0;a<i.length;a++){let o=this._groupers[a],l=i[a].localeCompare(s[a],void 0,{numeric:!0});if(l!==0)return o.reverse?-l:l}return 0};this._groups.sort(t)}setGroupsHeadings(t){let e=new sf(t,this._groupers);for(let r of this._groups)r.setGroupHeadings(e.getHeadingsForTaskGroup(r.groups))}applyTaskLimit(t){this._groupers.length!==0&&(this._groups.forEach(e=>{e.applyTaskLimit(t)}),this.recalculateTotalTaskCount())}recalculateTotalTaskCount(){let t=[];this._groups.forEach(r=>{t=[...t,...r.tasks]});let e=[...new Set(t)];this._totalTaskCount=e.length}};var ts=class{constructor(t,e){this.tasksFile=t,this.allTasks=[...e]}static fromAllTasks(t){return new ts(void 0,t)}get queryPath(){var t,e;return(e=(t=this.tasksFile)==null?void 0:t.path)!=null?e:void 0}queryContext(){return this.tasksFile?Vy(this.tasksFile,this.allTasks):void 0}};function ND(n){return`task${n!==1?"s":""}`}var ra=class{constructor(t,e){this.totalTasksCountBeforeLimit=0;this._searchErrorMessage=void 0;this.taskGroups=t,this.totalTasksCountBeforeLimit=e}get searchErrorMessage(){return this._searchErrorMessage}set searchErrorMessage(t){this._searchErrorMessage=t}get totalTasksCount(){return this.taskGroups.totalTasksCount()}totalTasksCountDisplayText(){let t=this.totalTasksCount,e=this.totalTasksCountBeforeLimit;return t===e?`${t} ${ND(t)}`:`${t} of ${e} ${ND(e)}`}get groups(){return this.taskGroups.groups}static fromError(t){let e=new ra(new _o([],[],ts.fromAllTasks([])),0);return e._searchErrorMessage=t,e}};function ID(n){return n.endsWith("\\")}function FD(n){return n.endsWith("\\\\")}function jj(n){return n.replace(/^[ \t]*/,"")}function Wj(n){return n.replace(/[ \t]*\\$/,"")}function $j(n,t){let e=n;return t&&(e=jj(n)),FD(e)?e=e.slice(0,-1):ID(n)&&(e=Wj(e)),e}function LD(n){let t=[],e=!1,r="",i="",s=n+`
`;for(let a of s.split(`
`)){let o=$j(a,e);e?(r+=`
`+a,i+=" "+o):(r=a,i=o),FD(a)?e=!1:e=ID(a),e||(i.trim()!==""&&t.push(new gn(r,i)),r="",i="")}return t}var vo=class{static by(t,e,r){let i=this.defaultSorters().map(a=>a.comparator),s=[];for(let a of t)s.push(a.comparator);return e.sort(vo.makeCompositeComparator([...s,...i],r))}static defaultSorters(){return[new ti().createNormalSorter(),new To().createNormalSorter(),new uo().createNormalSorter(),new Js().createNormalSorter(),new co().createNormalSorter()]}static makeCompositeComparator(t,e){return(r,i)=>{for(let s of t){let a=s(r,i,e);if(a!==0)return a}return 0}}};var UD=0,In=class{constructor(t,e=void 0){this.statements=[];this._limit=void 0;this._taskGroupLimit=void 0;this._taskLayoutOptions=new Gr;this._queryLayoutOptions=new Ki;this._filters=[];this._error=void 0;this._sorting=[];this._grouping=[];this._ignoreGlobalQuery=!1;this.hideOptionsRegexp=/^(hide|show) +(.*)/i;this.shortModeRegexp=/^short/i;this.fullModeRegexp=/^full/i;this.explainQueryRegexp=/^explain/i;this.ignoreGlobalQueryRegexp=/^ignore global query/i;this.logger=rn.getLogger("tasks.Query");this.limitRegexp=/^limit (groups )?(to )?(\d+)( tasks?)?/i;this.commentRegexp=/^#.*/;this._queryId=this.generateQueryId(10),this.source=t,this.tasksFile=e;let r=LD(t);for(let i of r){let s=this.expandPlaceholders(i,e);if(this.error!==void 0)return;this.statements.push(...s)}for(let i of this.statements)try{if(this.parseLine(i),this.error!==void 0)return}catch(s){let a;s instanceof Error?a=s.message:a="Unknown error",this.setError(a,i);return}}get filePath(){var t,e;return(e=(t=this.tasksFile)==null?void 0:t.path)!=null?e:void 0}get queryId(){return this._queryId}parseLine(t){let e=t.anyPlaceholdersExpanded;switch(!0){case this.shortModeRegexp.test(e):this._queryLayoutOptions.shortMode=!0;break;case this.fullModeRegexp.test(e):this._queryLayoutOptions.shortMode=!1;break;case this.explainQueryRegexp.test(e):this._queryLayoutOptions.explainQuery=!0;break;case this.ignoreGlobalQueryRegexp.test(e):this._ignoreGlobalQuery=!0;break;case this.limitRegexp.test(e):this.parseLimit(e);break;case this.parseSortBy(e,t):break;case this.parseGroupBy(e,t):break;case this.hideOptionsRegexp.test(e):this.parseHideOptions(e);break;case this.commentRegexp.test(e):break;case this.parseFilter(e,t):break;default:this.setError("do not understand query",t)}}formatQueryForLogging(){return`
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
${this.source}
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
`}expandPlaceholders(t,e){let r=t.anyContinuationLinesRemoved;if(r.includes("{{")&&r.includes("}}")&&this.tasksFile===void 0)return this._error=`The query looks like it contains a placeholder, with "{{" and "}}"
but no file path has been supplied, so cannot expand placeholder values.
The query is:
${r}`,[t];let i=r;if(e){let s=gD(e);try{i=hD(r,s)}catch(a){return a instanceof Error?this._error=a.message:this._error="Internal error. expandPlaceholders() threw something other than Error.",[t]}}return this.createStatementsFromExpandedPlaceholders(i,t)}createStatementsFromExpandedPlaceholders(t,e){let r=t.split(`
`).map(i=>i.trim()).filter(i=>i.length>0);return r.length===1?(e.recordExpandedPlaceholders(r[0]),[e]):r.map((i,s)=>{let a=`: statement ${s+1} after expansion of placeholder`,o=new gn(e.rawInstruction+a,e.anyContinuationLinesRemoved+a);return o.recordExpandedPlaceholders(i),o})}append(t){return this.source===""?t:t.source===""?this:new In(`${this.source}
${t.source}`,this.tasksFile)}explainQuery(){return new ao().explainQuery(this)}get limit(){return this._limit}get taskGroupLimit(){return this._taskGroupLimit}get taskLayoutOptions(){return this._taskLayoutOptions}get queryLayoutOptions(){return this._queryLayoutOptions}get filters(){return this._filters}addFilter(t){this._filters.push(t)}get sorting(){return this._sorting}get grouping(){return this._grouping}get error(){return this._error}setError(t,e){this._error=In.generateErrorMessage(e,t)}static generateErrorMessage(t,e){return t.allLinesIdentical()?`${e}
Problem line: "${t.rawInstruction}"`:`${e}
Problem statement:
${t.explainStatement("    ")}
`}get ignoreGlobalQuery(){return this._ignoreGlobalQuery}applyQueryToTasks(t){this.debug(`[search] Executing query: ${this.formatQueryForLogging()}`);let e=new ts(this.tasksFile,t),r;try{this.filters.forEach(l=>{r=l.statement,t=t.filter(u=>l.filterFunction(u,e))}),r=void 0;let{debugSettings:i}=le(),s=i.ignoreSortInstructions?t:vo.by(this.sorting,t,e),a=s.slice(0,this.limit),o=new _o(this.grouping,a,e);return this._taskGroupLimit!==void 0&&o.applyTaskLimit(this._taskGroupLimit),new ra(o,s.length)}catch(i){let a=Xs("Search failed",i);return r&&(a=In.generateErrorMessage(r,a)),ra.fromError(a)}}parseHideOptions(t){let e=t.match(this.hideOptionsRegexp);if(e===null)return;let r=e[1].toLowerCase()==="hide",i=e[2].toLowerCase();oD(this._queryLayoutOptions,i,r)||xS(this._taskLayoutOptions,i,!r)||this.setError("do not understand hide/show option",new gn(t,t))}parseFilter(t,e){var i;let r=xu(t);return r!=null?(r.filter?(r.filter.setStatement(e),this._filters.push(r.filter)):this.setError((i=r.error)!=null?i:"Unknown error",e),!0):!1}parseLimit(t){let e=t.match(this.limitRegexp);if(e===null){this.setError("do not understand query limit",new gn(t,t));return}let r=Number.parseInt(e[3],10);e[1]!==void 0?this._taskGroupLimit=r:this._limit=r}parseSortBy(t,e){let r=AD(t);return r?(r.setStatement(e),this._sorting.push(r),!0):!1}parseGroupBy(t,e){let r=PD(t);return r?(r.setStatement(e),this._grouping.push(r),!0):!1}generateQueryId(t){return UD+=1,UD.toString().padStart(t,"0")}debug(t,e){this.logger.debugWithId(this._queryId,`"${this.filePath}": ${t}`,e)}};var ob=[{name:"TQ_explain",type:"checkbox",display:"explain",handler:"instruction",trueValue:"explain",falseValue:""},{name:"TQ_short_mode",type:"checkbox",display:"short mode",handler:"instruction",trueValue:"short mode",falseValue:"full mode"},{name:"TQ_show_tree",type:"checkbox",display:"tree",handler:"showAndHide"},{name:"TQ_show_tags",type:"checkbox",display:"tags",handler:"showAndHide"},{name:"TQ_show_id",type:"checkbox",display:"id",handler:"showAndHide"},{name:"TQ_show_depends_on",type:"checkbox",display:"depends on",handler:"showAndHide"},{name:"TQ_show_priority",type:"checkbox",display:"priority",handler:"showAndHide"},{name:"TQ_show_recurrence_rule",type:"checkbox",display:"recurrence rule",handler:"showAndHide"},{name:"TQ_show_on_completion",type:"checkbox",display:"on completion",handler:"showAndHide"},{name:"TQ_show_created_date",type:"checkbox",display:"created date",handler:"showAndHide"},{name:"TQ_show_start_date",type:"checkbox",display:"start date",handler:"showAndHide"},{name:"TQ_show_scheduled_date",type:"checkbox",display:"scheduled date",handler:"showAndHide"},{name:"TQ_show_due_date",type:"checkbox",display:"due date",handler:"showAndHide"},{name:"TQ_show_cancelled_date",type:"checkbox",display:"cancelled date",handler:"showAndHide"},{name:"TQ_show_done_date",type:"checkbox",display:"done date",handler:"showAndHide"},{name:"TQ_show_urgency",type:"checkbox",display:"urgency",handler:"showAndHide"},{name:"TQ_show_backlink",type:"checkbox",display:"backlink",handler:"showAndHide"},{name:"TQ_show_edit_button",type:"checkbox",display:"edit button",handler:"showAndHide"},{name:"TQ_show_postpone_button",type:"checkbox",display:"postpone button",handler:"showAndHide"},{name:"TQ_show_task_count",type:"checkbox",display:"task count",handler:"showAndHide"},{name:"TQ_extra_instructions",type:"text",handler:"addValue"}],Oi=class{source(t){return t?ob.map(r=>this.generateInstruction(t,r)).filter(r=>r!=="").join(`
`):""}generateInstruction(t,e){let r=t.hasProperty(e.name),i=t.property(e.name);switch(e.handler){case"instruction":return r&&(i?e.trueValue:e.falseValue)||"";case"showAndHide":return r&&(i?"show "+e.display:"hide "+e.display)||"";case"addValue":return r&&i||"";default:throw new Error("Unknown handler type: "+e.handler+".")}}query(t){return new In(this.source(t),t)}allPropertyNames(){return ob.map(t=>t.name)}allPropertyNamesSorted(){return this.allPropertyNames().sort((t,e)=>t.localeCompare(e))}propertyType(t){var e,r;return(r=(e=ob.find(i=>i.name===t))==null?void 0:e.type)!=null?r:void 0}metaBindPluginWidgets(){return"\nshort mode: `INPUT[toggle:TQ_short_mode]`\ntree: `INPUT[toggle:TQ_show_tree]`\ntags: `INPUT[toggle:TQ_show_tags]`\nid: `INPUT[toggle:TQ_show_id]` depends on: `INPUT[toggle:TQ_show_depends_on]`\npriority: `INPUT[toggle:TQ_show_priority]`\nrecurrence rule: `INPUT[toggle:TQ_show_recurrence_rule]` on completion: `INPUT[toggle:TQ_show_on_completion]`\nstart date: `INPUT[toggle:TQ_show_start_date]` scheduled date: `INPUT[toggle:TQ_show_scheduled_date]` due date: `INPUT[toggle:TQ_show_due_date]`\ncreated date: `INPUT[toggle:TQ_show_created_date]` cancelled date: `INPUT[toggle:TQ_show_cancelled_date]` done date: `INPUT[toggle:TQ_show_done_date]`\nurgency: `INPUT[toggle:TQ_show_urgency]`\nbacklink: `INPUT[toggle:TQ_show_backlink]`\nedit button: `INPUT[toggle:TQ_show_edit_button]` postpone button: `INPUT[toggle:TQ_show_postpone_button]`\ntask count: `INPUT[toggle:TQ_show_task_count]`\nextra instructions: `INPUT[textArea:TQ_extra_instructions]`\nexplain: `INPUT[toggle:TQ_explain]`\n"}};function jD(n,t){return L(this,null,function*(){yield n.fileManager.processFrontMatter(t,e=>{let r=new Oi().allPropertyNamesSorted(),i=!1;r.forEach(s=>{s in e||(e[s]=null,i=!0)}),i?new lb.Notice("Properties updated successfully."):new lb.Notice("All supported properties are already present.")})})}var cf=class{get app(){return this.plugin.app}constructor({plugin:t}){this.plugin=t,t.addCommand({id:"edit-task",name:"Create or edit task",icon:"pencil",editorCheckCallback:(e,r,i)=>sD(e,r,i,this.app,this.plugin.getTasks())}),t.addCommand({id:"toggle-done",name:"Toggle task done",icon:"check-in-circle",editorCheckCallback:aD}),t.addCommand({id:"add-query-file-defaults-properties",name:"Add all Query File Defaults properties",icon:"settings",checkCallback:e=>{let r=this.app.workspace.getActiveFile();return!r||r.extension!=="md"?!1:(e||this.ensureQueryFileDefaultsFrontmatter(r).catch(console.error),!0)}})}ensureQueryFileDefaultsFrontmatter(t){return L(this,null,function*(){let{app:e}=this;yield jD(e,t)})}};var ns=class{constructor(t=ns.empty){this._source=t}static getInstance(){return ns.instance||(ns.instance=new ns),ns.instance}set(t){this._source=t}query(t=void 0){return new In(this._source,t)}hasInstructions(){return this._source.trim()!==ns.empty}},dr=ns;dr.empty="";$s();var df=class{constructor({obsidianEvents:t}){this.logger=rn.getLogger("tasks.Events");this.obsidianEvents=t}onCacheUpdate(t){return this.logger.debug("TasksEvents.onCacheUpdate()"),this.obsidianEvents.on("obsidian-tasks-plugin:cache-update",t)}triggerCacheUpdate(t){this.logger.debug("TasksEvents.triggerCacheUpdate()"),this.obsidianEvents.trigger("obsidian-tasks-plugin:cache-update",t)}onRequestCacheUpdate(t){return this.logger.debug("TasksEvents.onRequestCacheUpdate()"),this.obsidianEvents.on("obsidian-tasks-plugin:request-cache-update",t)}triggerRequestCacheUpdate(t){this.logger.debug("TasksEvents.triggerRequestCacheUpdate()"),this.obsidianEvents.trigger("obsidian-tasks-plugin:request-cache-update",t)}off(t){this.logger.debug("TasksEvents.off()"),this.obsidianEvents.offref(t)}};var c0=require("obsidian");Cn();Is();Nt();var u0=require("obsidian");Cn();nn();Is();wi();Nt();ii();Sr();Ga();var ub=class{constructor(t){this.newStatus=t}apply(t){return this.isCheckedForTask(t)?[t]:t.handleNewStatusWithRecurrenceInUsersOrder(this.newStatus)}instructionDisplayName(){return`Change status to: [${this.newStatus.symbol}] ${this.newStatus.name}`}isCheckedForTask(t){return this.newStatus.symbol===t.status.symbol}};function WD(n){let t=[],e=new et().coreStatuses.map(r=>r.symbol);for(let r of[!0,!1])for(let i of n.registeredStatuses)e.includes(i.symbol)===r&&t.push(new ub(i));return t}var $D=require("obsidian");var cb="---",wo=class{apply(t){throw new Error("MenuDividerInstruction.apply(): Method not implemented.")}instructionDisplayName(){return cb}isCheckedForTask(t){return!1}};function ni(n,t){return L(this,null,function*(){yield ar({originalTask:n,newTasks:t})})}var rs=class extends $D.Menu{constructor(e){super();this.taskSaver=e}addItemsForInstructions(e,r){for(let i of e)this.addItemForInstruction(r,i)}addItemForInstruction(e,r){r.instructionDisplayName()===cb?this.addSeparator():this.addItem(i=>this.getMenuItemCallback(e,i,r))}getMenuItemCallback(e,r,i){r.setTitle(i.instructionDisplayName()).setChecked(i.isCheckedForTask(e)).onClick(()=>L(this,null,function*(){let s=i.apply(e);(s.length!==1||!Object.is(s[0],e))&&(yield this.taskSaver(e,s))}))}};var ff=class extends rs{constructor(t,e,r=ni){super(r);let i=WD(t);this.addItemsForInstructions(i,e)}};var pf=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],is={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console!="undefined"&&console.warn(n)},getWeek:function(n){var t=new Date(n.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1};var mf={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var t=n%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},hf=mf;var Kt=function(n,t){return t===void 0&&(t=2),("000"+n).slice(t*-1)},bn=function(n){return n===!0?1:0};function db(n,t){var e;return function(){var r=this,i=arguments;clearTimeout(e),e=setTimeout(function(){return n.apply(r,i)},t)}}var gf=function(n){return n instanceof Array?n:[n]};function Qt(n,t,e){if(e===!0)return n.classList.add(t);n.classList.remove(t)}function qe(n,t,e){var r=window.document.createElement(n);return t=t||"",e=e||"",r.className=t,e!==void 0&&(r.textContent=e),r}function Ou(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function fb(n,t){if(t(n))return n;if(n.parentNode)return fb(n.parentNode,t)}function Cu(n,t){var e=qe("div","numInputWrapper"),r=qe("input","numInput "+n),i=qe("span","arrowUp"),s=qe("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?r.type="number":(r.type="text",r.pattern="\\d*"),t!==void 0)for(var a in t)r.setAttribute(a,t[a]);return e.appendChild(r),e.appendChild(i),e.appendChild(s),e}function Tn(n){try{if(typeof n.composedPath=="function"){var t=n.composedPath();return t[0]}return n.target}catch(e){return n.target}}var pb=function(){},Mu=function(n,t,e){return e.months[t?"shorthand":"longhand"][n]},qD={D:pb,F:function(n,t,e){n.setMonth(e.months.longhand.indexOf(t))},G:function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},H:function(n,t){n.setHours(parseFloat(t))},J:function(n,t){n.setDate(parseFloat(t))},K:function(n,t,e){n.setHours(n.getHours()%12+12*bn(new RegExp(e.amPM[1],"i").test(t)))},M:function(n,t,e){n.setMonth(e.months.shorthand.indexOf(t))},S:function(n,t){n.setSeconds(parseFloat(t))},U:function(n,t){return new Date(parseFloat(t)*1e3)},W:function(n,t,e){var r=parseInt(t),i=new Date(n.getFullYear(),0,2+(r-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+e.firstDayOfWeek),i},Y:function(n,t){n.setFullYear(parseFloat(t))},Z:function(n,t){return new Date(t)},d:function(n,t){n.setDate(parseFloat(t))},h:function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},i:function(n,t){n.setMinutes(parseFloat(t))},j:function(n,t){n.setDate(parseFloat(t))},l:pb,m:function(n,t){n.setMonth(parseFloat(t)-1)},n:function(n,t){n.setMonth(parseFloat(t)-1)},s:function(n,t){n.setSeconds(parseFloat(t))},u:function(n,t){return new Date(parseFloat(t))},w:pb,y:function(n,t){n.setFullYear(2e3+parseFloat(t))}},Ci={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},ko={Z:function(n){return n.toISOString()},D:function(n,t,e){return t.weekdays.shorthand[ko.w(n,t,e)]},F:function(n,t,e){return Mu(ko.n(n,t,e)-1,!1,t)},G:function(n,t,e){return Kt(ko.h(n,t,e))},H:function(n){return Kt(n.getHours())},J:function(n,t){return t.ordinal!==void 0?n.getDate()+t.ordinal(n.getDate()):n.getDate()},K:function(n,t){return t.amPM[bn(n.getHours()>11)]},M:function(n,t){return Mu(n.getMonth(),!0,t)},S:function(n){return Kt(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,t,e){return e.getWeek(n)},Y:function(n){return Kt(n.getFullYear(),4)},d:function(n){return Kt(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return Kt(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,t){return t.weekdays.longhand[n.getDay()]},m:function(n){return Kt(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}};var mb=function(n){var t=n.config,e=t===void 0?is:t,r=n.l10n,i=r===void 0?mf:r,s=n.isMobile,a=s===void 0?!1:s;return function(o,l,u){var c=u||i;return e.formatDate!==void 0&&!a?e.formatDate(o,l,c):l.split("").map(function(d,f,p){return ko[d]&&p[f-1]!=="\\"?ko[d](o,c,e):d!=="\\"?d:""}).join("")}},yf=function(n){var t=n.config,e=t===void 0?is:t,r=n.l10n,i=r===void 0?mf:r;return function(s,a,o,l){if(!(s!==0&&!s)){var u=l||i,c,d=s;if(s instanceof Date)c=new Date(s.getTime());else if(typeof s!="string"&&s.toFixed!==void 0)c=new Date(s);else if(typeof s=="string"){var f=a||(e||is).dateFormat,p=String(s).trim();if(p==="today")c=new Date,o=!0;else if(e&&e.parseDate)c=e.parseDate(s,f);else if(/Z$/.test(p)||/GMT$/.test(p))c=new Date(s);else{for(var b=void 0,T=[],_=0,O=0,D="";_<f.length;_++){var A=f[_],j=A==="\\",Y=f[_-1]==="\\"||j;if(Ci[A]&&!Y){D+=Ci[A];var se=new RegExp(D).exec(s);se&&(b=!0)&&T[A!=="Y"?"push":"unshift"]({fn:qD[A],val:se[++O]})}else j||(D+=".")}c=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),T.forEach(function(H){var Z=H.fn,ye=H.val;return c=Z(c,ye,u)||c}),c=b?c:void 0}}if(!(c instanceof Date&&!isNaN(c.getTime()))){e.errorHandler(new Error("Invalid date provided: "+d));return}return o===!0&&c.setHours(0,0,0,0),c}}};function _n(n,t,e){return e===void 0&&(e=!0),e!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):n.getTime()-t.getTime()}var YD=function(n,t,e){return n>Math.min(t,e)&&n<Math.max(t,e)},bf=function(n,t,e){return n*3600+t*60+e},HD=function(n){var t=Math.floor(n/3600),e=(n-t*3600)/60;return[t,e,n-t*3600-e*60]},GD={DAY:864e5};function Tf(n){var t=n.defaultHour,e=n.defaultMinute,r=n.defaultSeconds;if(n.minDate!==void 0){var i=n.minDate.getHours(),s=n.minDate.getMinutes(),a=n.minDate.getSeconds();t<i&&(t=i),t===i&&e<s&&(e=s),t===i&&e===s&&r<a&&(r=n.minDate.getSeconds())}if(n.maxDate!==void 0){var o=n.maxDate.getHours(),l=n.maxDate.getMinutes();t=Math.min(t,o),t===o&&(e=Math.min(l,e)),t===o&&e===l&&(r=n.maxDate.getSeconds())}return{hours:t,minutes:e,seconds:r}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var r=function(o){o&&Object.keys(o).forEach(function(l){return n[l]=o[l]})},i=0,s=t;i<s.length;i++){var a=s[i];r(a)}return n});var Xt=function(){return Xt=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Xt.apply(this,arguments)},BD=function(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var r=Array(n),i=0,t=0;t<e;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)r[i]=s[a];return r},qj=300;function Yj(n,t){var e={config:Xt(Xt({},is),ft.defaultConfig),l10n:hf};e.parseDate=yf({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=T,e._setHoursFromDate=f,e._positionCalendar=us,e.changeMonth=S,e.changeYear=$,e.clear=M,e.close=I,e.onMouseOver=Le,e._createElement=qe,e.createDay=se,e.destroy=W,e.isEnabled=ce,e.jumpToDate=D,e.updateValue=mr,e.open=fr,e.redraw=oa,e.set=Ro,e.setDate=Ai,e.toggle=Un;function r(){e.utils={getDaysInMonth:function(h,g){return h===void 0&&(h=e.currentMonth),g===void 0&&(g=e.currentYear),h===1&&(g%4===0&&g%100!==0||g%400===0)?29:e.l10n.daysInMonth[h]}}}function i(){e.element=e.input=n,e.isOpen=!1,ee(),it(),ua(),Iu(),r(),e.isMobile||Y(),O(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&f(e.config.noCalendar?e.latestSelectedDateObj:void 0),mr(!1)),o();var h=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&h&&us(),Xe("onReady")}function s(){var h;return((h=e.calendarContainer)===null||h===void 0?void 0:h.getRootNode()).activeElement||document.activeElement}function a(h){return h.bind(e)}function o(){var h=e.config;h.weekNumbers===!1&&h.showMonths===1||h.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var g=(e.days.offsetWidth+1)*h.showMonths;e.daysContainer.style.width=g+"px",e.calendarContainer.style.width=g+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function l(h){if(e.selectedDates.length===0){var g=e.config.minDate===void 0||_n(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),k=Tf(e.config);g.setHours(k.hours,k.minutes,k.seconds,g.getMilliseconds()),e.selectedDates=[g],e.latestSelectedDateObj=g}h!==void 0&&h.type!=="blur"&&No(h);var R=e._input.value;d(),mr(),e._input.value!==R&&e._debouncedChange()}function u(h,g){return h%12+12*bn(g===e.l10n.amPM[1])}function c(h){switch(h%24){case 0:case 12:return 12;default:return h%12}}function d(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var h=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,g=(parseInt(e.minuteElement.value,10)||0)%60,k=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(h=u(h,e.amPM.textContent));var R=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&_n(e.latestSelectedDateObj,e.config.minDate,!0)===0,G=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&_n(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var X=bf(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),_e=bf(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),ne=bf(h,g,k);if(ne>_e&&ne<X){var Oe=HD(X);h=Oe[0],g=Oe[1],k=Oe[2]}}else{if(G){var ie=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;h=Math.min(h,ie.getHours()),h===ie.getHours()&&(g=Math.min(g,ie.getMinutes())),g===ie.getMinutes()&&(k=Math.min(k,ie.getSeconds()))}if(R){var pe=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;h=Math.max(h,pe.getHours()),h===pe.getHours()&&g<pe.getMinutes()&&(g=pe.getMinutes()),g===pe.getMinutes()&&(k=Math.max(k,pe.getSeconds()))}}p(h,g,k)}}function f(h){var g=h||e.latestSelectedDateObj;g&&g instanceof Date&&p(g.getHours(),g.getMinutes(),g.getSeconds())}function p(h,g,k){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(h%24,g,k||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=Kt(e.config.time_24hr?h:(12+h)%12+12*bn(h%12===0)),e.minuteElement.value=Kt(g),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[bn(h>=12)]),e.secondElement!==void 0&&(e.secondElement.value=Kt(k)))}function b(h){var g=Tn(h),k=parseInt(g.value)+(h.delta||0);(k/1e3>1||h.key==="Enter"&&!/[^\d]/.test(k.toString()))&&$(k)}function T(h,g,k,R){if(g instanceof Array)return g.forEach(function(G){return T(h,G,k,R)});if(h instanceof Array)return h.forEach(function(G){return T(G,g,k,R)});h.addEventListener(g,k,R),e._handlers.push({remove:function(){return h.removeEventListener(g,k,R)}})}function _(){Xe("onChange")}function O(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(k){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+k+"]"),function(R){return T(R,"click",e[k])})}),e.isMobile){cs();return}var h=db(jt,50);if(e._debouncedChange=db(_,qj),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&T(e.daysContainer,"mouseover",function(k){e.config.mode==="range"&&Le(Tn(k))}),T(e._input,"keydown",He),e.calendarContainer!==void 0&&T(e.calendarContainer,"keydown",He),!e.config.inline&&!e.config.static&&T(window,"resize",h),window.ontouchstart!==void 0?T(window.document,"touchstart",P):T(window.document,"mousedown",P),T(window.document,"focus",P,{capture:!0}),e.config.clickOpens===!0&&(T(e._input,"focus",e.open),T(e._input,"click",e.open)),e.daysContainer!==void 0&&(T(e.monthNav,"click",Af),T(e.monthNav,["keyup","increment"],b),T(e.daysContainer,"click",Ln)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var g=function(k){return Tn(k).select()};T(e.timeContainer,["increment"],l),T(e.timeContainer,"blur",l,{capture:!0}),T(e.timeContainer,"click",A),T([e.hourElement,e.minuteElement],["focus","click"],g),e.secondElement!==void 0&&T(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&T(e.amPM,"click",function(k){l(k)})}e.config.allowInput&&T(e._input,"blur",xe)}function D(h,g){var k=h!==void 0?e.parseDate(h):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),R=e.currentYear,G=e.currentMonth;try{k!==void 0&&(e.currentYear=k.getFullYear(),e.currentMonth=k.getMonth())}catch(X){X.message="Invalid date supplied: "+k,e.config.errorHandler(X)}g&&e.currentYear!==R&&(Xe("onYearChange"),C()),g&&(e.currentYear!==R||e.currentMonth!==G)&&Xe("onMonthChange"),e.redraw()}function A(h){var g=Tn(h);~g.className.indexOf("arrow")&&j(h,g.classList.contains("arrowUp")?1:-1)}function j(h,g,k){var R=h&&Tn(h),G=k||R&&R.parentNode&&R.parentNode.firstChild,X=ca("increment");X.delta=g,G&&G.dispatchEvent(X)}function Y(){var h=window.document.createDocumentFragment();if(e.calendarContainer=qe("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(h.appendChild(oe()),e.innerContainer=qe("div","flatpickr-innerContainer"),e.config.weekNumbers){var g=w(),k=g.weekWrapper,R=g.weekNumbers;e.innerContainer.appendChild(k),e.weekNumbers=R,e.weekWrapper=k}e.rContainer=qe("div","flatpickr-rContainer"),e.rContainer.appendChild(y()),e.daysContainer||(e.daysContainer=qe("div","flatpickr-days"),e.daysContainer.tabIndex=-1),K(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),h.appendChild(e.innerContainer)}e.config.enableTime&&h.appendChild(m()),Qt(e.calendarContainer,"rangeMode",e.config.mode==="range"),Qt(e.calendarContainer,"animate",e.config.animate===!0),Qt(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(h);var G=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!G&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var X=qe("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(X,e.element),X.appendChild(e.element),e.altInput&&X.appendChild(e.altInput),X.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function se(h,g,k,R){var G=ce(g,!0),X=qe("span",h,g.getDate().toString());return X.dateObj=g,X.$i=R,X.setAttribute("aria-label",e.formatDate(g,e.config.ariaDateFormat)),h.indexOf("hidden")===-1&&_n(g,e.now)===0&&(e.todayDateElem=X,X.classList.add("today"),X.setAttribute("aria-current","date")),G?(X.tabIndex=-1,Fr(g)&&(X.classList.add("selected"),e.selectedDateElem=X,e.config.mode==="range"&&(Qt(X,"startRange",e.selectedDates[0]&&_n(g,e.selectedDates[0],!0)===0),Qt(X,"endRange",e.selectedDates[1]&&_n(g,e.selectedDates[1],!0)===0),h==="nextMonthDay"&&X.classList.add("inRange")))):X.classList.add("flatpickr-disabled"),e.config.mode==="range"&&xt(g)&&!Fr(g)&&X.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&h!=="prevMonthDay"&&R%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(g)+"</span>"),Xe("onDayCreate",X),X}function H(h){h.focus(),e.config.mode==="range"&&Le(h)}function Z(h){for(var g=h>0?0:e.config.showMonths-1,k=h>0?e.config.showMonths:-1,R=g;R!=k;R+=h)for(var G=e.daysContainer.children[R],X=h>0?0:G.children.length-1,_e=h>0?G.children.length:-1,ne=X;ne!=_e;ne+=h){var Oe=G.children[ne];if(Oe.className.indexOf("hidden")===-1&&ce(Oe.dateObj))return Oe}}function ye(h,g){for(var k=h.className.indexOf("Month")===-1?h.dateObj.getMonth():e.currentMonth,R=g>0?e.config.showMonths:-1,G=g>0?1:-1,X=k-e.currentMonth;X!=R;X+=G)for(var _e=e.daysContainer.children[X],ne=k-e.currentMonth===X?h.$i+g:g<0?_e.children.length-1:0,Oe=_e.children.length,ie=ne;ie>=0&&ie<Oe&&ie!=(g>0?Oe:-1);ie+=G){var pe=_e.children[ie];if(pe.className.indexOf("hidden")===-1&&ce(pe.dateObj)&&Math.abs(h.$i-ie)>=Math.abs(g))return H(pe)}e.changeMonth(G),we(Z(G),0)}function we(h,g){var k=s(),R=be(k||document.body),G=h!==void 0?h:R?k:e.selectedDateElem!==void 0&&be(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&be(e.todayDateElem)?e.todayDateElem:Z(g>0?1:-1);G===void 0?e._input.focus():R?ye(G,g):H(G)}function V(h,g){for(var k=(new Date(h,g,1).getDay()-e.l10n.firstDayOfWeek+7)%7,R=e.utils.getDaysInMonth((g-1+12)%12,h),G=e.utils.getDaysInMonth(g,h),X=window.document.createDocumentFragment(),_e=e.config.showMonths>1,ne=_e?"prevMonthDay hidden":"prevMonthDay",Oe=_e?"nextMonthDay hidden":"nextMonthDay",ie=R+1-k,pe=0;ie<=R;ie++,pe++)X.appendChild(se("flatpickr-day "+ne,new Date(h,g-1,ie),ie,pe));for(ie=1;ie<=G;ie++,pe++)X.appendChild(se("flatpickr-day",new Date(h,g,ie),ie,pe));for(var ze=G+1;ze<=42-k&&(e.config.showMonths===1||pe%7!==0);ze++,pe++)X.appendChild(se("flatpickr-day "+Oe,new Date(h,g+1,ze%G),ze,pe));var jn=qe("div","dayContainer");return jn.appendChild(X),jn}function K(){if(e.daysContainer!==void 0){Ou(e.daysContainer),e.weekNumbers&&Ou(e.weekNumbers);for(var h=document.createDocumentFragment(),g=0;g<e.config.showMonths;g++){var k=new Date(e.currentYear,e.currentMonth,1);k.setMonth(e.currentMonth+g),h.appendChild(V(k.getFullYear(),k.getMonth()))}e.daysContainer.appendChild(h),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&Le()}}function C(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var h=function(R){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&R<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&R>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var g=0;g<12;g++)if(!!h(g)){var k=qe("option","flatpickr-monthDropdown-month");k.value=new Date(e.currentYear,g).getMonth().toString(),k.textContent=Mu(g,e.config.shorthandCurrentMonth,e.l10n),k.tabIndex=-1,e.currentMonth===g&&(k.selected=!0),e.monthsDropdownContainer.appendChild(k)}}}function J(){var h=qe("div","flatpickr-month"),g=window.document.createDocumentFragment(),k;e.config.showMonths>1||e.config.monthSelectorType==="static"?k=qe("span","cur-month"):(e.monthsDropdownContainer=qe("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),T(e.monthsDropdownContainer,"change",function(_e){var ne=Tn(_e),Oe=parseInt(ne.value,10);e.changeMonth(Oe-e.currentMonth),Xe("onMonthChange")}),C(),k=e.monthsDropdownContainer);var R=Cu("cur-year",{tabindex:"-1"}),G=R.getElementsByTagName("input")[0];G.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&G.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(G.setAttribute("max",e.config.maxDate.getFullYear().toString()),G.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var X=qe("div","flatpickr-current-month");return X.appendChild(k),X.appendChild(R),g.appendChild(X),h.appendChild(g),{container:h,yearElement:G,monthElement:k}}function q(){Ou(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var h=e.config.showMonths;h--;){var g=J();e.yearElements.push(g.yearElement),e.monthElements.push(g.monthElement),e.monthNav.appendChild(g.container)}e.monthNav.appendChild(e.nextMonthNav)}function oe(){return e.monthNav=qe("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=qe("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=qe("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,q(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(h){e.__hidePrevMonthArrow!==h&&(Qt(e.prevMonthNav,"flatpickr-disabled",h),e.__hidePrevMonthArrow=h)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(h){e.__hideNextMonthArrow!==h&&(Qt(e.nextMonthNav,"flatpickr-disabled",h),e.__hideNextMonthArrow=h)}}),e.currentYearElement=e.yearElements[0],da(),e.monthNav}function m(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var h=Tf(e.config);e.timeContainer=qe("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var g=qe("span","flatpickr-time-separator",":"),k=Cu("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=k.getElementsByTagName("input")[0];var R=Cu("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=R.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=Kt(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?h.hours:c(h.hours)),e.minuteElement.value=Kt(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():h.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(k),e.timeContainer.appendChild(g),e.timeContainer.appendChild(R),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var G=Cu("flatpickr-second");e.secondElement=G.getElementsByTagName("input")[0],e.secondElement.value=Kt(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():h.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(qe("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(G)}return e.config.time_24hr||(e.amPM=qe("span","flatpickr-am-pm",e.l10n.amPM[bn((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function y(){e.weekdayContainer?Ou(e.weekdayContainer):e.weekdayContainer=qe("div","flatpickr-weekdays");for(var h=e.config.showMonths;h--;){var g=qe("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(g)}return v(),e.weekdayContainer}function v(){if(!!e.weekdayContainer){var h=e.l10n.firstDayOfWeek,g=BD(e.l10n.weekdays.shorthand);h>0&&h<g.length&&(g=BD(g.splice(h,g.length),g.splice(0,h)));for(var k=e.config.showMonths;k--;)e.weekdayContainer.children[k].innerHTML=`
      <span class='flatpickr-weekday'>
        `+g.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function w(){e.calendarContainer.classList.add("hasWeeks");var h=qe("div","flatpickr-weekwrapper");h.appendChild(qe("span","flatpickr-weekday",e.l10n.weekAbbreviation));var g=qe("div","flatpickr-weeks");return h.appendChild(g),{weekWrapper:h,weekNumbers:g}}function S(h,g){g===void 0&&(g=!0);var k=g?h:h-e.currentMonth;k<0&&e._hidePrevMonthArrow===!0||k>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=k,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,Xe("onYearChange"),C()),K(),Xe("onMonthChange"),da())}function M(h,g){if(h===void 0&&(h=!0),g===void 0&&(g=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,g===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var k=Tf(e.config),R=k.hours,G=k.minutes,X=k.seconds;p(R,G,X)}e.redraw(),h&&Xe("onChange")}function I(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),Xe("onClose")}function W(){e.config!==void 0&&Xe("onDestroy");for(var h=e._handlers.length;h--;)e._handlers[h].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var g=e.calendarContainer.parentNode;if(g.lastChild&&g.removeChild(g.lastChild),g.parentNode){for(;g.firstChild;)g.parentNode.insertBefore(g.firstChild,g);g.parentNode.removeChild(g)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(k){try{delete e[k]}catch(R){}})}function E(h){return e.calendarContainer.contains(h)}function P(h){if(e.isOpen&&!e.config.inline){var g=Tn(h),k=E(g),R=g===e.input||g===e.altInput||e.element.contains(g)||h.path&&h.path.indexOf&&(~h.path.indexOf(e.input)||~h.path.indexOf(e.altInput)),G=!R&&!k&&!E(h.relatedTarget),X=!e.config.ignoredFocusElements.some(function(_e){return _e.contains(g)});G&&X&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&l(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function $(h){if(!(!h||e.config.minDate&&h<e.config.minDate.getFullYear()||e.config.maxDate&&h>e.config.maxDate.getFullYear())){var g=h,k=e.currentYear!==g;e.currentYear=g||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),k&&(e.redraw(),Xe("onYearChange"),C())}}function ce(h,g){var k;g===void 0&&(g=!0);var R=e.parseDate(h,void 0,g);if(e.config.minDate&&R&&_n(R,e.config.minDate,g!==void 0?g:!e.minDateHasTime)<0||e.config.maxDate&&R&&_n(R,e.config.maxDate,g!==void 0?g:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(R===void 0)return!1;for(var G=!!e.config.enable,X=(k=e.config.enable)!==null&&k!==void 0?k:e.config.disable,_e=0,ne=void 0;_e<X.length;_e++){if(ne=X[_e],typeof ne=="function"&&ne(R))return G;if(ne instanceof Date&&R!==void 0&&ne.getTime()===R.getTime())return G;if(typeof ne=="string"){var Oe=e.parseDate(ne,void 0,!0);return Oe&&Oe.getTime()===R.getTime()?G:!G}else if(typeof ne=="object"&&R!==void 0&&ne.from&&ne.to&&R.getTime()>=ne.from.getTime()&&R.getTime()<=ne.to.getTime())return G}return!G}function be(h){return e.daysContainer!==void 0?h.className.indexOf("hidden")===-1&&h.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(h):!1}function xe(h){var g=h.target===e._input,k=e._input.value.trimEnd()!==fa();g&&k&&!(h.relatedTarget&&E(h.relatedTarget))&&e.setDate(e._input.value,!0,h.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function He(h){var g=Tn(h),k=e.config.wrap?n.contains(g):g===e._input,R=e.config.allowInput,G=e.isOpen&&(!R||!k),X=e.config.inline&&k&&!R;if(h.keyCode===13&&k){if(R)return e.setDate(e._input.value,!0,g===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),g.blur();e.open()}else if(E(g)||G||X){var _e=!!e.timeContainer&&e.timeContainer.contains(g);switch(h.keyCode){case 13:_e?(h.preventDefault(),l(),la()):Ln(h);break;case 27:h.preventDefault(),la();break;case 8:case 46:k&&!e.config.allowInput&&(h.preventDefault(),e.clear());break;case 37:case 39:if(!_e&&!k){h.preventDefault();var ne=s();if(e.daysContainer!==void 0&&(R===!1||ne&&be(ne))){var Oe=h.keyCode===39?1:-1;h.ctrlKey?(h.stopPropagation(),S(Oe),we(Z(1),0)):we(void 0,Oe)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:h.preventDefault();var ie=h.keyCode===40?1:-1;e.daysContainer&&g.$i!==void 0||g===e.input||g===e.altInput?h.ctrlKey?(h.stopPropagation(),$(e.currentYear-ie),we(Z(1),0)):_e||we(void 0,ie*7):g===e.currentYearElement?$(e.currentYear-ie):e.config.enableTime&&(!_e&&e.hourElement&&e.hourElement.focus(),l(h),e._debouncedChange());break;case 9:if(_e){var pe=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(Ot){return Ot}),ze=pe.indexOf(g);if(ze!==-1){var jn=pe[ze+(h.shiftKey?-1:1)];h.preventDefault(),(jn||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(g)&&h.shiftKey&&(h.preventDefault(),e._input.focus());break;default:break}}if(e.amPM!==void 0&&g===e.amPM)switch(h.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],d(),mr();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],d(),mr();break}(k||E(g))&&Xe("onKeyDown",h)}function Le(h,g){if(g===void 0&&(g="flatpickr-day"),!(e.selectedDates.length!==1||h&&(!h.classList.contains(g)||h.classList.contains("flatpickr-disabled")))){for(var k=h?h.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),R=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),G=Math.min(k,e.selectedDates[0].getTime()),X=Math.max(k,e.selectedDates[0].getTime()),_e=!1,ne=0,Oe=0,ie=G;ie<X;ie+=GD.DAY)ce(new Date(ie),!0)||(_e=_e||ie>G&&ie<X,ie<R&&(!ne||ie>ne)?ne=ie:ie>R&&(!Oe||ie<Oe)&&(Oe=ie));var pe=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+g));pe.forEach(function(ze){var jn=ze.dateObj,Ot=jn.getTime(),ds=ne>0&&Ot<ne||Oe>0&&Ot>Oe;if(ds){ze.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Pi){ze.classList.remove(Pi)});return}else if(_e&&!ds)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Pi){ze.classList.remove(Pi)}),h!==void 0&&(h.classList.add(k<=e.selectedDates[0].getTime()?"startRange":"endRange"),R<k&&Ot===R?ze.classList.add("startRange"):R>k&&Ot===R&&ze.classList.add("endRange"),Ot>=ne&&(Oe===0||Ot<=Oe)&&YD(Ot,R,k)&&ze.classList.add("inRange"))})}}function jt(){e.isOpen&&!e.config.static&&!e.config.inline&&us()}function fr(h,g){if(g===void 0&&(g=e._positionElement),e.isMobile===!0){if(h){h.preventDefault();var k=Tn(h);k&&k.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),Xe("onOpen");return}else if(e._input.disabled||e.config.inline)return;var R=e.isOpen;e.isOpen=!0,R||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),Xe("onOpen"),us(g)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(h===void 0||!e.timeContainer.contains(h.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function vn(h){return function(g){var k=e.config["_"+h+"Date"]=e.parseDate(g,e.config.dateFormat),R=e.config["_"+(h==="min"?"max":"min")+"Date"];k!==void 0&&(e[h==="min"?"minDateHasTime":"maxDateHasTime"]=k.getHours()>0||k.getMinutes()>0||k.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(G){return ce(G)}),!e.selectedDates.length&&h==="min"&&f(k),mr()),e.daysContainer&&(oa(),k!==void 0?e.currentYearElement[h]=k.getFullYear().toString():e.currentYearElement.removeAttribute(h),e.currentYearElement.disabled=!!R&&k!==void 0&&R.getFullYear()===k.getFullYear())}}function ee(){var h=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],g=Xt(Xt({},JSON.parse(JSON.stringify(n.dataset||{}))),t),k={};e.config.parseDate=g.parseDate,e.config.formatDate=g.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(pe){e.config._enable=Ir(pe)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(pe){e.config._disable=Ir(pe)}});var R=g.mode==="time";if(!g.dateFormat&&(g.enableTime||R)){var G=ft.defaultConfig.dateFormat||is.dateFormat;k.dateFormat=g.noCalendar||R?"H:i"+(g.enableSeconds?":S":""):G+" H:i"+(g.enableSeconds?":S":"")}if(g.altInput&&(g.enableTime||R)&&!g.altFormat){var X=ft.defaultConfig.altFormat||is.altFormat;k.altFormat=g.noCalendar||R?"h:i"+(g.enableSeconds?":S K":" K"):X+(" h:i"+(g.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:vn("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:vn("max")});var _e=function(pe){return function(ze){e.config[pe==="min"?"_minTime":"_maxTime"]=e.parseDate(ze,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:_e("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:_e("max")}),g.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,k,g);for(var ne=0;ne<h.length;ne++)e.config[h[ne]]=e.config[h[ne]]===!0||e.config[h[ne]]==="true";pf.filter(function(pe){return e.config[pe]!==void 0}).forEach(function(pe){e.config[pe]=gf(e.config[pe]||[]).map(a)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var ne=0;ne<e.config.plugins.length;ne++){var Oe=e.config.plugins[ne](e)||{};for(var ie in Oe)pf.indexOf(ie)>-1?e.config[ie]=gf(Oe[ie]).map(a).concat(e.config[ie]):typeof g[ie]=="undefined"&&(e.config[ie]=Oe[ie])}g.altInputClass||(e.config.altInputClass=Wt().className+" "+e.config.altInputClass),Xe("onParseConfig")}function Wt(){return e.config.wrap?n.querySelector("[data-input]"):n}function it(){typeof e.config.locale!="object"&&typeof ft.l10ns[e.config.locale]=="undefined"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=Xt(Xt({},ft.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?ft.l10ns[e.config.locale]:void 0),Ci.D="("+e.l10n.weekdays.shorthand.join("|")+")",Ci.l="("+e.l10n.weekdays.longhand.join("|")+")",Ci.M="("+e.l10n.months.shorthand.join("|")+")",Ci.F="("+e.l10n.months.longhand.join("|")+")",Ci.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var h=Xt(Xt({},t),JSON.parse(JSON.stringify(n.dataset||{})));h.time_24hr===void 0&&ft.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=mb(e),e.parseDate=yf({config:e.config,l10n:e.l10n})}function us(h){if(typeof e.config.position=="function")return void e.config.position(e,h);if(e.calendarContainer!==void 0){Xe("onPreCalendarPosition");var g=h||e._positionElement,k=Array.prototype.reduce.call(e.calendarContainer.children,function(ps,ms){return ps+ms.offsetHeight},0),R=e.calendarContainer.offsetWidth,G=e.config.position.split(" "),X=G[0],_e=G.length>1?G[1]:null,ne=g.getBoundingClientRect(),Oe=window.innerHeight-ne.bottom,ie=X==="above"||X!=="below"&&Oe<k&&ne.top>k,pe=window.pageYOffset+ne.top+(ie?-k-2:g.offsetHeight+2);if(Qt(e.calendarContainer,"arrowTop",!ie),Qt(e.calendarContainer,"arrowBottom",ie),!e.config.inline){var ze=window.pageXOffset+ne.left,jn=!1,Ot=!1;_e==="center"?(ze-=(R-ne.width)/2,jn=!0):_e==="right"&&(ze-=R-ne.width,Ot=!0),Qt(e.calendarContainer,"arrowLeft",!jn&&!Ot),Qt(e.calendarContainer,"arrowCenter",jn),Qt(e.calendarContainer,"arrowRight",Ot);var ds=window.document.body.offsetWidth-(window.pageXOffset+ne.right),Pi=ze+R>window.document.body.offsetWidth,Io=ds+R>window.document.body.offsetWidth;if(Qt(e.calendarContainer,"rightMost",Pi),!e.config.static)if(e.calendarContainer.style.top=pe+"px",!Pi)e.calendarContainer.style.left=ze+"px",e.calendarContainer.style.right="auto";else if(!Io)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=ds+"px";else{var Fo=pr();if(Fo===void 0)return;var Pf=window.document.body.offsetWidth,Lo=Math.max(0,Pf/2-R/2),F=".flatpickr-calendar.centerMost:before",he=".flatpickr-calendar.centerMost:after",hr=Fo.cssRules.length,fs="{left:"+ne.left+"px;right:auto;}";Qt(e.calendarContainer,"rightMost",!1),Qt(e.calendarContainer,"centerMost",!0),Fo.insertRule(F+","+he+fs,hr),e.calendarContainer.style.left=Lo+"px",e.calendarContainer.style.right="auto"}}}}function pr(){for(var h=null,g=0;g<document.styleSheets.length;g++){var k=document.styleSheets[g];if(!!k.cssRules){try{k.cssRules}catch(R){continue}h=k;break}}return h!=null?h:Mo()}function Mo(){var h=document.createElement("style");return document.head.appendChild(h),h.sheet}function oa(){e.config.noCalendar||e.isMobile||(C(),da(),K())}function la(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function Ln(h){h.preventDefault(),h.stopPropagation();var g=function(pe){return pe.classList&&pe.classList.contains("flatpickr-day")&&!pe.classList.contains("flatpickr-disabled")&&!pe.classList.contains("notAllowed")},k=fb(Tn(h),g);if(k!==void 0){var R=k,G=e.latestSelectedDateObj=new Date(R.dateObj.getTime()),X=(G.getMonth()<e.currentMonth||G.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=R,e.config.mode==="single")e.selectedDates=[G];else if(e.config.mode==="multiple"){var _e=Fr(G);_e?e.selectedDates.splice(parseInt(_e),1):e.selectedDates.push(G)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=G,e.selectedDates.push(G),_n(G,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(pe,ze){return pe.getTime()-ze.getTime()}));if(d(),X){var ne=e.currentYear!==G.getFullYear();e.currentYear=G.getFullYear(),e.currentMonth=G.getMonth(),ne&&(Xe("onYearChange"),C()),Xe("onMonthChange")}if(da(),K(),mr(),!X&&e.config.mode!=="range"&&e.config.showMonths===1?H(R):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var Oe=e.config.mode==="single"&&!e.config.enableTime,ie=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(Oe||ie)&&la()}_()}}var Ri={locale:[it,v],showMonths:[q,o,y],minDate:[D],maxDate:[D],positionElement:[Po],clickOpens:[function(){e.config.clickOpens===!0?(T(e._input,"focus",e.open),T(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function Ro(h,g){if(h!==null&&typeof h=="object"){Object.assign(e.config,h);for(var k in h)Ri[k]!==void 0&&Ri[k].forEach(function(R){return R()})}else e.config[h]=g,Ri[h]!==void 0?Ri[h].forEach(function(R){return R()}):pf.indexOf(h)>-1&&(e.config[h]=gf(g));e.redraw(),mr(!0)}function Ao(h,g){var k=[];if(h instanceof Array)k=h.map(function(R){return e.parseDate(R,g)});else if(h instanceof Date||typeof h=="number")k=[e.parseDate(h,g)];else if(typeof h=="string")switch(e.config.mode){case"single":case"time":k=[e.parseDate(h,g)];break;case"multiple":k=h.split(e.config.conjunction).map(function(R){return e.parseDate(R,g)});break;case"range":k=h.split(e.l10n.rangeSeparator).map(function(R){return e.parseDate(R,g)});break;default:break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(h)));e.selectedDates=e.config.allowInvalidPreload?k:k.filter(function(R){return R instanceof Date&&ce(R,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(R,G){return R.getTime()-G.getTime()})}function Ai(h,g,k){if(g===void 0&&(g=!1),k===void 0&&(k=e.config.dateFormat),h!==0&&!h||h instanceof Array&&h.length===0)return e.clear(g);Ao(h,k),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),D(void 0,g),f(),e.selectedDates.length===0&&e.clear(!1),mr(g),g&&Xe("onChange")}function Ir(h){return h.slice().map(function(g){return typeof g=="string"||typeof g=="number"||g instanceof Date?e.parseDate(g,void 0,!0):g&&typeof g=="object"&&g.from&&g.to?{from:e.parseDate(g.from,void 0),to:e.parseDate(g.to,void 0)}:g}).filter(function(g){return g})}function Iu(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var h=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);h&&Ao(h,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function ua(){if(e.input=Wt(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=qe(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),Po()}function Po(){e._positionElement=e.config.positionElement||e._input}function cs(){var h=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=qe("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=h,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=h==="datetime-local"?"Y-m-d\\TH:i:S":h==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch(g){}T(e.mobileInput,"change",function(g){e.setDate(Tn(g).value,!1,e.mobileFormatStr),Xe("onChange"),Xe("onClose")})}function Un(h){if(e.isOpen===!0)return e.close();e.open(h)}function Xe(h,g){if(e.config!==void 0){var k=e.config[h];if(k!==void 0&&k.length>0)for(var R=0;k[R]&&R<k.length;R++)k[R](e.selectedDates,e.input.value,e,g);h==="onChange"&&(e.input.dispatchEvent(ca("change")),e.input.dispatchEvent(ca("input")))}}function ca(h){var g=document.createEvent("Event");return g.initEvent(h,!0,!0),g}function Fr(h){for(var g=0;g<e.selectedDates.length;g++){var k=e.selectedDates[g];if(k instanceof Date&&_n(k,h)===0)return""+g}return!1}function xt(h){return e.config.mode!=="range"||e.selectedDates.length<2?!1:_n(h,e.selectedDates[0])>=0&&_n(h,e.selectedDates[1])<=0}function da(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(h,g){var k=new Date(e.currentYear,e.currentMonth,1);k.setMonth(e.currentMonth+g),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[g].textContent=Mu(k.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=k.getMonth().toString(),h.value=k.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function fa(h){var g=h||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(k){return e.formatDate(k,g)}).filter(function(k,R,G){return e.config.mode!=="range"||e.config.enableTime||G.indexOf(k)===R}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function mr(h){h===void 0&&(h=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=fa(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=fa(e.config.altFormat)),h!==!1&&Xe("onValueUpdate")}function Af(h){var g=Tn(h),k=e.prevMonthNav.contains(g),R=e.nextMonthNav.contains(g);k||R?S(k?-1:1):e.yearElements.indexOf(g)>=0?g.select():g.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):g.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function No(h){h.preventDefault();var g=h.type==="keydown",k=Tn(h),R=k;e.amPM!==void 0&&k===e.amPM&&(e.amPM.textContent=e.l10n.amPM[bn(e.amPM.textContent===e.l10n.amPM[0])]);var G=parseFloat(R.getAttribute("min")),X=parseFloat(R.getAttribute("max")),_e=parseFloat(R.getAttribute("step")),ne=parseInt(R.value,10),Oe=h.delta||(g?h.which===38?1:-1:0),ie=ne+_e*Oe;if(typeof R.value!="undefined"&&R.value.length===2){var pe=R===e.hourElement,ze=R===e.minuteElement;ie<G?(ie=X+ie+bn(!pe)+(bn(pe)&&bn(!e.amPM)),ze&&j(void 0,-1,e.hourElement)):ie>X&&(ie=R===e.hourElement?ie-X-bn(!e.amPM):G,ze&&j(void 0,1,e.hourElement)),e.amPM&&pe&&(_e===1?ie+ne===23:Math.abs(ie-ne)>_e)&&(e.amPM.textContent=e.l10n.amPM[bn(e.amPM.textContent===e.l10n.amPM[0])]),R.value=Kt(ie)}}return i(),e}function So(n,t){for(var e=Array.prototype.slice.call(n).filter(function(a){return a instanceof HTMLElement}),r=[],i=0;i<e.length;i++){var s=e[i];try{if(s.getAttribute("data-fp-omit")!==null)continue;s._flatpickr!==void 0&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=Yj(s,t||{}),r.push(s._flatpickr)}catch(a){console.error(a)}}return r.length===1?r[0]:r}typeof HTMLElement!="undefined"&&typeof HTMLCollection!="undefined"&&typeof NodeList!="undefined"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return So(this,n)},HTMLElement.prototype.flatpickr=function(n){return So([this],n)});var ft=function(n,t){return typeof n=="string"?So(window.document.querySelectorAll(n),t):n instanceof Node?So([n],t):So(n,t)};ft.defaultConfig={};ft.l10ns={en:Xt({},hf),default:Xt({},hf)};ft.localize=function(n){ft.l10ns.default=Xt(Xt({},ft.l10ns.default),n)};ft.setDefaults=function(n){ft.defaultConfig=Xt(Xt({},ft.defaultConfig),n)};ft.parseDate=yf({});ft.formatDate=mb({});ft.compareDates=_n;typeof jQuery!="undefined"&&typeof jQuery.fn!="undefined"&&(jQuery.fn.flatpickr=function(n){return So(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window!="undefined"&&(window.flatpickr=ft);var VD=ft;Nt();Nt();Gi();ld();function zD(n){for(let e of fe.allDateFields()){let r=n[e];if(r&&!r.isValid())return!1}let t=n.happensDates.some(e=>!!(e!=null&&e.isValid()));return!n.isDone&&t}function Eo(n){return n.dueDate?"dueDate":n.scheduledDate?"scheduledDate":n.startDate?"startDate":null}function hb(n,t,e,r){let i=n[t];return XD(i,n,t,e,r)}function KD(n,t,e,r){let i=window.moment();return XD(i,n,t,e,r)}function QD(n,t,e,r){return ZD(n,t,null)}function XD(n,t,e,r,i){let s=new It(n).postpone(r,i);return ZD(t,e,s)}function ZD(n,t,e){let r=Ft.removeInferredStatusIfNeeded(n,[new fe(me(U({},n),{[t]:e}))])[0];return{postponedDate:e,postponedTask:r}}function JD(n,t){if(n){let e=n==null?void 0:n.format("DD MMM YYYY");return`Task's ${t} changed to ${e}`}else return`Task's ${t} removed`}function e0(n,t,e){return`\u2139\uFE0F ${gb(n,t,e)} (right-click for more options)`}function gb(n,t,e){let r=Eo(n),i=n[r];return Do(r,i,t,e)}function t0(n,t,e){let r=Eo(n),i=window.moment().startOf("day");return Do(r,i,t,e)}function n0(n,t,e){let r=Eo(n);return yb(r,n)}function yb(n,t){return n==="scheduledDate"&&t.scheduledDateIsInferred?"Cannot remove inferred scheduled date":`Remove ${_f(n)}`}function Hj(n){return Za(n.replace("Date",""))}function _f(n){return n.replace("Date"," date")}function Do(n,t,e,r){let s=new It(t).postpone(r,e).format("ddd Do MMM"),a=e!=1?e:"a";if(t.isSameOrBefore(window.moment(),"day")){let l=Hj(n);return(e>=0?`${l} in ${a} ${r}, on ${s}`:`${l} ${-a} ${r} ago, on ${s}`).replace(" 1 day ago"," yesterday").replace(" in 0 days"," today").replace("in a day","tomorrow")}let o=_f(n);return e>=0?`Postpone ${o} by ${a} ${r}, to ${s}`:`Backdate ${o} by ${-a} ${r}, to ${s}`}ld();var ss=class{constructor(t,e,r){this.newDate=e,this.dateFieldToEdit=t,this.displayName=r!=null?r:`Set Date: ${this.newDate.toDateString()}`}apply(t){return this.isCheckedForTask(t)?[t]:[new fe(me(U({},t),{[this.dateFieldToEdit]:window.moment(this.newDate)}))]}instructionDisplayName(){return this.displayName}isCheckedForTask(t){var e;return((e=t[this.dateFieldToEdit])==null?void 0:e.isSame(window.moment(this.newDate)))||!1}},Ar=class extends ss{constructor(t,e,r,i){var l;let s=(l=e[t])!=null?l:window.moment(),a=Do(t,s,r,i),o=new It(window.moment(s)).postpone(i,r).toDate();super(t,o,a)}},Ru=class{constructor(t,e){this.dateFieldToEdit=t,this.displayName=yb(t,e)}apply(t){let e=this.dateFieldToEdit==="scheduledDate"&&t.scheduledDateIsInferred;return t[this.dateFieldToEdit]===null||e?[t]:[new fe(me(U({},t),{[this.dateFieldToEdit]:null}))]}instructionDisplayName(){return this.displayName}isCheckedForTask(t){return!1}};function r0(n,t){return s0(t,n,1)}function i0(n,t){return s0(t,n,-1)}function s0(n,t,e){let r=window.moment().startOf("day"),i=r.toDate(),s=new It(r.clone());return[new ss(t,i,Do(t,r,0,"days")),new ss(t,s.postpone("day",e).toDate(),Do(t,r,e,"day")),new wo,new Ar(t,n,e*2,"days"),new Ar(t,n,e*3,"days"),new Ar(t,n,e*4,"days"),new Ar(t,n,e*5,"days"),new Ar(t,n,e*6,"days"),new wo,new Ar(t,n,e,"week"),new Ar(t,n,e*2,"weeks"),new Ar(t,n,e*3,"weeks"),new Ar(t,n,e,"month"),new wo,new Ru(t,n)]}function o0(n,t,e,r){var a;let i=t[e];VD(n,{defaultDate:i?i.format("YYYY-MM-DD"):new Date,disableMobile:!0,enableTime:!1,dateFormat:"Y-m-d",locale:{firstDayOfWeek:(a=new Intl.Locale(navigator.language).weekInfo.firstDay)!=null?a:1},onClose:(o,l,u)=>L(this,null,function*(){if(o.length>0){let c=o[0],d=new ss(e,c).apply(t);yield r(t,d)}u.destroy()}),onReady:(o,l,u)=>{let c=document.createElement("div");c.style.display="flex",c.style.justifyContent="space-between",c.style.marginTop="10px",a0(c,u,t,r,"Clear",()=>new Ru(e,t).apply(t)),a0(c,u,t,r,"Today",()=>{let f=new Date;return new ss(e,f).apply(t)}),u.calendarContainer.appendChild(c)}}).open()}function a0(n,t,e,r,i,s){let a=document.createElement("button");a.type="button",a.textContent=i,a.classList.add("flatpickr-button"),a.addEventListener("click",()=>L(this,null,function*(){let o=s();yield r(e,o),t.destroy()})),n.appendChild(a)}function l0(n){return["startDate","scheduledDate","dueDate"].includes(n)}var vf=class extends rs{constructor(t,e,r=ni){super(r);let i=l0(t)?r0(t,e):i0(t,e);this.addItemsForInstructions(i,e)}};lu();var wf=class{constructor(){this.data=Gj}addDataAttribute(t,e,r){this.data[r].addDataAttribute(t,e,r)}addClassName(t,e){let r=this.data[e].className;t.classList.add(r)}},bb=class{constructor(t,e,r){if(t==="")throw Error("Developer note: CSS class cannot be an empty string, please specify one.");this.className=t,this.attributeName=e,this.attributeValueCalculator=r}addDataAttribute(t,e,r){if(this.attributeName===bb.noAttributeName)return;let i=this.attributeValueCalculator(r,e);i!==""&&(t.dataset[this.attributeName]=i)}},Pr=bb;Pr.noAttributeName="",Pr.noAttributeValueCalculator=()=>"",Pr.dateAttributeCalculator=(t,e)=>{let i="far";function s(o){let u=window.moment().startOf("day").diff(o,"days");if(isNaN(u))return null;if(u===0)return"today";let c="";return u>0?c+="past-":u<0&&(c+="future-"),Math.abs(u)<=7?c+=Math.abs(u).toString()+"d":c+=i,c}let a=e[t];if(!Array.isArray(a)&&a instanceof window.moment){let o=s(a);if(o)return o}return""};function xo(n){return new Pr(n,Pr.noAttributeName,Pr.noAttributeValueCalculator)}function Oo(n,t){return new Pr(n,t,Pr.dateAttributeCalculator)}var Gj={createdDate:Oo("task-created","taskCreated"),dueDate:Oo("task-due","taskDue"),startDate:Oo("task-start","taskStart"),scheduledDate:Oo("task-scheduled","taskScheduled"),doneDate:Oo("task-done","taskDone"),cancelledDate:Oo("task-cancelled","taskCancelled"),priority:new Pr("task-priority","taskPriority",(n,t)=>Mn.priorityNameUsingNormal(t.priority).toLocaleLowerCase()),description:xo("task-description"),recurrenceRule:xo("task-recurring"),onCompletion:xo("task-onCompletion"),dependsOn:xo("task-dependsOn"),id:xo("task-id"),blockLink:xo("task-block-link")};function pt(n,t){let e=document.createElement(n);return t.appendChild(e),e}var Mi=class{static obsidianMarkdownRenderer(t,e,r,i){return L(this,null,function*(){!i||(yield u0.MarkdownRenderer.renderMarkdown(t,e,r,i))})}constructor({textRenderer:t=Mi.obsidianMarkdownRenderer,obsidianComponent:e,parentUlElement:r,taskLayoutOptions:i,queryLayoutOptions:s}){this.textRenderer=t,this.obsidianComponent=e,this.parentUlElement=r,this.taskLayoutOptions=i,this.queryLayoutOptions=s}renderTaskLine(t,e,r){return L(this,null,function*(){let i=pt("li",this.parentUlElement);i.classList.add("task-list-item","plugin-tasks-list-item");let s=pt("span",i);s.classList.add("tasks-list-text"),yield this.taskToHtml(t,s,i);let a=pt("input",i);return a.classList.add("task-list-item-checkbox"),a.type="checkbox",t.status.symbol!==" "&&(a.checked=!0,i.classList.add("is-checked")),t.taskLocation.hasKnownPath&&(a.addEventListener("click",l=>{l.preventDefault(),l.stopPropagation(),a.disabled=!0;let u=t.toggleWithRecurrenceInUsersOrder();ar({originalTask:t,newTasks:u})}),a.addEventListener("contextmenu",l=>{new ff(Be.getInstance(),t).showAtPosition({x:l.clientX,y:l.clientY})}),a.setAttribute("title","Right-click for options")),i.prepend(a),i.setAttribute("data-task",t.status.symbol.trim()),i.setAttribute("data-line",e.toString()),i.setAttribute("data-task-status-name",t.status.name),i.setAttribute("data-task-status-type",t.status.type),a.setAttribute("data-line",e.toString()),this.queryLayoutOptions.shortMode&&this.addTooltip(t,s,r),i})}taskToHtml(t,e,r){return L(this,null,function*(){let i=new wf,s=Er.tasksPluginEmoji.taskSerializer;for(let a of this.taskLayoutOptions.shownComponents){let o=s.componentToString(t,this.queryLayoutOptions.shortMode,a);if(o){let l=pt("span",e),u=pt("span",l);if(yield this.renderComponentText(u,o,a,t),this.addInternalClasses(a,u),i.addClassName(l,a),i.addDataAttribute(l,t,a),i.addDataAttribute(r,t,a),fe.allDateFields().includes(a)){let c=a;l.addEventListener("click",d=>{d.preventDefault(),d.stopPropagation(),o0(l,t,c,ni)}),l.addEventListener("contextmenu",d=>{d.preventDefault(),d.stopPropagation(),new vf(c,t,ni).showAtPosition({x:d.clientX,y:d.clientY})}),l.setAttribute("title",`Click to edit ${_f(c)}, Right-click for more options`)}}}for(let a of this.taskLayoutOptions.hiddenComponents)i.addDataAttribute(r,t,a);r.dataset.taskPriority===void 0&&i.addDataAttribute(r,t,"priority")})}renderComponentText(t,e,r,i){return L(this,null,function*(){if(r==="description"){e=Fe.getInstance().removeAsWordFromDependingOnSettings(e);let{debugSettings:s}=le();s.showTaskHiddenData&&(e+=`<br>\u{1F41B} <b>${i.lineNumber}</b> . ${i.sectionStart} . ${i.sectionIndex} . '<code>${i.originalMarkdown}</code>'<br>'<code>${i.path}</code>' > '<code>${i.precedingHeader}</code>'<br>`),yield this.textRenderer(e,t,i.path,this.obsidianComponent);let a=t.querySelector("blockquote"),o=a!=null?a:t,l=o.querySelector("p");if(l!==null){for(;l.firstChild;)o.insertBefore(l.firstChild,l);l.remove()}t.querySelectorAll("p").forEach(u=>{u.hasChildNodes()||u.remove()}),t.querySelectorAll(".footnotes").forEach(u=>{u.remove()})}else t.innerHTML=e})}addInternalClasses(t,e){function r(i){let s=/["&\x00\r\n]/g,a=i.replace(s,"-");return a=a.replace(/^[-_]+/,""),a.length>0?a:null}if(t==="description"){let i=e.getElementsByClassName("tag");for(let s=0;s<i.length;s++){let a=i[s].textContent;if(a){let o=r(a),l=i[s];o&&(l.dataset.tagName=o)}}}}addTooltip(t,e,r){let{recurrenceSymbol:i,startDateSymbol:s,createdDateSymbol:a,scheduledDateSymbol:o,dueDateSymbol:l,cancelledDateSymbol:u,doneDateSymbol:c}=Er.tasksPluginEmoji.taskSerializer.symbols;e.addEventListener("mouseenter",()=>{function d(T,_,O){_&&T.createDiv().setText(f({signifier:O,date:_}))}function f({signifier:T,date:_}){return`${T} ${_.format(de.dateFormat)} (${_.from(window.moment().startOf("day"))})`}let p=e.createDiv();p.addClasses(["tooltip","pop-up"]),t.recurrence&&p.createDiv().setText(`${i} ${t.recurrence.toText()}`),d(p,t.createdDate,a),d(p,t.startDate,s),d(p,t.scheduledDate,o),d(p,t.dueDate,l),d(p,t.cancelledDate,u),d(p,t.doneDate,c);let b=t.getLinkText({isFilenameUnique:r});b&&p.createDiv().setText(`\u{1F517} ${b}`),e.addEventListener("mouseleave",()=>{p.remove()})})}};var kf=class{constructor({plugin:t}){this.markdownPostProcessor=this._markdownPostProcessor.bind(this);t.registerMarkdownPostProcessor(this._markdownPostProcessor.bind(this))}_markdownPostProcessor(t,e){return L(this,null,function*(){var d;let r=new c0.MarkdownRenderChild(t);e.addChild(r);let i=t.findAll(".task-list-item").filter(f=>{var T;let p=(T=f.textContent)==null?void 0:T.split(`
`);if(p===void 0)return!1;let b=null;for(let _=0;_<p.length;_=_+1)if(p[_]!==""){b=p[_];break}return b===null?!1:Fe.getInstance().includedIn(b)});if(i.length===0)return;let s=e.sourcePath,a=e.getSectionInfo(t);if(a===null)return;let o=a.text.split(`
`),l=0,u=[];for(let f=a.lineStart;f<=a.lineEnd;f++){let p=o[f];if(p===void 0)continue;let b=null,T=fe.fromLine({line:p,taskLocation:new Lt(new mt(s),f,a.lineStart,l,b),fallbackDate:null});T!==null&&(u.push(T),l++)}let c=new Mi({obsidianComponent:r,parentUlElement:t,taskLayoutOptions:new Gr,queryLayoutOptions:new Ki});for(let f=0;f<i.length;f++){let p=u[f],b=i[f];if(p===void 0||b===void 0)continue;let T=(d=b.getAttr("data-line"))!=null?d:"0",_=Number.parseInt(T,10),O=yield c.renderTaskLine(p,_),D=b.childNodes;for(let Y=0;Y<D.length;Y=Y+1){let se=D[Y],H=se.nodeName.toLowerCase();H==="div"?O.prepend(se):(H==="ul"||H==="ol")&&O.append(se)}let A=b.querySelectorAll("[data-footnote-id]"),j=O.querySelectorAll("[data-footnote-id]");if(A.length===j.length)for(let Y=0;Y<A.length;Y++)j[Y].replaceWith(A[Y]);b.replaceWith(O)}})}};var d0=require("@codemirror/view"),f0=require("obsidian");Nt();var p0=()=>d0.ViewPlugin.fromClass(Tb),Tb=class{constructor(t){this.view=t,this.handleClickEvent=this.handleClickEvent.bind(this),this.view.dom.addEventListener("click",this.handleClickEvent)}destroy(){this.view.dom.removeEventListener("click",this.handleClickEvent)}handleClickEvent(t){let{target:e}=t;if(!e||!(e instanceof HTMLInputElement)||e.type!=="checkbox")return!1;let r=e.closest("ul.plugin-tasks-query-result, div.callout-content");if(r){if(r.matches("div.callout-content")){let f=`obsidian-tasks-plugin warning: Tasks cannot add or remove completion dates or make the next copy of a recurring task for tasks written inside a callout when you click their checkboxes in Live Preview. 
If you wanted Tasks to do these things, please undo your change, then either click the line of the task and use the "Toggle Task Done" command, or switch to Reading View to click the checkbox.`;console.warn(f),new f0.Notice(f,45e3)}return!1}let{state:i}=this.view,s=this.view.posAtDOM(e),a=i.doc.lineAt(s),o=fe.fromLine({line:a.text,taskLocation:Lt.fromUnknownPosition(new mt("")),fallbackDate:null});if(o===null)return!1;t.preventDefault();let l=o.toggleWithRecurrenceInUsersOrder(),u=l.map(f=>f.toFileLineString()).join(i.lineBreak),c=i.update({changes:{from:a.from,to:a.to,insert:u}});if(this.view.dispatch(c),l.length===1){let f=l[0].status.symbol!==" ";setTimeout(()=>{e.checked=f},1)}return!0}};var ia=require("obsidian"),h0=require("obsidian");function m0(n,t,e,r=void 0){let i="";t.isEmpty()||(i+=`Only tasks containing the global filter '${t.get()}'.

`);let s=new ao("  ");function a(c,d){return`${c}:

${s.explainQuery(d)}`}let o=new In(n,r),l=new Oi().query(r);if(!(o.ignoreGlobalQuery||l.ignoreGlobalQuery)&&e.hasInstructions()){let c=e.query(r);i+=a("Explanation of the global query",c)+`
`}return l.source!==""&&(i+=a("Explanation of the Query File Defaults (from properties/frontmatter in the query's file)",l)+`
`),i+=a("Explanation of this Tasks code block query",o),i}function Sf(n,t,e){let i=new Oi().query(e).append(new In(n,e));return i.ignoreGlobalQuery?i:t.query(e).append(i)}Gi();Cn();function Au(n,t,e){t&&n.push(Bj(e))}function Bj(n){return`tasks-layout-hide-${n}`}var Ef=class{constructor(t){t?this.queryLayoutOptions=t:this.queryLayoutOptions=new Ki}getHiddenClasses(){let t=[],e=[[this.queryLayoutOptions.hideUrgency,"urgency"],[this.queryLayoutOptions.hideBacklinks,"backlinks"],[this.queryLayoutOptions.hideEditButton,"edit-button"],[this.queryLayoutOptions.hidePostponeButton,"postpone-button"]];for(let[r,i]of e)Au(t,r,i);return this.queryLayoutOptions.shortMode&&t.push("tasks-layout-short-mode"),t}};Is();var Df=class{constructor(t){t?this.taskLayoutOptions=t:this.taskLayoutOptions=new Gr}generateHiddenClasses(){let t=[];return this.taskLayoutOptions.toggleableComponents.forEach(e=>{Au(t,!this.taskLayoutOptions.isShown(e),e)}),Au(t,!this.taskLayoutOptions.areTagsShown(),"tags"),t}};nn();var Pu=class{constructor(t){this.label=t,this.start()}start(){!this.recordTimings()||performance.mark(this.labelForStart())}finish(){!this.recordTimings()||(performance.mark(this.labelForEnd()),performance.measure(this.label,this.labelForStart(),this.labelForEnd()),this.printDuration())}printDuration(){let t=performance.getEntriesByName(this.label),e=t[t.length-1];e?console.log(this.label+":",e.duration.toFixed(2),"milliseconds"):console.log(`Measurement for ${this.label} not found`)}labelForStart(){return`${this.label} - start`}labelForEnd(){return`${this.label} - end`}recordTimings(){let{debugSettings:t}=le();return t.recordTimings}};Nt();var _b=require("obsidian");var as=class extends rs{constructor(t,e,r=ni){super(r);let i=(u,c,d,f,p,b)=>{var D;let T=!1,_=Eo(e);if(_){let{postponedDate:A}=b(e,_,d,f);(D=e[_])!=null&&D.isSame(A,"day")&&(T=!0)}let O=p(e,f,d);c.setChecked(T).setTitle(O).onClick(()=>as.postponeOnClickCallback(u,e,f,d,b,r))},s=t0,a=KD;this.addItem(u=>i(t,u,"days",0,s,a)),this.addItem(u=>i(t,u,"day",1,s,a)),this.addSeparator();let o=gb,l=hb;this.addItem(u=>i(t,u,"days",2,o,l)),this.addItem(u=>i(t,u,"days",3,o,l)),this.addItem(u=>i(t,u,"days",4,o,l)),this.addItem(u=>i(t,u,"days",5,o,l)),this.addItem(u=>i(t,u,"days",6,o,l)),this.addSeparator(),this.addItem(u=>i(t,u,"week",1,o,l)),this.addItem(u=>i(t,u,"weeks",2,o,l)),this.addItem(u=>i(t,u,"weeks",3,o,l)),this.addItem(u=>i(t,u,"month",1,o,l)),this.addSeparator(),this.addItem(u=>i(t,u,"days",2,n0,QD))}static postponeOnClickCallback(o,l,u,c){return L(this,arguments,function*(t,e,r,i,s=hb,a=ni){var b;let d=Eo(e);if(d===null){let T="\u26A0\uFE0F Postponement requires a date: due, scheduled or start.";return new _b.Notice(T,1e4)}let{postponedDate:f,postponedTask:p}=s(e,d,i,r);(b=e[d])!=null&&b.isSame(f,"day")||(yield a(e,p),as.postponeSuccessCallback(t,d,f))})}static postponeSuccessCallback(t,e,r){t.style.pointerEvents="none";let i=JD(r,e);new _b.Notice(i,2e3)}};var xf=class{constructor(t,e,r,i,s,a=Mi.obsidianMarkdownRenderer){switch(this.source=e,this._tasksFile=r,this.renderMarkdown=i,this.obsidianComponent=s,this.textRenderer=a,t){case"block-language-tasks":this.query=this.makeQueryFromSourceAndTasksFile(),this.queryType="tasks";break;default:this.query=this.makeQueryFromSourceAndTasksFile(),this.queryType="tasks";break}}makeQueryFromSourceAndTasksFile(){return Sf(this.source,dr.getInstance(),this.tasksFile)}get tasksFile(){return this._tasksFile}setTasksFile(t){this._tasksFile=t,this.query=this.makeQueryFromSourceAndTasksFile()}get filePath(){var t,e;return(e=(t=this.tasksFile)==null?void 0:t.path)!=null?e:void 0}render(t,e,r,i){return L(this,null,function*(){t==="Warm"&&this.query.error===void 0?yield this.renderQuerySearchResults(e,t,r,i):this.query.error!==void 0?this.renderErrorMessage(r,this.query.error):this.renderLoadingMessage(r)})}renderQuerySearchResults(t,e,r,i){return L(this,null,function*(){let s=this.explainAndPerformSearch(e,t,r);if(s.searchErrorMessage!==void 0){this.renderErrorMessage(r,s.searchErrorMessage);return}yield this.renderSearchResults(s,r,i)})}explainAndPerformSearch(t,e,r){let i=new Pu(`Search: ${this.query.queryId} - ${this.filePath}`);i.start(),this.query.debug(`[render] Render called: plugin state: ${t}; searching ${e.length} tasks`),this.query.queryLayoutOptions.explainQuery&&this.createExplanation(r);let s=this.query.applyQueryToTasks(e);return i.finish(),s}renderSearchResults(t,e,r){return L(this,null,function*(){let i=new Pu(`Render: ${this.query.queryId} - ${this.filePath}`);i.start(),yield this.addAllTaskGroups(t.taskGroups,e,r);let s=t.totalTasksCount;this.addTaskCount(e,t),this.query.debug(`[render] ${s} tasks displayed`),i.finish()})}renderErrorMessage(t,e){t.createDiv().innerHTML=`<pre>Tasks query: ${e.replace(/\n/g,"<br>")}</pre>`}renderLoadingMessage(t){t.setText("Loading Tasks ...")}createExplanation(t){let e=m0(this.source,Fe.getInstance(),dr.getInstance(),this.tasksFile),r=pt("pre",t);r.classList.add("plugin-tasks-query-explanation"),r.setText(e),t.appendChild(r)}addAllTaskGroups(t,e,r){return L(this,null,function*(){for(let i of t.groups){yield this.addGroupHeadings(e,i.groupHeadings);let s=new Set;yield this.createTaskList(i.tasks,e,r,s)}})}createTaskList(t,e,r,i){return L(this,null,function*(){let s=pt("ul",e);s.classList.add("contains-task-list","plugin-tasks-query-result"),s.classList.add(...new Df(this.query.taskLayoutOptions).generateHiddenClasses()),s.classList.add(...new Ef(this.query.queryLayoutOptions).getHiddenClasses());let a=this.getGroupingAttribute();a&&a.length>0&&(s.dataset.taskGroupBy=a);let o=new Mi({textRenderer:this.textRenderer,obsidianComponent:this.obsidianComponent,parentUlElement:s,taskLayoutOptions:this.query.taskLayoutOptions,queryLayoutOptions:this.query.queryLayoutOptions});for(let[l,u]of t.entries())this.query.queryLayoutOptions.hideTree?u instanceof fe&&(yield this.addTask(s,o,u,l,r)):yield this.addTaskOrListItemAndChildren(s,o,u,l,r,t,i);e.appendChild(s)})}willBeRenderedLater(t,e,r){let i=t.findClosestParentTask();return i?!!(!e.has(i)&&r.includes(i)):!1}alreadyRendered(t,e){return e.has(t)}addTaskOrListItemAndChildren(t,e,r,i,s,a,o){return L(this,null,function*(){if(this.alreadyRendered(r,o)||this.willBeRenderedLater(r,o,a))return;let l=yield this.addTaskOrListItem(t,e,r,i,s);o.add(r),r.children.length>0&&(yield this.createTaskList(r.children,l,s,o),r.children.forEach(u=>{o.add(u)}))})}addTaskOrListItem(t,e,r,i,s){return L(this,null,function*(){return r instanceof fe?yield this.addTask(t,e,r,i,s):yield this.addListItem(t,r)})}addListItem(t,e){return L(this,null,function*(){var s,a;let r=pt("li",t),i=pt("span",r);return yield this.textRenderer(e.description,i,(a=(s=e.findClosestParentTask())==null?void 0:s.path)!=null?a:"",this.obsidianComponent),r})}addTask(t,e,r,i,s){return L(this,null,function*(){let a=this.isFilenameUnique({task:r},s.allMarkdownFiles),o=yield e.renderTaskLine(r,i,a);o.querySelectorAll("[data-footnote-id]").forEach(d=>d.remove());let u=pt("span",o);u.classList.add("task-extras"),this.query.queryLayoutOptions.hideUrgency||this.addUrgency(u,r);let c=this.query.queryLayoutOptions.shortMode;return this.query.queryLayoutOptions.hideBacklinks||this.addBacklinks(u,r,c,a,s),this.query.queryLayoutOptions.hideEditButton||this.addEditButton(u,r,s),!this.query.queryLayoutOptions.hidePostponeButton&&zD(r)&&this.addPostponeButton(u,r,c),t.appendChild(o),o})}addEditButton(t,e,r){let i=pt("a",t);i.classList.add("tasks-edit"),i.title="Edit task",i.href="#",i.addEventListener("click",s=>r.editTaskPencilClickHandler(s,e,r.allTasks))}addUrgency(t,e){let r=new Intl.NumberFormat().format(e.urgency),i=pt("span",t);i.textContent=r,i.classList.add("tasks-urgency")}addGroupHeadings(t,e){return L(this,null,function*(){for(let r of e)yield this.addGroupHeading(t,r)})}addGroupHeading(t,e){return L(this,null,function*(){let r="h6";e.nestingLevel===0?r="h4":e.nestingLevel===1&&(r="h5");let i=pt(r,t);i.classList.add("tasks-group-heading"),this.obsidianComponent!==null&&(yield this.renderMarkdown(e.displayName,i,this.tasksFile.path,this.obsidianComponent))})}addBacklinks(t,e,r,i,s){var u;let a=pt("span",t);a.classList.add("tasks-backlink"),r||a.append(" (");let o=pt("a",a);o.rel="noopener",o.target="_blank",o.classList.add("internal-link"),r&&o.classList.add("internal-link-short-mode");let l;r?l=" \u{1F517}":l=(u=e.getLinkText({isFilenameUnique:i}))!=null?u:"",o.text=l,o.addEventListener("click",c=>L(this,null,function*(){yield s.backlinksClickHandler(c,e)})),o.addEventListener("mousedown",c=>L(this,null,function*(){yield s.backlinksMousedownHandler(c,e)})),r||a.append(")")}addPostponeButton(t,e,r){let s="day",a=e0(e,1,s),o=pt("a",t);o.classList.add("tasks-postpone"),r&&o.classList.add("tasks-postpone-short-mode"),o.title=a,o.addEventListener("click",l=>{l.preventDefault(),l.stopPropagation(),as.postponeOnClickCallback(o,e,1,s)}),o.addEventListener("contextmenu",l=>L(this,null,function*(){l.preventDefault(),l.stopPropagation(),new as(o,e).showAtPosition({x:l.clientX,y:l.clientY})}))}addTaskCount(t,e){if(!this.query.queryLayoutOptions.hideTaskCount){let r=pt("div",t);r.classList.add("task-count"),r.textContent=e.totalTasksCountDisplayText()}}isFilenameUnique({task:t},e){let r=t.path.match(/([^/]*)\..+$/i);if(r===null)return;let i=r[1];return e.filter(a=>{if(a.basename===i)return!0}).length<2}getGroupingAttribute(){let t=[];for(let e of this.query.grouping)t.push(e.property);return t.join(",")}};var Of=class{constructor({plugin:t,events:e}){this.addQueryRenderChild=this._addQueryRenderChild.bind(this);this.app=t.app,this.plugin=t,this.events=e,t.registerMarkdownCodeBlockProcessor("tasks",this._addQueryRenderChild.bind(this))}_addQueryRenderChild(t,e,r){return L(this,null,function*(){let i=this.app,s=r.sourcePath,a=i.vault.getAbstractFileByPath(s),o=null;a&&a instanceof ia.TFile&&(o=i.metadataCache.getFileCache(a));let l=new mt(s,o!=null?o:{}),u=new vb({app:i,plugin:this.plugin,events:this.events,container:e,source:t,tasksFile:l});r.addChild(u),u.load()})}},vb=class extends ia.MarkdownRenderChild{constructor({app:e,plugin:r,events:i,container:s,source:a,tasksFile:o}){super(s);this.queryResultsRenderer=new xf(this.containerEl.className,a,o,ia.MarkdownRenderer.renderMarkdown,this),this.queryResultsRenderer.query.debug("[render] QueryRenderChild.constructor() entered"),this.app=e,this.plugin=r,this.events=i}onload(){this.queryResultsRenderer.query.debug("[render] QueryRenderChild.onload() entered"),this.events.triggerRequestCacheUpdate(this.render.bind(this)),this.renderEventRef=this.events.onCacheUpdate(this.render.bind(this)),this.reloadQueryAtMidnight(),this.registerEvent(this.app.metadataCache.on("changed",(e,r,i)=>{let s=e.path;s===this.queryResultsRenderer.filePath&&this.handleMetadataOrFilePathChange(s,i)})),this.registerEvent(this.app.vault.on("rename",(e,r)=>{let i=null;e&&e instanceof ia.TFile&&(i=this.app.metadataCache.getFileCache(e)),this.handleMetadataOrFilePathChange(e.path,i)}))}handleMetadataOrFilePathChange(e,r){let i=this.queryResultsRenderer.tasksFile,s=new mt(e,r!=null?r:{}),a=i.path!==s.path,o=!i.rawFrontmatterIdenticalTo(s);(a||o)&&(this.queryResultsRenderer.setTasksFile(s),this.events.triggerRequestCacheUpdate(this.render.bind(this)))}onunload(){this.queryResultsRenderer.query.debug("[render] QueryRenderChild.onunload() entered"),this.renderEventRef!==void 0&&this.events.off(this.renderEventRef),this.queryReloadTimeout!==void 0&&clearTimeout(this.queryReloadTimeout)}reloadQueryAtMidnight(){let e=new Date;e.setHours(24,0,0,0);let r=new Date,i=e.getTime()-r.getTime();this.queryReloadTimeout=setTimeout(()=>{this.queryResultsRenderer.query=Sf(this.queryResultsRenderer.source,dr.getInstance(),this.queryResultsRenderer.tasksFile),this.events.triggerRequestCacheUpdate(this.render.bind(this)),this.reloadQueryAtMidnight()},i+1e3)}render(i){return L(this,arguments,function*({tasks:e,state:r}){var a;let s=pt("div",this.containerEl);yield this.queryResultsRenderer.render(r,e,s,{allTasks:this.plugin.getTasks(),allMarkdownFiles:this.app.vault.getMarkdownFiles(),backlinksClickHandler:zj(this.app),backlinksMousedownHandler:Kj(this.app),editTaskPencilClickHandler:Vj(this.app)}),(a=this.containerEl.firstChild)==null||a.replaceWith(s)})}};function Vj(n){return function(e,r,i){e.preventDefault();let s=o=>L(this,null,function*(){yield ar({originalTask:r,newTasks:Ft.removeInferredStatusIfNeeded(r,o)})});new zi({app:n,task:r,onSubmit:s,allTasks:i}).open()}}function zj(n){return function(e,r){return L(this,null,function*(){let i=yield Iy(r,n.vault);if(i){let[s,a]=i,o=n.workspace.getLeaf(h0.Keymap.isModEvent(e));e.preventDefault(),yield o.openFile(a,{eState:{line:s}})}})}}function Kj(n){return function(e,r){return L(this,null,function*(){if(e.button===1){let i=yield Iy(r,n.vault);if(i){let[s,a]=i,o=n.workspace.getLeaf("tab");e.preventDefault(),yield o.openFile(a,{eState:{line:s}})}}})}}nn();var Ce=require("obsidian");Jn();wi();Sr();gs();Ga();var Cf=class{constructor(t){this._markdown="";this.columnNames=t,this.addTitleRow()}get markdown(){return this._markdown}addTitleRow(){let t="|",e="|";this.columnNames.forEach(r=>{t+=` ${r} |`,e+=" ----- |"}),this._markdown+=`${t}
`,this._markdown+=`${e}
`}addRow(t){let e=this.makeRowText(t);this._markdown+=`${e}
`}addRowIfNew(t){let e=this.makeRowText(t);this._markdown.includes(e)||(this._markdown+=`${e}
`)}makeRowText(t){let e="|";return t.forEach(r=>{e+=` ${r} |`}),e}};gs();Jn();Sr();function g0(n,t){return n.findIndex(e=>e.symbol===t)}function os(n){return n===""?n:"`"+(n!==" "?n:"space")+"`"}function Qj(n,t){let e=ge.getTypeForUnknownSymbol(n.symbol);if(n.type===e||e==="TODO"&&n.symbol!==" ")return;let r=os(n.symbol),i=os(e);t.push(N.t("reports.statusRegistry.messages.notConventionalType",{symbol:r,type:i}))}function Xj(n,t,e){let r=t.nextStatusSymbol,i=g0(n,r);if(i===-1){let a=os(r);e.push(N.t("reports.statusRegistry.messages.nextSymbolUnknown",{symbol:a}));return}if(t.type!=="DONE")return;let s=n[i];if(s){if(s.type!=="TODO"&&s.type!=="IN_PROGRESS"){let a="https://publish.obsidian.md/tasks/Getting+Started/Statuses/Recurring+Tasks+and+Custom+Statuses",o=os(s.type),l=[N.t("reports.statusRegistry.messages.wrongTypeAfterDone.line1",{nextType:o}),N.t("reports.statusRegistry.messages.wrongTypeAfterDone.line2"),N.t("reports.statusRegistry.messages.wrongTypeAfterDone.line3",{helpURL:a})].join("<br>");e.push(l)}}else e.push(N.t("reports.statusRegistry.messages.cannotFindNextStatus"))}function Zj(n,t,e){let r=[];if(t.symbol===ge.EMPTY.symbol)return r.push(N.t("reports.statusRegistry.messages.emptySymbol")),r;if(g0(n,t.symbol)!=e){let s=os(t.symbol);return r.push(N.t("reports.statusRegistry.messages.duplicateSymbol",{symbol:s})),r}return Qj(t,r),Xj(n,t,r),r}function y0(n){let t=new Cf([N.t("reports.statusRegistry.columnHeadings.statusSymbol"),N.t("reports.statusRegistry.columnHeadings.nextStatusSymbol"),N.t("reports.statusRegistry.columnHeadings.statusName"),N.t("reports.statusRegistry.columnHeadings.statusType"),N.t("reports.statusRegistry.columnHeadings.problems")]),e=et.allStatuses(n);return e.forEach((r,i)=>{t.addRow([os(r.symbol),os(r.nextStatusSymbol),r.name,os(r.type),Zj(e,r,i).join("<br>")])}),t.markdown}function b0(n,t,e,r){let s=y0(n),a=t.mermaidDiagram(!0);return`# ${e}

## ${N.t("reports.statusRegistry.about.title")}

${N.t("reports.statusRegistry.about.createdBy",{version:r})}

${N.t("reports.statusRegistry.about.updateReport.line1")}

- ${N.t("reports.statusRegistry.about.updateReport.line2")}
- ${N.t("reports.statusRegistry.about.updateReport.line3")}

${N.t("reports.statusRegistry.about.deleteFileAnyTime")}

## ${N.t("reports.statusRegistry.statusSettings.title")}

<!--
${N.t("reports.statusRegistry.statusSettings.comment.line1")}
${N.t("reports.statusRegistry.statusSettings.comment.line2")}
${N.t("reports.statusRegistry.statusSettings.comment.line3")}
-->

${N.t("reports.statusRegistry.statusSettings.theseAreStatusValues")}

${s}
## ${N.t("reports.statusRegistry.loadedSettings.title")}

<!-- ${N.t("reports.statusRegistry.loadedSettings.switchToLivePreview")} -->

${N.t("reports.statusRegistry.loadedSettings.settingsActuallyUsed")}
${a}`}gs();function T0(){return[[" ","Unchecked","x","TODO"],["x","Checked"," ","DONE"],[">","Rescheduled","x","TODO"],["<","Scheduled","x","TODO"],["!","Important","x","TODO"],["-","Cancelled"," ","CANCELLED"],["/","In Progress","x","IN_PROGRESS"],["?","Question","x","TODO"],["*","Star","x","TODO"],["n","Note","x","TODO"],["l","Location","x","TODO"],["i","Information","x","TODO"],["I","Idea","x","TODO"],["S","Amount","x","TODO"],["p","Pro","x","TODO"],["c","Con","x","TODO"],["b","Bookmark","x","TODO"],['"',"Quote","x","TODO"],["0","Speech bubble 0","0","NON_TASK"],["1","Speech bubble 1","1","NON_TASK"],["2","Speech bubble 2","2","NON_TASK"],["3","Speech bubble 3","3","NON_TASK"],["4","Speech bubble 4","4","NON_TASK"],["5","Speech bubble 5","5","NON_TASK"],["6","Speech bubble 6","6","NON_TASK"],["7","Speech bubble 7","7","NON_TASK"],["8","Speech bubble 8","8","NON_TASK"],["9","Speech bubble 9","9","NON_TASK"]]}function _0(){return[[" ","incomplete","x","TODO"],["x","complete / done"," ","DONE"],["-","cancelled"," ","CANCELLED"],[">","deferred","x","TODO"],["/","in progress, or half-done","x","IN_PROGRESS"],["!","Important","x","TODO"],["?","question","x","TODO"],["R","review","x","TODO"],["+","Inbox / task that should be processed later","x","TODO"],["b","bookmark","x","TODO"],["B","brainstorm","x","TODO"],["D","deferred or scheduled","x","TODO"],["I","Info","x","TODO"],["i","idea","x","TODO"],["N","note","x","TODO"],["Q","quote","x","TODO"],["W","win / success / reward","x","TODO"],["P","pro","x","TODO"],["C","con","x","TODO"]]}function v0(){return[[" ","To Do","x","TODO"],["/","In Progress","x","IN_PROGRESS"],["x","Done"," ","DONE"],["-","Cancelled"," ","CANCELLED"],[">","Rescheduled","x","TODO"],["<","Scheduled","x","TODO"],["!","Important","x","TODO"],["?","Question","x","TODO"],["i","Infomation","x","TODO"],["S","Amount","x","TODO"],["*","Star","x","TODO"],["b","Bookmark","x","TODO"],["\u201C","Quote","x","TODO"],["n","Note","x","TODO"],["l","Location","x","TODO"],["I","Idea","x","TODO"],["p","Pro","x","TODO"],["c","Con","x","TODO"],["u","Up","x","TODO"],["d","Down","x","TODO"]]}function w0(){return[[" ","Unchecked","x","TODO"],["x","Checked"," ","DONE"],["-","Cancelled"," ","CANCELLED"],["/","In Progress","x","IN_PROGRESS"],[">","Deferred","x","TODO"],["!","Important","x","TODO"],["?","Question","x","TODO"],["r","Review","x","TODO"]]}function k0(){return[[" ","Unchecked","x","TODO"],["x","Regular"," ","DONE"],["X","Checked"," ","DONE"],["-","Dropped"," ","CANCELLED"],[">","Forward","x","TODO"],["D","Date","x","TODO"],["?","Question","x","TODO"],["/","Half Done","x","IN_PROGRESS"],["+","Add","x","TODO"],["R","Research","x","TODO"],["!","Important","x","TODO"],["i","Idea","x","TODO"],["B","Brainstorm","x","TODO"],["P","Pro","x","TODO"],["C","Con","x","TODO"],["Q","Quote","x","TODO"],["N","Note","x","TODO"],["b","Bookmark","x","TODO"],["I","Information","x","TODO"],["p","Paraphrase","x","TODO"],["L","Location","x","TODO"],["E","Example","x","TODO"],["A","Answer","x","TODO"],["r","Reward","x","TODO"],["c","Choice","x","TODO"],["d","Doing","x","IN_PROGRESS"],["T","Time","x","TODO"],["@","Character / Person","x","TODO"],["t","Talk","x","TODO"],["O","Outline / Plot","x","TODO"],["~","Conflict","x","TODO"],["W","World","x","TODO"],["f","Clue / Find","x","TODO"],["F","Foreshadow","x","TODO"],["H","Favorite / Health","x","TODO"],["&","Symbolism","x","TODO"],["s","Secret","x","TODO"]]}function S0(){return[[" ","Unchecked","x","TODO"],["x","Checked"," ","DONE"],[">","Rescheduled","x","TODO"],["<","Scheduled","x","TODO"],["!","Important","x","TODO"],["-","Cancelled"," ","CANCELLED"],["/","In Progress","x","IN_PROGRESS"],["?","Question","x","TODO"],["*","Star","x","TODO"],["n","Note","x","TODO"],["l","Location","x","TODO"],["i","Information","x","TODO"],["I","Idea","x","TODO"],["S","Amount","x","TODO"],["p","Pro","x","TODO"],["c","Con","x","TODO"],["b","Bookmark","x","TODO"],["f","Fire","x","TODO"],["k","Key","x","TODO"],["w","Win","x","TODO"],["u","Up","x","TODO"],["d","Down","x","TODO"]]}function E0(){return[[" ","to-do","x","TODO"],["/","incomplete","x","IN_PROGRESS"],["x","done"," ","DONE"],["-","canceled"," ","CANCELLED"],[">","forwarded","x","TODO"],["<","scheduling","x","TODO"],["?","question","x","TODO"],["!","important","x","TODO"],["*","star","x","TODO"],['"',"quote","x","TODO"],["l","location","x","TODO"],["b","bookmark","x","TODO"],["i","information","x","TODO"],["S","savings","x","TODO"],["I","idea","x","TODO"],["p","pros","x","TODO"],["c","cons","x","TODO"],["f","fire","x","TODO"],["k","key","x","TODO"],["w","win","x","TODO"],["u","up","x","TODO"],["d","down","x","TODO"]]}function D0(){return[[" ","to-do","x","TODO"],["/","incomplete","x","IN_PROGRESS"],["x","done"," ","DONE"],["-","canceled"," ","CANCELLED"],[">","forwarded","x","TODO"],["<","scheduling","x","TODO"],["?","question","x","TODO"],["!","important","x","TODO"],["*","star","x","TODO"],['"',"quote","x","TODO"],["l","location","x","TODO"],["b","bookmark","x","TODO"],["i","information","x","TODO"],["S","savings","x","TODO"],["I","idea","x","TODO"],["p","pros","x","TODO"],["c","cons","x","TODO"],["f","fire","x","TODO"],["k","key","x","TODO"],["w","win","x","TODO"],["u","up","x","TODO"],["d","down","x","TODO"]]}nn();nn();Cn();Ga();var Nr=require("obsidian");Jn();Jn();Sr();wi();var sa=class{validate(t){let e=[];return e.push(...this.validateSymbol(t)),e.push(...this.validateName(t)),e.push(...this.validateNextSymbol(t)),e}validateStatusCollectionEntry(t){let[e,r,i,s]=t,a=[];if(a.push(...this.validateType(s)),e===i&&s!=="NON_TASK"&&a.push(`Status symbol '${e}' toggles to itself`),a.length>0)return a;let o=ge.createFromImportedValue(t).configuration;return a.push(...this.validateSymbolTypeConventions(o)),a.push(...this.validate(o)),a}validateSymbol(t){return sa.validateOneSymbol(t.symbol,"Task Status Symbol")}validateNextSymbol(t){return sa.validateOneSymbol(t.nextStatusSymbol,"Task Next Status Symbol")}validateName(t){let e=[];return t.name.length===0&&e.push("Task Status Name cannot be empty."),e}validateType(t){let e=tn[t],r=[];return e||r.push(`Status Type "${t}" is not a valid type`),e=="EMPTY"&&r.push('Status Type "EMPTY" is not permitted in user data'),r}validateSymbolTypeConventions(t){let e=[],r=t.symbol,i=new Be,s=r==="X"?"x":r,a=i.bySymbol(s);return a.type!=="EMPTY"&&(t.nextStatusSymbol!==a.nextStatusSymbol&&e.push(`Next Status Symbol for symbol '${r}': '${t.nextStatusSymbol}' is inconsistent with convention '${a.nextStatusSymbol}'`),t.type!==a.type&&e.push(`Status Type for symbol '${r}': '${t.type}' is inconsistent with convention '${a.type}'`)),e}static validateOneSymbol(t,e){let r=[];return t.length===0&&r.push(`${e} cannot be empty.`),t.length>1&&r.push(`${e} ("${t}") must be a single character.`),r}};Sr();gs();var aa=new sa,Fn=class extends Nr.Modal{constructor(e,r,i){super(e.app);this.plugin=e;this.saved=!1;this.error=!1;this.statusSymbol=r.symbol,this.statusName=r.name,this.statusNextSymbol=r.nextStatusSymbol,this.statusAvailableAsCommand=r.availableAsCommand,this.type=r.type,this.isCoreStatus=i}statusConfiguration(){return new gt(this.statusSymbol,this.statusName,this.statusNextSymbol,this.statusAvailableAsCommand,this.type)}display(){return L(this,null,function*(){let{contentEl:e}=this;e.empty();let r=e.createDiv(),i;new Nr.Setting(r).setName(N.t("modals.customStatusModal.editStatusSymbol.name")).setDesc(N.t("modals.customStatusModal.editStatusSymbol.description")).addText(u=>{i=u,u.setValue(this.statusSymbol).onChange(c=>{this.statusSymbol=c,Fn.setValid(u,aa.validateSymbol(this.statusConfiguration()))})}).setDisabled(this.isCoreStatus).then(u=>{Fn.setValid(i,aa.validateSymbol(this.statusConfiguration()))});let s;new Nr.Setting(r).setName(N.t("modals.customStatusModal.editStatusName.name")).setDesc(N.t("modals.customStatusModal.editStatusName.description")).addText(u=>{s=u,u.setValue(this.statusName).onChange(c=>{this.statusName=c,Fn.setValid(u,aa.validateName(this.statusConfiguration()))})}).then(u=>{Fn.setValid(s,aa.validateName(this.statusConfiguration()))});let a;new Nr.Setting(r).setName(N.t("modals.customStatusModal.editNextStatusSymbol.name")).setDesc(N.t("modals.customStatusModal.editNextStatusSymbol.description")).addText(u=>{a=u,u.setValue(this.statusNextSymbol).onChange(c=>{this.statusNextSymbol=c,Fn.setValid(u,aa.validateNextSymbol(this.statusConfiguration()))})}).then(u=>{Fn.setValid(a,aa.validateNextSymbol(this.statusConfiguration()))}),new Nr.Setting(r).setName(N.t("modals.customStatusModal.editStatusType.name")).setDesc(N.t("modals.customStatusModal.editStatusType.description")).addDropdown(u=>{["TODO","IN_PROGRESS","DONE","CANCELLED","NON_TASK"].forEach(d=>{u.addOption(d,d)}),u.setValue(this.type).onChange(d=>{this.type=ge.getTypeFromStatusTypeString(d)})}),ge.tasksPluginCanCreateCommandsForStatuses()&&new Nr.Setting(r).setName(N.t("modals.customStatusModal.editAvailableAsCommand.name")).setDesc(N.t("modals.customStatusModal.editAvailableAsCommand.description")).addToggle(u=>{u.setValue(this.statusAvailableAsCommand).onChange(c=>L(this,null,function*(){this.statusAvailableAsCommand=c}))});let o=e.createDiv(),l=new Nr.Setting(o);l.addButton(u=>(u.setTooltip("Save").setIcon("checkmark").onClick(()=>L(this,null,function*(){let c=aa.validate(this.statusConfiguration());if(c.length>0){let d=c.join(`
`)+`

`+N.t("modals.customStatusModal.fixErrorsBeforeSaving");new Nr.Notice(d);return}this.saved=!0,this.close()})),u)),l.addExtraButton(u=>(u.setIcon("cross").setTooltip("Cancel").onClick(()=>{this.saved=!1,this.close()}),u))})}onOpen(){this.display()}static setValidationError(e){e.inputEl.addClass("tasks-settings-is-invalid")}static removeValidationError(e){e.inputEl.removeClass("tasks-settings-is-invalid")}static setValid(e,r){r.length===0?Fn.removeValidationError(e):Fn.setValidationError(e)}};var ln=class extends Ce.PluginSettingTab{constructor({plugin:e}){super(e.app,e);this.customFunctions={insertTaskCoreStatusSettings:this.insertTaskCoreStatusSettings.bind(this),insertCustomTaskStatusSettings:this.insertCustomTaskStatusSettings.bind(this)};this.plugin=e}saveSettings(e){return L(this,null,function*(){yield this.plugin.saveSettings(),e&&this.display()})}display(){let{containerEl:e}=this;e.empty(),this.containerEl.addClass("tasks-settings"),e.createEl("p",{cls:"tasks-setting-important",text:N.t("settings.changeRequiresRestart")}),new Ce.Setting(e).setName(N.t("settings.format.name")).setDesc(ln.createFragmentWithHTML(`<p>${N.t("settings.format.description.line1")}</p><p>${N.t("settings.format.description.line2")}</p>`+this.seeTheDocumentation("https://publish.obsidian.md/tasks/Reference/Task+Formats/About+Task+Formats"))).addDropdown(c=>{for(let d of Object.keys(Er))c.addOption(d,Er[d].getDisplayName());c.setValue(le().taskFormat).onChange(d=>L(this,null,function*(){dt({taskFormat:d}),yield this.plugin.saveSettings()}))}),new Ce.Setting(e).setName(N.t("settings.globalFilter.heading")).setHeading();let r=null;new Ce.Setting(e).setName(N.t("settings.globalFilter.filter.name")).setDesc(ln.createFragmentWithHTML(`<p><b>${N.t("settings.globalFilter.filter.description.line1")}</b></p><p>${N.t("settings.globalFilter.filter.description.line2")}<p><p>${N.t("settings.globalFilter.filter.description.line3")}</br>${N.t("settings.globalFilter.filter.description.line4")}</p>`+this.seeTheDocumentation("https://publish.obsidian.md/tasks/Getting+Started/Global+Filter"))).addText(c=>{c.setPlaceholder(N.t("settings.globalFilter.filter.placeholder")).setValue(Fe.getInstance().get()).onChange(d=>L(this,null,function*(){dt({globalFilter:d}),Fe.getInstance().set(d),yield this.plugin.saveSettings(),ri(r,d.length>0)}))}),r=new Ce.Setting(e).setName(N.t("settings.globalFilter.removeFilter.name")).setDesc(N.t("settings.globalFilter.removeFilter.description")).addToggle(c=>{let d=le();c.setValue(d.removeGlobalFilter).onChange(f=>L(this,null,function*(){dt({removeGlobalFilter:f}),Fe.getInstance().setRemoveGlobalFilter(f),yield this.plugin.saveSettings()}))}),ri(r,le().globalFilter.length>0),new Ce.Setting(e).setName(N.t("settings.globalQuery.heading")).setHeading(),tW(new Ce.Setting(e).setDesc(ln.createFragmentWithHTML(`<p>${N.t("settings.globalQuery.query.description")}</p>`+this.seeTheDocumentation("https://publish.obsidian.md/tasks/Queries/Global+Query"))).addTextArea(c=>{let d=le();c.inputEl.rows=4,c.setPlaceholder("# "+N.t("settings.globalQuery.query.placeholder")).setValue(d.globalQuery).onChange(f=>L(this,null,function*(){dt({globalQuery:f}),dr.getInstance().set(f),yield this.plugin.saveSettings()}))})),new Ce.Setting(e).setName(N.t("settings.statuses.heading")).setHeading();let{headingOpened:i}=le();[{text:N.t("settings.statuses.coreStatuses.heading"),level:"h3",class:"",open:!0,notice:{class:"setting-item-description",text:null,html:"<p>"+N.t("settings.statuses.coreStatuses.description.line1")+"</p><p>"+N.t("settings.statuses.coreStatuses.description.line2")+"</p>"},settings:[{name:"",description:"",type:"function",initialValue:"",placeholder:"",settingName:"insertTaskCoreStatusSettings",featureFlag:"",notice:null}]},{text:N.t("settings.statuses.customStatuses.heading"),level:"h3",class:"",open:!0,notice:{class:"setting-item-description",text:null,html:"<p>"+N.t("settings.statuses.customStatuses.description.line1")+"</p><p>"+N.t("settings.statuses.customStatuses.description.line2")+"</p><p>"+N.t("settings.statuses.customStatuses.description.line3")+`</p><p></p><p><a href="https://publish.obsidian.md/tasks/Getting+Started/Statuses">${N.t("settings.statuses.customStatuses.description.line4")}</a></p>`},settings:[{name:"",description:"",type:"function",initialValue:"",placeholder:"",settingName:"insertCustomTaskStatusSettings",featureFlag:"",notice:null}]}].forEach(c=>{var p;let d=(p=i[c.text])!=null?p:!0,f=this.addOneSettingsBlock(e,c,i);f.open=d}),new Ce.Setting(e).setName(N.t("settings.dates.heading")).setHeading(),new Ce.Setting(e).setName(N.t("settings.dates.createdDate.name")).setDesc(ln.createFragmentWithHTML(N.t("settings.dates.createdDate.description")+"</br>"+this.seeTheDocumentation("https://publish.obsidian.md/tasks/Getting+Started/Dates#Created+date"))).addToggle(c=>{let d=le();c.setValue(d.setCreatedDate).onChange(f=>L(this,null,function*(){dt({setCreatedDate:f}),yield this.plugin.saveSettings()}))}),new Ce.Setting(e).setName(N.t("settings.dates.doneDate.name")).setDesc(ln.createFragmentWithHTML(N.t("settings.dates.doneDate.description")+"</br>"+this.seeTheDocumentation("https://publish.obsidian.md/tasks/Getting+Started/Dates#Done+date"))).addToggle(c=>{let d=le();c.setValue(d.setDoneDate).onChange(f=>L(this,null,function*(){dt({setDoneDate:f}),yield this.plugin.saveSettings()}))}),new Ce.Setting(e).setName(N.t("settings.dates.cancelledDate.name")).setDesc(ln.createFragmentWithHTML(N.t("settings.dates.cancelledDate.description")+"</br>"+this.seeTheDocumentation("https://publish.obsidian.md/tasks/Getting+Started/Dates#Cancelled+date"))).addToggle(c=>{let d=le();c.setValue(d.setCancelledDate).onChange(f=>L(this,null,function*(){dt({setCancelledDate:f}),yield this.plugin.saveSettings()}))}),new Ce.Setting(e).setName(N.t("settings.datesFromFileNames.heading")).setHeading();let a=null,o=null;new Ce.Setting(e).setName(N.t("settings.datesFromFileNames.scheduledDate.toggle.name")).setDesc(ln.createFragmentWithHTML(N.t("settings.datesFromFileNames.scheduledDate.toggle.description.line1")+"</br>"+N.t("settings.datesFromFileNames.scheduledDate.toggle.description.line2")+"</br>"+N.t("settings.datesFromFileNames.scheduledDate.toggle.description.line3")+"</br>"+N.t("settings.datesFromFileNames.scheduledDate.toggle.description.line4")+"</br>"+this.seeTheDocumentation("https://publish.obsidian.md/tasks/Getting+Started/Use+Filename+as+Default+Date"))).addToggle(c=>{let d=le();c.setValue(d.useFilenameAsScheduledDate).onChange(f=>L(this,null,function*(){dt({useFilenameAsScheduledDate:f}),ri(a,f),ri(o,f),yield this.plugin.saveSettings()}))}),a=new Ce.Setting(e).setName(N.t("settings.datesFromFileNames.scheduledDate.extraFormat.name")).setDesc(ln.createFragmentWithHTML(N.t("settings.datesFromFileNames.scheduledDate.extraFormat.description.line1")+`</br><p><a href="https://momentjs.com/docs/#/displaying/format/">${N.t("settings.datesFromFileNames.scheduledDate.extraFormat.description.line2")}</a></p>`)).addText(c=>{let d=le();c.setPlaceholder(N.t("settings.datesFromFileNames.scheduledDate.extraFormat.placeholder")).setValue(d.filenameAsScheduledDateFormat).onChange(f=>L(this,null,function*(){dt({filenameAsScheduledDateFormat:f}),yield this.plugin.saveSettings()}))}),o=new Ce.Setting(e).setName(N.t("settings.datesFromFileNames.scheduledDate.folders.name")).setDesc(N.t("settings.datesFromFileNames.scheduledDate.folders.description")).addText(c=>L(this,null,function*(){let d=le();yield this.plugin.saveSettings(),c.setValue(ln.renderFolderArray(d.filenameAsDateFolders)).onChange(f=>L(this,null,function*(){let p=ln.parseCommaSeparatedFolders(f);dt({filenameAsDateFolders:p}),yield this.plugin.saveSettings()}))})),ri(a,le().useFilenameAsScheduledDate),ri(o,le().useFilenameAsScheduledDate),new Ce.Setting(e).setName(N.t("settings.recurringTasks.heading")).setHeading(),new Ce.Setting(e).setName(N.t("settings.recurringTasks.nextLine.name")).setDesc(ln.createFragmentWithHTML(N.t("settings.recurringTasks.nextLine.description")+"</br>"+this.seeTheDocumentation("https://publish.obsidian.md/tasks/Getting+Started/Recurring+Tasks"))).addToggle(c=>{let{recurrenceOnNextLine:d}=le();c.setValue(d).onChange(f=>L(this,null,function*(){dt({recurrenceOnNextLine:f}),yield this.plugin.saveSettings()}))}),new Ce.Setting(e).setName(N.t("settings.autoSuggest.heading")).setHeading();let l=null,u=null;new Ce.Setting(e).setName(N.t("settings.autoSuggest.toggle.name")).setDesc(ln.createFragmentWithHTML(N.t("settings.autoSuggest.toggle.description")+"</br>"+this.seeTheDocumentation("https://publish.obsidian.md/tasks/Getting+Started/Auto-Suggest"))).addToggle(c=>{let d=le();c.setValue(d.autoSuggestInEditor).onChange(f=>L(this,null,function*(){dt({autoSuggestInEditor:f}),yield this.plugin.saveSettings(),ri(l,f),ri(u,f)}))}),l=new Ce.Setting(e).setName(N.t("settings.autoSuggest.minLength.name")).setDesc(N.t("settings.autoSuggest.minLength.description")).addSlider(c=>{let d=le();c.setLimits(0,3,1).setValue(d.autoSuggestMinMatch).setDynamicTooltip().onChange(f=>L(this,null,function*(){dt({autoSuggestMinMatch:f}),yield this.plugin.saveSettings()}))}),u=new Ce.Setting(e).setName(N.t("settings.autoSuggest.maxSuggestions.name")).setDesc(N.t("settings.autoSuggest.maxSuggestions.description")).addSlider(c=>{let d=le();c.setLimits(3,20,1).setValue(d.autoSuggestMaxItems).setDynamicTooltip().onChange(f=>L(this,null,function*(){dt({autoSuggestMaxItems:f}),yield this.plugin.saveSettings()}))}),ri(l,le().autoSuggestInEditor),ri(u,le().autoSuggestInEditor),new Ce.Setting(e).setName(N.t("settings.dialogs.heading")).setHeading(),new Ce.Setting(e).setName(N.t("settings.dialogs.accessKeys.name")).setDesc(ln.createFragmentWithHTML(N.t("settings.dialogs.accessKeys.description")+"</br>"+this.seeTheDocumentation("https://publish.obsidian.md/tasks/Getting+Started/Create+or+edit+Task#Keyboard+shortcuts"))).addToggle(c=>{let d=le();c.setValue(d.provideAccessKeys).onChange(f=>L(this,null,function*(){dt({provideAccessKeys:f}),yield this.plugin.saveSettings()}))})}seeTheDocumentation(e){return`<p><a href="${e}">${N.t("settings.seeTheDocumentation")}</a>.</p>`}addOneSettingsBlock(e,r,i){let s=e.createEl("details",{cls:"tasks-nested-settings",attr:U({},r.open||i[r.text]?{open:!0}:{})});s.empty(),s.ontoggle=()=>{i[r.text]=s.open,dt({headingOpened:i}),this.plugin.saveSettings()};let a=s.createEl("summary");if(new Ce.Setting(a).setHeading().setName(r.text),a.createDiv("collapser").createDiv("handle"),r.notice!==null){let o=s.createEl("div",{cls:r.notice.class,text:r.notice.text});r.notice.html!==null&&o.insertAdjacentHTML("beforeend",r.notice.html)}return r.settings.forEach(o=>{if(!(o.featureFlag!==""&&!HS(o.featureFlag))&&(o.type==="checkbox"?new Ce.Setting(s).setName(o.name).setDesc(o.description).addToggle(l=>{let u=le();u.generalSettings[o.settingName]||Ws(o.settingName,o.initialValue),l.setValue(u.generalSettings[o.settingName]).onChange(c=>L(this,null,function*(){Ws(o.settingName,c),yield this.plugin.saveSettings()}))}):o.type==="text"?new Ce.Setting(s).setName(o.name).setDesc(o.description).addText(l=>{let u=le();u.generalSettings[o.settingName]||Ws(o.settingName,o.initialValue);let c=d=>L(this,null,function*(){Ws(o.settingName,d),yield this.plugin.saveSettings()});l.setPlaceholder(o.placeholder.toString()).setValue(u.generalSettings[o.settingName].toString()).onChange((0,Ce.debounce)(c,500,!0))}):o.type==="textarea"?new Ce.Setting(s).setName(o.name).setDesc(o.description).addTextArea(l=>{let u=le();u.generalSettings[o.settingName]||Ws(o.settingName,o.initialValue);let c=d=>L(this,null,function*(){Ws(o.settingName,d),yield this.plugin.saveSettings()});l.setPlaceholder(o.placeholder.toString()).setValue(u.generalSettings[o.settingName].toString()).onChange((0,Ce.debounce)(c,500,!0)),l.inputEl.rows=8,l.inputEl.cols=40}):o.type==="function"&&this.customFunctions[o.settingName](s,this),o.notice!==null)){let l=s.createEl("p",{cls:o.notice.class,text:o.notice.text});o.notice.html!==null&&l.insertAdjacentHTML("beforeend",o.notice.html)}}),s}static parseCommaSeparatedFolders(e){return e.split(",").map(r=>r.trim()).map(r=>r.replace(/^\/|\/$/g,"")).filter(r=>r!=="")}static renderFolderArray(e){return e.join(",")}insertTaskCoreStatusSettings(e,r){let{statusSettings:i}=le();i.coreStatuses.forEach(a=>{x0(e,a,i.coreStatuses,i,r,r.plugin,!0)}),new Ce.Setting(e).addButton(a=>{let o=N.t("settings.statuses.coreStatuses.buttons.checkStatuses.name");a.setButtonText(o).setCta().onClick(()=>L(this,null,function*(){let u=window.moment().format("YYYY-MM-DD HH-mm-ss"),c=`Tasks Plugin - ${o} ${u}.md`,d=this.plugin.manifest.version,f=Be.getInstance(),p=b0(i,f,o,d),b=yield this.app.vault.create(c,p);yield this.app.workspace.getLeaf(!0).openFile(b)})),a.setTooltip(N.t("settings.statuses.coreStatuses.buttons.checkStatuses.tooltip"))}).infoEl.remove()}insertCustomTaskStatusSettings(e,r){let{statusSettings:i}=le();i.customStatuses.forEach(u=>{x0(e,u,i.customStatuses,i,r,r.plugin,!1)}),e.createEl("div"),new Ce.Setting(e).addButton(u=>{u.setButtonText(N.t("settings.statuses.customStatuses.buttons.addNewStatus.name")).setCta().onClick(()=>L(this,null,function*(){et.addStatus(i.customStatuses,new gt("","","",!1,"TODO")),yield Co(i,r)}))}).infoEl.remove();let a=[[N.t("settings.statuses.collections.anuppuccinTheme"),T0()],[N.t("settings.statuses.collections.auraTheme"),_0()],[N.t("settings.statuses.collections.borderTheme"),v0()],[N.t("settings.statuses.collections.ebullientworksTheme"),w0()],[N.t("settings.statuses.collections.itsThemeAndSlrvbCheckboxes"),k0()],[N.t("settings.statuses.collections.minimalTheme"),E0()],[N.t("settings.statuses.collections.thingsTheme"),D0()],[N.t("settings.statuses.collections.lytModeTheme"),S0()]];for(let[u,c]of a)new Ce.Setting(e).addButton(f=>{let p=N.t("settings.statuses.collections.buttons.addCollection.name",{themeName:u,numberOfStatuses:c.length});f.setButtonText(p).onClick(()=>L(this,null,function*(){yield eW(c,i,r)}))}).infoEl.remove();new Ce.Setting(e).addButton(u=>{u.setButtonText(N.t("settings.statuses.customStatuses.buttons.addAllUnknown.name")).setCta().onClick(()=>L(this,null,function*(){let d=this.plugin.getTasks().map(p=>p.status),f=Be.getInstance().findUnknownStatuses(d);f.length!==0&&(f.forEach(p=>{et.addStatus(i.customStatuses,p)}),yield Co(i,r))}))}).infoEl.remove(),new Ce.Setting(e).addButton(u=>{u.setButtonText(N.t("settings.statuses.customStatuses.buttons.resetCustomStatuses.name")).setWarning().onClick(()=>L(this,null,function*(){et.resetAllCustomStatuses(i),yield Co(i,r)}))}).infoEl.remove()}},Nu=ln;Nu.createFragmentWithHTML=e=>createFragment(r=>r.createDiv().innerHTML=e);function x0(n,t,e,r,i,s,a){let o=n.createEl("pre");o.addClass("row-for-status"),o.textContent=new ge(t).previewText();let l=new Ce.Setting(n);l.infoEl.replaceWith(o),a||l.addExtraButton(u=>{u.setIcon("cross").setTooltip("Delete").onClick(()=>L(this,null,function*(){et.deleteStatus(e,t)&&(yield Co(r,i))}))}),l.addExtraButton(u=>{u.setIcon("pencil").setTooltip("Edit").onClick(()=>L(this,null,function*(){let c=new Fn(s,t,a);c.onClose=()=>L(this,null,function*(){c.saved&&et.replaceStatus(e,t,c.statusConfiguration())&&(yield Co(r,i))}),c.open()}))}),l.infoEl.remove()}function eW(n,t,e){return L(this,null,function*(){et.bulkAddStatusCollection(t,n).forEach(i=>{new Ce.Notice(i)}),yield Co(t,e)})}function Co(n,t){return L(this,null,function*(){dt({statusSettings:n}),et.applyToStatusRegistry(n,Be.getInstance()),yield t.saveSettings(!0)})}function tW(n){let{settingEl:t,infoEl:e,controlEl:r}=n,i=r.querySelector("textarea");i!==null&&(t.style.display="block",e.style.marginRight="0px",i.style.minWidth="-webkit-fill-available")}function ri(n,t){n?n.setVisibility(t):console.warn("Setting has not be initialised. Can update visibility of setting UI - in setSettingVisibility")}wi();$s();var ls=require("obsidian");nd();nn();ay();function nW(n){console.error(n),new ls.Notice(n+`

This message has been written to the console.
`,1e4)}var Mf=class extends ls.EditorSuggest{constructor(e,r,i){super(e);this.settings=r,this.plugin=i,e.scope.register([],"Tab",()=>{var a;let s=(a=this.context)==null?void 0:a.editor;return s?(s.exec("indentMore"),!1):!0})}onTrigger(e,r,i){if(!this.settings.autoSuggestInEditor)return null;let s=r.getLine(e.line);return US(s,e,r)?{start:{line:e.line,ch:0},end:{line:e.line,ch:s.length},query:s}:null}getSuggestions(e){var c,d,f;let r=e.query,i=e.editor.getCursor(),s=this.plugin.getTasks(),a=s.find(p=>p.taskLocation.path==e.file.path&&p.taskLocation.lineNumber==i.line),o=this.getMarkdownFileInfo(e),l=this.canSaveEdits(o);return((f=(d=(c=uu()).buildSuggestions)==null?void 0:d.call(c,r,i.ch,this.settings,s,l,a))!=null?f:[]).map(p=>me(U({},p),{context:e}))}getMarkdownFileInfo(e){return e.editor.cm.state.field(ls.editorInfoField)}canSaveEdits(e){return e instanceof ls.MarkdownView}renderSuggestion(e,r){r.setText(e.displayText)}selectSuggestion(e,r){return L(this,null,function*(){var u,c,d;let i=e.context.editor;if(e.suggestionType==="empty"){this.close();let f=new KeyboardEvent("keydown",{code:"Enter",key:"Enter"});(c=(u=i==null?void 0:i.cm)==null?void 0:u.contentDOM)==null||c.dispatchEvent(f);return}if(e.taskItDependsOn!=null){let f=td(e.taskItDependsOn,this.plugin.getTasks().map(p=>p.id));if(e.appendText+=` ${f.id}`,e.taskItDependsOn!==f)if(e.context.file.path==f.path){let p=e.taskItDependsOn.originalMarkdown,b={line:e.taskItDependsOn.lineNumber,ch:0},T={line:e.taskItDependsOn.lineNumber,ch:p.length},_=e.context.editor.getRange(b,T);if(_!==p){let O=`Error adding new ID, due to mismatched data in Tasks memory and the editor:
task line in memory: '${e.taskItDependsOn.originalMarkdown}'

task line in editor: '${_}'

file: '${f.path}'
`;nW(O);return}e.context.editor.replaceRange(f.toFileLineString(),b,T)}else ar({originalTask:e.taskItDependsOn,newTasks:f})}let s=e.context.editor.getCursor(),a={line:s.line,ch:(d=e.insertAt)!=null?d:s.ch},o=e.insertSkip?{line:s.line,ch:a.ch+e.insertSkip}:void 0;e.context.editor.replaceRange(e.appendText,a,o),e.context.editor.setCursor({line:s.line,ch:a.ch+e.appendText.length});let l=this.getMarkdownFileInfo(e.context);this.canSaveEdits(l)&&(yield l.save())})}};Ga();var O0=(n,t)=>{let e,r=new Promise((a,o)=>{e=a});return t(n,a=>{let o=a.map(l=>l.toFileLineString()).join(`
`);e(o)}).open(),r};var C0=(n,t)=>{let e=xd({line:"",path:""});return new zi({app:n,task:e,onSubmit:t,allTasks:[]})};var M0=n=>({createTaskLineModal:()=>O0(n,C0),executeToggleTaskDoneCommand:(t,e)=>$y(t,e).text});Cn();var Rf=class extends R0.Plugin{get apiV1(){return M0(this.app)}onload(){return L(this,null,function*(){yield Zb(),rn.registerConsoleLogger(),py("info",N.t("main.loadingPlugin",{name:this.manifest.name,version:this.manifest.version})),yield this.loadSettings();let{loggingOptions:e}=le();rn.configure(e),this.addSettingTab(new Nu({plugin:this})),GE({metadataCache:this.app.metadataCache,vault:this.app.vault,workspace:this.app.workspace}),yield this.loadTaskStatuses();let r=new df({obsidianEvents:this.app.workspace});this.cache=new qs({metadataCache:this.app.metadataCache,vault:this.app.vault,workspace:this.app.workspace,events:r}),this.inlineRenderer=new kf({plugin:this}),this.queryRenderer=new Of({plugin:this,events:r}),this.setObsidianPropertiesTypes(),this.registerEditorExtension(p0()),this.registerEditorSuggest(new Mf(this.app,le(),this)),new cf({plugin:this})})}loadTaskStatuses(){return L(this,null,function*(){let{statusSettings:e}=le();et.applyToStatusRegistry(e,Be.getInstance())})}onunload(){var e;py("info",N.t("main.unloadingPlugin",{name:this.manifest.name,version:this.manifest.version})),(e=this.cache)==null||e.unload()}loadSettings(){return L(this,null,function*(){let e=yield this.loadData();dt(e),e=le(),Fe.getInstance().set(e.globalFilter),Fe.getInstance().setRemoveGlobalFilter(e.removeGlobalFilter),dr.getInstance().set(e.globalQuery),yield this.loadTaskStatuses()})}saveSettings(){return L(this,null,function*(){yield this.saveData(le())})}getTasks(){return this.cache===void 0?[]:this.cache.getTasks()}setObsidianPropertiesTypes(){var e;try{let r=this.app.metadataTypeManager,i=r.getAllProperties(),s=new Oi;for(let a of s.allPropertyNamesSorted()){let o=s.propertyType(a);((e=i[a])==null?void 0:e.type)!==o&&r.setType(a,o)}}catch(r){console.error("setObsidianPropertiesTypes error",r)}}};
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */

/* nosourcemap */